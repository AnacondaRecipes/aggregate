--- work/CMakeLists.txt.orig	2016-10-29 20:23:04.000000000 -0500
+++ work/CMakeLists.txt	2018-08-03 07:28:51.250712200 -0500
@@ -359,19 +359,19 @@
 
 IF(WIN32 AND MSVC)
   OPTION(PA_CONFIG_LIB_OUTPUT_PATH "Make sure that output paths are kept neat" OFF)
-  IF(CMAKE_CL_64)
-    SET(TARGET_POSTFIX x64)
+  IF("${CMAKE_SIZEOF_VOID_P}" STREQUAL "8")
+    SET(TARGET_POSTFIX _x64 CACHE STRING "Postfix for libraries")
     IF(PA_CONFIG_LIB_OUTPUT_PATH)
       SET(LIBRARY_OUTPUT_PATH ${CMAKE_CURRENT_BINARY_DIR}/bin/x64)
     ENDIF()
   ELSE()
-    SET(TARGET_POSTFIX x86)
+    SET(TARGET_POSTFIX _x86 CACHE STRING "Postfix for libraries")
     IF(PA_CONFIG_LIB_OUTPUT_PATH)
       SET(LIBRARY_OUTPUT_PATH ${CMAKE_CURRENT_BINARY_DIR}/bin/Win32)
     ENDIF()
   ENDIF()
-  SET_TARGET_PROPERTIES(portaudio PROPERTIES OUTPUT_NAME portaudio_${TARGET_POSTFIX} FOLDER "Portaudio")
-  SET_TARGET_PROPERTIES(portaudio_static PROPERTIES OUTPUT_NAME portaudio_static_${TARGET_POSTFIX} FOLDER "Portaudio")
+  SET_TARGET_PROPERTIES(portaudio PROPERTIES OUTPUT_NAME portaudio${TARGET_POSTFIX} FOLDER "Portaudio")
+  SET_TARGET_PROPERTIES(portaudio_static PROPERTIES OUTPUT_NAME portaudio_static${TARGET_POSTFIX} FOLDER "Portaudio")
 ELSE()
   IF(APPLE AND CMAKE_VERSION VERSION_GREATER 3.4.2)
     OPTION(PA_OUTPUT_OSX_FRAMEWORK "Generate an OS X framework instead of the simple library" OFF)
