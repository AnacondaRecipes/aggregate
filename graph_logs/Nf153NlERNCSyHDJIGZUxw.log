[taskcluster 2026-01-22T14:17:40.787Z] Worker Type (aws/windows-server-2025-amd64) settings:
[taskcluster 2026-01-22T14:17:40.787Z]   {
[taskcluster 2026-01-22T14:17:40.787Z]     "availability-zone": "us-east-1b",
[taskcluster 2026-01-22T14:17:40.787Z]     "config": {
[taskcluster 2026-01-22T14:17:40.787Z]       "deploymentId": "c6b09417b68019d18145379068aa6ae0b889d60d9db641be0a579416b4de53b3"
[taskcluster 2026-01-22T14:17:40.787Z]     },
[taskcluster 2026-01-22T14:17:40.787Z]     "generic-worker": {
[taskcluster 2026-01-22T14:17:40.787Z]       "config": {
[taskcluster 2026-01-22T14:17:40.787Z]         "headlessTasks": true
[taskcluster 2026-01-22T14:17:40.787Z]       },
[taskcluster 2026-01-22T14:17:40.787Z]       "engine": "multiuser",
[taskcluster 2026-01-22T14:17:40.787Z]       "go-arch": "amd64",
[taskcluster 2026-01-22T14:17:40.787Z]       "go-os": "windows",
[taskcluster 2026-01-22T14:17:40.787Z]       "go-version": "go1.24.5",
[taskcluster 2026-01-22T14:17:40.787Z]       "release": "https://github.com/taskcluster/taskcluster/releases/tag/v88.0.2",
[taskcluster 2026-01-22T14:17:40.787Z]       "revision": "fcaf4a25fc4a3eb8543bc8605d77ce319306d7c6",
[taskcluster 2026-01-22T14:17:40.787Z]       "source": "https://github.com/taskcluster/taskcluster/commits/fcaf4a25fc4a3eb8543bc8605d77ce319306d7c6",
[taskcluster 2026-01-22T14:17:40.787Z]       "version": "88.0.2"
[taskcluster 2026-01-22T14:17:40.787Z]     },
[taskcluster 2026-01-22T14:17:40.787Z]     "image": "ami-0c4faad820b2120c4",
[taskcluster 2026-01-22T14:17:40.787Z]     "instance-id": "i-08c97c9f9d7918f5e",
[taskcluster 2026-01-22T14:17:40.787Z]     "instance-type": "z1d.2xlarge",
[taskcluster 2026-01-22T14:17:40.787Z]     "local-ipv4": "10.2.126.99",
[taskcluster 2026-01-22T14:17:40.787Z]     "public-hostname": "ec2-100-31-192-33.compute-1.amazonaws.com",
[taskcluster 2026-01-22T14:17:40.787Z]     "public-ipv4": "100.31.192.33",
[taskcluster 2026-01-22T14:17:40.787Z]     "region": "us-east-1"
[taskcluster 2026-01-22T14:17:40.787Z]   }
[taskcluster 2026-01-22T14:17:40.788Z] Task ID: Nf153NlERNCSyHDJIGZUxw
[taskcluster 2026-01-22T14:17:40.788Z] === Task Starting ===
[taskcluster 2026-01-22T14:17:40.962Z] Uploading redirect artifact public/logs/live.log to URL https://ws.taskcluster.anacondaconnect.com/us-east-1.i-08c97c9f9d7918f5e.60099/log/V89r4c9PTSypAGiGiuHAsg with mime type "text/plain; charset=utf-8" and expiry 2026-01-22T16:32:40.924Z
[taskcluster 2026-01-22T14:17:41.065Z] Executing command 0: powershell.exe  -Command  "& {[System.Text.Encoding]::UTF8.GetString([System.Convert]::FromBase64String('IyEvdXNyL2Jpbi9lbnYgcHl0aG9uMwppbXBvcnQgYmFzZTY0CmltcG9ydCBqc29uCmltcG9ydCBvcwppbXBvcnQgc3lzCmZyb20gdXJsbGliLnJlcXVlc3QgaW1wb3J0IHVybG9wZW4KCgpkZWYgZGVzZXJpYWxpemVfYmluKHRhc2tjbHVzdGVyX3Byb3h5X3VybDogc3RyLCB0YXNrX2lkOiBzdHIpIC0+IE5vbmU6CgogICAgdHJ5OgogICAgICAgIHdpdGggdXJsb3BlbihmInt0YXNrY2x1c3Rlcl9wcm94eV91cmx9L2FwaS9xdWV1ZS92MS90YXNrL3t0YXNrX2lkfSIpIGFzIHJlc3BvbnNlOiAgIyBub3NlYwogICAgICAgICAgICByZXNwb25zZV9kYXRhID0gcmVzcG9uc2UucmVhZCgpCiAgICAgICAgICAgIGRhdGEgPSBqc29uLmxvYWRzKHJlc3BvbnNlX2RhdGEuZGVjb2RlKCkpCiAgICAgICAgICAgIGJpbl9maWxlczogZGljdCA9IGRhdGEuZ2V0KCJleHRyYSIsIHt9KS5nZXQoImJpbiIsIHt9KQogICAgICAgICAgICBmb3IgYmluX2ZpbGUgaW4gYmluX2ZpbGVzOgogICAgICAgICAgICAgICAgZW5jb2RlZF9jb250ZW50ID0gYmluX2ZpbGVzW2Jpbl9maWxlXQogICAgICAgICAgICAgICAgdHJ5OgogICAgICAgICAgICAgICAgICAgIGRlY29kZWRfY29udGVudCA9IGJhc2U2NC5iNjRkZWNvZGUoZW5jb2RlZF9jb250ZW50KQogICAgICAgICAgICAgICAgZXhjZXB0IChWYWx1ZUVycm9yLCBUeXBlRXJyb3IpIGFzIGU6CiAgICAgICAgICAgICAgICAgICAgcmFpc2UgVmFsdWVFcnJvcihmIkZhaWxlZCB0byBkZWNvZGUgYmFzZTY0IGNvbnRlbnQgZm9yIHtiaW5fZmlsZX06IHtlfSIpCiAgICAgICAgICAgICAgICB3aXRoIG9wZW4oZiJ7YmluX2ZpbGV9IiwgIndiIikgYXMgZjoKICAgICAgICAgICAgICAgICAgICBmLndyaXRlKGRlY29kZWRfY29udGVudCkKICAgICAgICAgICAgICAgICAgICBwcmludChmIlNlcmlhbGl6ZWQge2Jpbl9maWxlfSB0byB3b3JrZXIgc3VjY2Vzc2Z1bGx5LiIpCiAgICBleGNlcHQgRXhjZXB0aW9uIGFzIGU6CiAgICAgICAgcmFpc2UgVmFsdWVFcnJvcihmIkVycm9yIGZldGNoaW5nIHRhc2sgZGF0YToge2V9IikgZnJvbSBlCgoKaWYgX19uYW1lX18gPT0gIl9fbWFpbl9fIjoKICAgIHRyeToKICAgICAgICBpZiAiVEFTS19JRCIgbm90IGluIG9zLmVudmlyb246CiAgICAgICAgICAgIHByaW50KCJUQVNLX0lEIGlzIG5vdCBzZXQiLCBmaWxlPXN5cy5zdGRlcnIpCiAgICAgICAgICAgIHN5cy5leGl0KDEpCiAgICAgICAgaWYgIlRBU0tDTFVTVEVSX1BST1hZX1VSTCIgbm90IGluIG9zLmVudmlyb246CiAgICAgICAgICAgIHByaW50KCJUQVNLQ0xVU1RFUl9QUk9YWV9VUkwgaXMgbm90IHNldCIsIGZpbGU9c3lzLnN0ZGVycikKICAgICAgICAgICAgc3lzLmV4aXQoMSkKCiAgICAgICAgZGVzZXJpYWxpemVfYmluKG9zLmVudmlyb24uZ2V0KCJUQVNLQ0xVU1RFUl9QUk9YWV9VUkwiKSwgb3MuZW52aXJvbi5nZXQoIlRBU0tfSUQiKSkKCiAgICBleGNlcHQgRXhjZXB0aW9uIGFzIGU6CiAgICAgICAgcHJpbnQoZiJFcnJvciBkZXNlcmlhbGl6aW5nIHRvIHdvcmtlcjoge2V9IiwgZmlsZT1zeXMuc3RkZXJyKQogICAgICAgIHN5cy5leGl0KDEpCg==')) | Set-Content deserialize_bin.py -Encoding UTF8; mkdir public}  "

C:\Users\task_176909145145160>powershell.exe  -Command  "& {[System.Text.Encoding]::UTF8.GetString([System.Convert]::FromBase64String('IyEvdXNyL2Jpbi9lbnYgcHl0aG9uMwppbXBvcnQgYmFzZTY0CmltcG9ydCBqc29uCmltcG9ydCBvcwppbXBvcnQgc3lzCmZyb20gdXJsbGliLnJlcXVlc3QgaW1wb3J0IHVybG9wZW4KCgpkZWYgZGVzZXJpYWxpemVfYmluKHRhc2tjbHVzdGVyX3Byb3h5X3VybDogc3RyLCB0YXNrX2lkOiBzdHIpIC0+IE5vbmU6CgogICAgdHJ5OgogICAgICAgIHdpdGggdXJsb3BlbihmInt0YXNrY2x1c3Rlcl9wcm94eV91cmx9L2FwaS9xdWV1ZS92MS90YXNrL3t0YXNrX2lkfSIpIGFzIHJlc3BvbnNlOiAgIyBub3NlYwogICAgICAgICAgICByZXNwb25zZV9kYXRhID0gcmVzcG9uc2UucmVhZCgpCiAgICAgICAgICAgIGRhdGEgPSBqc29uLmxvYWRzKHJlc3BvbnNlX2RhdGEuZGVjb2RlKCkpCiAgICAgICAgICAgIGJpbl9maWxlczogZGljdCA9IGRhdGEuZ2V0KCJleHRyYSIsIHt9KS5nZXQoImJpbiIsIHt9KQogICAgICAgICAgICBmb3IgYmluX2ZpbGUgaW4gYmluX2ZpbGVzOgogICAgICAgICAgICAgICAgZW5jb2RlZF9jb250ZW50ID0gYmluX2ZpbGVzW2Jpbl9maWxlXQogICAgICAgICAgICAgICAgdHJ5OgogICAgICAgICAgICAgICAgICAgIGRlY29kZWRfY29udGVudCA9IGJhc2U2NC5iNjRkZWNvZGUoZW5jb2RlZF9jb250ZW50KQogICAgICAgICAgICAgICAgZXhjZXB0IChWYWx1ZUVycm9yLCBUeXBlRXJyb3IpIGFzIGU6CiAgICAgICAgICAgICAgICAgICAgcmFpc2UgVmFsdWVFcnJvcihmIkZhaWxlZCB0byBkZWNvZGUgYmFzZTY0IGNvbnRlbnQgZm9yIHtiaW5fZmlsZX06IHtlfSIpCiAgICAgICAgICAgICAgICB3aXRoIG9wZW4oZiJ7YmluX2ZpbGV9IiwgIndiIikgYXMgZjoKICAgICAgICAgICAgICAgICAgICBmLndyaXRlKGRlY29kZWRfY29udGVudCkKICAgICAgICAgICAgICAgICAgICBwcmludChmIlNlcmlhbGl6ZWQge2Jpbl9maWxlfSB0byB3b3JrZXIgc3VjY2Vzc2Z1bGx5LiIpCiAgICBleGNlcHQgRXhjZXB0aW9uIGFzIGU6CiAgICAgICAgcmFpc2UgVmFsdWVFcnJvcihmIkVycm9yIGZldGNoaW5nIHRhc2sgZGF0YToge2V9IikgZnJvbSBlCgoKaWYgX19uYW1lX18gPT0gIl9fbWFpbl9fIjoKICAgIHRyeToKICAgICAgICBpZiAiVEFTS19JRCIgbm90IGluIG9zLmVudmlyb246CiAgICAgICAgICAgIHByaW50KCJUQVNLX0lEIGlzIG5vdCBzZXQiLCBmaWxlPXN5cy5zdGRlcnIpCiAgICAgICAgICAgIHN5cy5leGl0KDEpCiAgICAgICAgaWYgIlRBU0tDTFVTVEVSX1BST1hZX1VSTCIgbm90IGluIG9zLmVudmlyb246CiAgICAgICAgICAgIHByaW50KCJUQVNLQ0xVU1RFUl9QUk9YWV9VUkwgaXMgbm90IHNldCIsIGZpbGU9c3lzLnN0ZGVycikKICAgICAgICAgICAgc3lzLmV4aXQoMSkKCiAgICAgICAgZGVzZXJpYWxpemVfYmluKG9zLmVudmlyb24uZ2V0KCJUQVNLQ0xVU1RFUl9QUk9YWV9VUkwiKSwgb3MuZW52aXJvbi5nZXQoIlRBU0tfSUQiKSkKCiAgICBleGNlcHQgRXhjZXB0aW9uIGFzIGU6CiAgICAgICAgcHJpbnQoZiJFcnJvciBkZXNlcmlhbGl6aW5nIHRvIHdvcmtlcjoge2V9IiwgZmlsZT1zeXMuc3RkZXJyKQogICAgICAgIHN5cy5leGl0KDEpCg==')) | Set-Content deserialize_bin.py -Encoding UTF8; mkdir public}  " 


    Directory: C:\Users\task_176909145145160


Mode                 LastWriteTime         Length Name                                                                 
----                 -------------         ------ ----                                                                 
d-----         1/22/2026   2:17 PM                public                                                               


[taskcluster 2026-01-22T14:17:42.496Z]                        Exit Code: 0
[taskcluster 2026-01-22T14:17:42.496Z]                        User Time: 15.625ms
[taskcluster 2026-01-22T14:17:42.496Z]                      Kernel Time: 15.625ms
[taskcluster 2026-01-22T14:17:42.496Z]                        Wall Time: 1.4298075s
[taskcluster 2026-01-22T14:17:42.496Z]  Average Available System Memory: 61.08 GiB
[taskcluster 2026-01-22T14:17:42.496Z]       Average System Memory Used: 2.21 GiB
[taskcluster 2026-01-22T14:17:42.496Z]          Peak System Memory Used: 2.22 GiB
[taskcluster 2026-01-22T14:17:42.496Z]              Total System Memory: 63.30 GiB
[taskcluster 2026-01-22T14:17:42.496Z]                           Result: SUCCEEDED
[taskcluster 2026-01-22T14:17:42.496Z] Executing command 1: C:\miniconda3\python.exe deserialize_bin.py

C:\Users\task_176909145145160>C:\miniconda3\python.exe deserialize_bin.py 
Serialized build.py to worker successfully.
Serialized shared_utils.py to worker successfully.
Serialized secret_manager.py to worker successfully.
Serialized deserialize_bin.py to worker successfully.
Serialized dump_job_params.py to worker successfully.
Serialized sign_conda_pkgs.py to worker successfully.
Serialized download_dependencies.py to worker successfully.
Serialized download_conda_build_config.py to worker successfully.
[taskcluster 2026-01-22T14:17:42.733Z]                        Exit Code: 0
[taskcluster 2026-01-22T14:17:42.733Z]                        User Time: 0s
[taskcluster 2026-01-22T14:17:42.733Z]                      Kernel Time: 46.875ms
[taskcluster 2026-01-22T14:17:42.733Z]                        Wall Time: 235.2879ms
[taskcluster 2026-01-22T14:17:42.733Z]                           Result: SUCCEEDED
[taskcluster 2026-01-22T14:17:42.733Z] Executing command 2: rem shared_utils.py

C:\Users\task_176909145145160>rem
[taskcluster 2026-01-22T14:17:42.799Z]                        Exit Code: 0
[taskcluster 2026-01-22T14:17:42.799Z]                        User Time: 15.625ms
[taskcluster 2026-01-22T14:17:42.799Z]                      Kernel Time: 31.25ms
[taskcluster 2026-01-22T14:17:42.799Z]                        Wall Time: 64.5041ms
[taskcluster 2026-01-22T14:17:42.799Z]                           Result: SUCCEEDED
[taskcluster 2026-01-22T14:17:42.799Z] Executing command 3: rem secret_manager.py

C:\Users\task_176909145145160>rem
[taskcluster 2026-01-22T14:17:42.863Z]                        Exit Code: 0
[taskcluster 2026-01-22T14:17:42.863Z]                        User Time: 15.625ms
[taskcluster 2026-01-22T14:17:42.863Z]                      Kernel Time: 15.625ms
[taskcluster 2026-01-22T14:17:42.863Z]                        Wall Time: 63.2679ms
[taskcluster 2026-01-22T14:17:42.863Z]                           Result: SUCCEEDED
[taskcluster 2026-01-22T14:17:42.863Z] Executing command 4: C:\miniconda3\python.exe dump_job_params.py

C:\Users\task_176909145145160>C:\miniconda3\python.exe dump_job_params.py 
{
  "provisionerId": "aws",
  "workerType": "windows-server-2025-amd64",
  "taskQueueId": "aws/windows-server-2025-amd64",
  "schedulerId": "package-build-platform",
  "projectId": "none",
  "taskGroupId": "B2akr3v2QU-r4B7C3PNLkg",
  "dependencies": [
    "B2akr3v2QU-r4B7C3PNLkg"
  ],
  "requires": "all-completed",
  "routes": [
    "pkg_orchestrator.v1"
  ],
  "priority": "lowest",
  "retries": 5,
  "created": "2026-01-22T14:16:38.906Z",
  "deadline": "2026-01-25T14:16:38.906Z",
  "expires": "2027-01-25T14:16:38.906Z",
  "scopes": [
    "queue:*",
    "assume:task-by-type:build-conda",
    "secrets:get:GH_ACCESS_TOKEN",
    "assume:task-by-type:build-signing:dev",
    "secrets:get:codesigning:windows:dev:*"
  ],
  "payload": {
    "env": {
      "PLATFORM": "win-64",
      "RECIPE_DIR": "recipe",
      "SRC_CHANNELS": "main",
      "BUILD_OPTIONS": "--error-overlinking --suppress-variables --skip-existing",
      "FEEDSTOCK_REF": "50203d9ac8ed7246e6f645a22eafc7f50960edd8",
      "FEEDSTOCK_URL": "https://github.com/AnacondaRecipes/sphinx-feedstock.git",
      "PYTHON_VERSION": "3.11",
      "TREAT_AS_PRIVATE": "true",
      "PBP_CODESIGN_CERT": "dev",
      "RUN_FROM_DEPENDENCIES": "false"
    },
    "command": [
      "powershell.exe  -Command  \"& {[System.Text.Encoding]::UTF8.GetString([System.Convert]::FromBase64String('IyEvdXNyL2Jpbi9lbnYgcHl0aG9uMwppbXBvcnQgYmFzZTY0CmltcG9ydCBqc29uCmltcG9ydCBvcwppbXBvcnQgc3lzCmZyb20gdXJsbGliLnJlcXVlc3QgaW1wb3J0IHVybG9wZW4KCgpkZWYgZGVzZXJpYWxpemVfYmluKHRhc2tjbHVzdGVyX3Byb3h5X3VybDogc3RyLCB0YXNrX2lkOiBzdHIpIC0+IE5vbmU6CgogICAgdHJ5OgogICAgICAgIHdpdGggdXJsb3BlbihmInt0YXNrY2x1c3Rlcl9wcm94eV91cmx9L2FwaS9xdWV1ZS92MS90YXNrL3t0YXNrX2lkfSIpIGFzIHJlc3BvbnNlOiAgIyBub3NlYwogICAgICAgICAgICByZXNwb25zZV9kYXRhID0gcmVzcG9uc2UucmVhZCgpCiAgICAgICAgICAgIGRhdGEgPSBqc29uLmxvYWRzKHJlc3BvbnNlX2RhdGEuZGVjb2RlKCkpCiAgICAgICAgICAgIGJpbl9maWxlczogZGljdCA9IGRhdGEuZ2V0KCJleHRyYSIsIHt9KS5nZXQoImJpbiIsIHt9KQogICAgICAgICAgICBmb3IgYmluX2ZpbGUgaW4gYmluX2ZpbGVzOgogICAgICAgICAgICAgICAgZW5jb2RlZF9jb250ZW50ID0gYmluX2ZpbGVzW2Jpbl9maWxlXQogICAgICAgICAgICAgICAgdHJ5OgogICAgICAgICAgICAgICAgICAgIGRlY29kZWRfY29udGVudCA9IGJhc2U2NC5iNjRkZWNvZGUoZW5jb2RlZF9jb250ZW50KQogICAgICAgICAgICAgICAgZXhjZXB0IChWYWx1ZUVycm9yLCBUeXBlRXJyb3IpIGFzIGU6CiAgICAgICAgICAgICAgICAgICAgcmFpc2UgVmFsdWVFcnJvcihmIkZhaWxlZCB0byBkZWNvZGUgYmFzZTY0IGNvbnRlbnQgZm9yIHtiaW5fZmlsZX06IHtlfSIpCiAgICAgICAgICAgICAgICB3aXRoIG9wZW4oZiJ7YmluX2ZpbGV9IiwgIndiIikgYXMgZjoKICAgICAgICAgICAgICAgICAgICBmLndyaXRlKGRlY29kZWRfY29udGVudCkKICAgICAgICAgICAgICAgICAgICBwcmludChmIlNlcmlhbGl6ZWQge2Jpbl9maWxlfSB0byB3b3JrZXIgc3VjY2Vzc2Z1bGx5LiIpCiAgICBleGNlcHQgRXhjZXB0aW9uIGFzIGU6CiAgICAgICAgcmFpc2UgVmFsdWVFcnJvcihmIkVycm9yIGZldGNoaW5nIHRhc2sgZGF0YToge2V9IikgZnJvbSBlCgoKaWYgX19uYW1lX18gPT0gIl9fbWFpbl9fIjoKICAgIHRyeToKICAgICAgICBpZiAiVEFTS19JRCIgbm90IGluIG9zLmVudmlyb246CiAgICAgICAgICAgIHByaW50KCJUQVNLX0lEIGlzIG5vdCBzZXQiLCBmaWxlPXN5cy5zdGRlcnIpCiAgICAgICAgICAgIHN5cy5leGl0KDEpCiAgICAgICAgaWYgIlRBU0tDTFVTVEVSX1BST1hZX1VSTCIgbm90IGluIG9zLmVudmlyb246CiAgICAgICAgICAgIHByaW50KCJUQVNLQ0xVU1RFUl9QUk9YWV9VUkwgaXMgbm90IHNldCIsIGZpbGU9c3lzLnN0ZGVycikKICAgICAgICAgICAgc3lzLmV4aXQoMSkKCiAgICAgICAgZGVzZXJpYWxpemVfYmluKG9zLmVudmlyb24uZ2V0KCJUQVNLQ0xVU1RFUl9QUk9YWV9VUkwiKSwgb3MuZW52aXJvbi5nZXQoIlRBU0tfSUQiKSkKCiAgICBleGNlcHQgRXhjZXB0aW9uIGFzIGU6CiAgICAgICAgcHJpbnQoZiJFcnJvciBkZXNlcmlhbGl6aW5nIHRvIHdvcmtlcjoge2V9IiwgZmlsZT1zeXMuc3RkZXJyKQogICAgICAgIHN5cy5leGl0KDEpCg==')) | Set-Content deserialize_bin.py -Encoding UTF8; mkdir public}  \"",
      "C:\\miniconda3\\python.exe deserialize_bin.py",
      "rem shared_utils.py",
      "rem secret_manager.py",
      "C:\\miniconda3\\python.exe dump_job_params.py",
      "C:\\miniconda3\\python.exe download_conda_build_config.py",
      "C:\\miniconda3\\python.exe download_dependencies.py",
      "C:\\miniconda3\\python.exe build.py",
      "C:\\miniconda3\\python.exe sign_conda_pkgs.py"
    ],
    "features": {
      "taskclusterProxy": true
    },
    "artifacts": [
      {
        "path": "public",
        "type": "directory",
        "contentEncoding": "identity"
      }
    ],
    "maxRunTime": 7200
  },
  "metadata": {
    "name": "build-sphinx-feedstock-win-64_py3.11_3d6e7732924aa08f",
    "owner": "AbdulRehmanAlvi",
    "source": "http://taskcluster/tasks/create",
    "description": "Build task for sphinx-feedstock @ 50203d9 (50203d9ac8ed7246e6f645a22eafc7f50960edd8) win-64 3.11 c_compiler=vs2022 c_stdlib=vs c_stdlib_version=2022.14 channel_targets=defaults target_platform=win-64 2026-01-22 19:08:19"
  },
  "tags": {},
  "extra": {
    "bin": {
      "build.py": "IyEvdXNyL2Jpbi9lbnYgcHl0aG9uMwoKaW1wb3J0IGhhc2hsaWIKaW1wb3J0IG9zCmltcG9ydCBzaHV0aWwKaW1wb3J0IHN1YnByb2Nlc3MgICMgbm9zZWMKaW1wb3J0IHN5cwppbXBvcnQgdGFyZmlsZQpmcm9tIGNvbnRleHRsaWIgaW1wb3J0IG51bGxjb250ZXh0CmZyb20gcGF0aGxpYiBpbXBvcnQgUGF0aApmcm9tIHRlbXBmaWxlIGltcG9ydCBUZW1wb3JhcnlEaXJlY3RvcnkKCmZyb20gc2VjcmV0X21hbmFnZXIgaW1wb3J0IFNlY3JldCwgaW5pdF9naXRfYXNrcGFzcwpmcm9tIHNoYXJlZF91dGlscyBpbXBvcnQgKAogICAgY29uZGFfaW5kZXgsCiAgICBnZXRfYmFzZV9lbnZfYmluX3BhdGgsCiAgICBnZXRfY29uZGFfYmluLAogICAgZ2V0X2hvbWVfZGlyLAogICAgdGVtcG9yYXJ5X2NvbmRhcmNfd2l0aF9tdWx0aWNoYW5uZWxzLAopCgp1c2Vfc2hlbGwgPSBGYWxzZQppZiBvcy5uYW1lID09ICJudCI6CiAgICB1c2Vfc2hlbGwgPSBUcnVlCgoKZGVmIGNyZWF0ZV9idWlsZF9lbnYoc3JjX2NoYW5uZWxzOiBsaXN0W3N0cl0sIGVudjogZGljdCkgLT4gTm9uZToKICAgICIiIkNyZWF0ZSBhIGNvbmRhIGVudmlyb25tZW50IGZvciBidWlsZGluZyBwYWNrYWdlcy4iIiIKCiAgICAjIDEuIGNwaF9lbnYKICAgIGNwaF9lbnZfcGF0aCA9IGdldF9ob21lX2RpcigpIC8gImNwaCIKICAgIGNvbmRhX2NyZWF0ZV9lbnZfY21kID0gWwogICAgICAgIHN0cihnZXRfY29uZGFfYmluKCkpLAogICAgICAgICJjcmVhdGUiLAogICAgICAgICItLXByZWZpeCIsCiAgICAgICAgc3RyKGNwaF9lbnZfcGF0aCksCiAgICAgICAgImNvbmRhLXBhY2thZ2UtaGFuZGxpbmciLAogICAgICAgICIteSIsCiAgICAgICAgIi0tcXVpZXQiLAogICAgXQogICAgcHJpbnQoZiJFeGVjdXRpbmcgY29tbWFuZDogeycgJy5qb2luKGNvbmRhX2NyZWF0ZV9lbnZfY21kKX0iLCBmbHVzaD1UcnVlKQogICAgcmVzdWx0ID0gc3VicHJvY2Vzcy5ydW4oY29uZGFfY3JlYXRlX2Vudl9jbWQsIHNoZWxsPXVzZV9zaGVsbCkgICMgbm9zZWMKICAgIGlmIHJlc3VsdC5yZXR1cm5jb2RlICE9IDA6CiAgICAgICAgcmFpc2UgUnVudGltZUVycm9yKCJFcnJvciBjcmVhdGluZyBjb25kYSBlbnZpcm9ubWVudC4gU2VlIGFib3ZlIGZvciBlcnJvci4iKQoKICAgICMgMi4gYnVpbGRfZW52CiAgICBidWlsZF9lbnZfcGF0aCA9IGdldF9ob21lX2RpcigpIC8gImJsZCIKICAgIGNvbmRhX2NyZWF0ZV9lbnZfY21kID0gWwogICAgICAgIHN0cihnZXRfY29uZGFfYmluKCkpLAogICAgICAgICJjcmVhdGUiLAogICAgICAgICItLXByZWZpeCIsCiAgICAgICAgc3RyKGJ1aWxkX2Vudl9wYXRoKSwKICAgICAgICAiY29uZGEtYnVpbGQ9PTI1LjEuMiIsCiAgICAgICAgIi15IiwKICAgICAgICAiLS1xdWlldCIsCiAgICBdCgogICAgaWYgc3JjX2NoYW5uZWxzOgogICAgICAgIGNvbmRhX2NyZWF0ZV9lbnZfY21kICs9IHNyY19jaGFubmVscwoKICAgIHByaW50KGYiRXhlY3V0aW5nIGNvbW1hbmQ6IHsnICcuam9pbihjb25kYV9jcmVhdGVfZW52X2NtZCl9IiwgZmx1c2g9VHJ1ZSkKICAgIHJlc3VsdCA9IHN1YnByb2Nlc3MucnVuKGNvbmRhX2NyZWF0ZV9lbnZfY21kLCBzaGVsbD11c2Vfc2hlbGwsIGVudj1lbnYpICAjIG5vc2VjCiAgICBpZiByZXN1bHQucmV0dXJuY29kZSAhPSAwOgogICAgICAgIHJhaXNlIFJ1bnRpbWVFcnJvcigiRXJyb3IgY3JlYXRpbmcgY29uZGEgZW52aXJvbm1lbnQuIFNlZSBhYm92ZSBmb3IgZXJyb3IuIikKCgpkZWYgY29uZGFfYnVpbGQoCiAgICBmZWVkc3RvY2tfcGF0aDogUGF0aCwgYnVpbGRfZGlyOiBQYXRoLCBzcmNfY2hhbm5lbHM6IGxpc3Rbc3RyXSwgZW52OiBkaWN0LCBzcmNfY2FjaGU6IHN0ciA9IE5vbmUKKSAtPiBOb25lOgogICAgIyBBY3RpdmF0ZSBlbnYgYW5kIHJ1biBjb25kYSBidWlsZCAtLXRlc3QKICAgICMgTm90ZTogc3VicHJvY2VzcyBjYW5ub3QgYWN0aXZhdGUgZW52IGluIGN1cnJlbnQgcHJvY2Vzcywgc28gd2UgY2FsbCBjb25kYSBydW4KICAgICMgTm90ZTogLW0gLi9jb25kYV9idWlsZF9jb25maWdfcGJwX2dlbmVyYXRlZC55YW1sIC0tY2xvYmJlci1maWxlIC4vY29uZGFfYnVpbGRfY29uZmlnX3BicF9nZW5lcmF0ZWQueWFtbAogICAgIyBpcyByZXF1aXJlZCB0byBpZ25vcmUgcmVjaXBlIGNiYyBhbmQgb25seSB1c2UgdGhlIG9uZSBncmFwaCBnZW5lcmF0aW9uIGNyZWF0ZWQuCiAgICBidWlsZF9lbnZfcGF0aCA9IGdldF9ob21lX2RpcigpIC8gImJsZCIKICAgIGNyb290X3BhdGggPSBnZXRfaG9tZV9kaXIoKSAvICJjcm9vdCIKCiAgICBidWlsZF9jbWQgPSBbCiAgICAgICAgc3RyKGdldF9jb25kYV9iaW4oKSksCiAgICAgICAgInJ1biIsCiAgICAgICAgIi0tbGl2ZS1zdHJlYW0iLAogICAgICAgICItLXByZWZpeCIsCiAgICAgICAgc3RyKGJ1aWxkX2Vudl9wYXRoKSwKICAgICAgICAiY29uZGEiLAogICAgICAgICJidWlsZCIsCiAgICAgICAgc3RyKGZlZWRzdG9ja19wYXRoKSwKICAgICAgICAiLS1jYWNoZS1kaXIiLAogICAgICAgIHN0cihzcmNfY2FjaGUpLAogICAgICAgICItLW91dHB1dC1mb2xkZXIiLAogICAgICAgIHN0cihidWlsZF9kaXIpLAogICAgICAgICItLWNyb290IiwKICAgICAgICBzdHIoY3Jvb3RfcGF0aCksCiAgICAgICAgIi1tIiwKICAgICAgICAiLi9jb25kYV9idWlsZF9jb25maWdfcGJwX2dlbmVyYXRlZC55YW1sIiwKICAgICAgICAiLS1jbG9iYmVyLWZpbGUiLAogICAgICAgICIuL2NvbmRhX2J1aWxkX2NvbmZpZ19wYnBfZ2VuZXJhdGVkLnlhbWwiLAogICAgICAgICItLW92ZXJyaWRlLWNoYW5uZWxzIiwKICAgICAgICAiLS1uby10ZXN0IiwKICAgICAgICAiLS1uby12ZXJpZnkiLAogICAgXQoKICAgIGlmIHNyY19jaGFubmVsczoKICAgICAgICBidWlsZF9jbWQgKz0gc3JjX2NoYW5uZWxzCgogICAgYnVpbGRfb3B0aW9ucyA9IGVudi5nZXQoIkJVSUxEX09QVElPTlMiLCAiIikKICAgIGlmIGJ1aWxkX29wdGlvbnM6CiAgICAgICAgYnVpbGRfb3B0aW9ucyA9IGJ1aWxkX29wdGlvbnMuc3BsaXQoIiAiKQogICAgICAgIHByaW50KGYiVXNpbmcgdGhlIGZvbGxvd2luZyBidWlsZCB0aW1lIG9wdGlvbnM6IHtidWlsZF9vcHRpb25zfSIsIGZsdXNoPVRydWUpCiAgICAgICAgYnVpbGRfY21kLmV4dGVuZChidWlsZF9vcHRpb25zKQoKICAgIHRyZWF0X2FzX3ByaXZhdGVfcmVwbyA9IGJvb2woZW52LmdldCgiVFJFQVRfQVNfUFJJVkFURSIsIFRydWUpKQogICAgd2l0aCBUZW1wb3JhcnlEaXJlY3RvcnkocHJlZml4PSJjb25kYV9wa2dzXyIpIGFzIHRtcF9wa2dzX2RpcjoKICAgICAgICAjIFNvbWUgcGFja2FnZXMgbWF5IHRyaWdnZXIgZG93bmxvYWRzIGR1cmluZyB0aGUgYnVpbGQvdGVzdCBwaGFzZS4KICAgICAgICAjIFNldHRpbmcgQ09OREFfUEtHU19ESVJTIGVuc3VyZXMgY29uZGEgaGFzIGEgd3JpdGFibGUgY2FjaGUgZGlyZWN0b3J5CiAgICAgICAgIyBmb3IgYW55IHJlcXVpcmVkIGRlcGVuZGVuY2llcywgYXZvaWRpbmcgcGVybWlzc2lvbiBlcnJvcnMgaW4gbG9ja2VkLWRvd24gZW52aXJvbm1lbnRzLgoKICAgICAgICAjIENob29zZSBjb250ZXh0IG1hbmFnZXIKICAgICAgICBpZiB0cmVhdF9hc19wcml2YXRlX3JlcG86CiAgICAgICAgICAgIGNtID0gaW5pdF9naXRfYXNrcGFzcyhTZWNyZXQoIkdIX0FDQ0VTU19UT0tFTiIsIGZhaWxfaWZfbWlzc2luZz1GYWxzZSksIGVudj1lbnYpCiAgICAgICAgZWxzZToKICAgICAgICAgICAgY20gPSBudWxsY29udGV4dChlbnYpCgogICAgICAgIHdpdGggY20gYXMgZ2l0X2VudjoKICAgICAgICAgICAgZ2l0X2VudlsiQ09OREFfUEtHU19ESVJTIl0gPSB0bXBfcGtnc19kaXIKICAgICAgICAgICAgZ2l0X2VudlsiQ09OREFfQ0hBTk5FTF9QUklPUklUWSJdID0gInN0cmljdCIKCiAgICAgICAgICAgIHByaW50KGYiRXhlY3V0aW5nIGNvbW1hbmQ6IHsnICcuam9pbihidWlsZF9jbWQpfSIsIGZsdXNoPVRydWUpCiAgICAgICAgICAgIHJlc3VsdCA9IHN1YnByb2Nlc3MucnVuKGJ1aWxkX2NtZCwgZW52PWdpdF9lbnYsIHNoZWxsPXVzZV9zaGVsbCkgICMgbm9zZWMKICAgICAgICAgICAgaWYgcmVzdWx0LnJldHVybmNvZGUgIT0gMDoKICAgICAgICAgICAgICAgIHJhaXNlIFJ1bnRpbWVFcnJvcigiRXJyb3IgcnVubmluZyBjb25kYSBidWlsZCAtLW5vLXRlc3QuIFNlZSBhYm92ZSBmb3IgZXJyb3IuIikKCgpkZWYgZ2V0X2ZlZWRzdG9jayhmZWVkc3RvY2tfdXJsOiBzdHIsIGZlZWRzdG9ja19yZWY6IHN0cikgLT4gc3RyOgoKICAgIHByaW50KGYiRGVidWc6Q2xvbmluZyBmZWVkc3RvY2sgZnJvbSB7ZmVlZHN0b2NrX3VybH0uLi4iLCBmbHVzaD1UcnVlKQoKICAgIGdpdF9iaW5hcnkgPSBzdHIoZ2V0X2Jhc2VfZW52X2Jpbl9wYXRoKCkgLyAiZ2l0IikKCiAgICB0cmVhdF9hc19wcml2YXRlX3JlcG8gPSBib29sKG9zLmVudmlyb24uZ2V0KCJUUkVBVF9BU19QUklWQVRFIiwgVHJ1ZSkpCiAgICAjIENob29zZSBjb250ZXh0IG1hbmFnZXIKICAgIGlmIHRyZWF0X2FzX3ByaXZhdGVfcmVwbzoKICAgICAgICBjbSA9IGluaXRfZ2l0X2Fza3Bhc3MoU2VjcmV0KCJHSF9BQ0NFU1NfVE9LRU4iLCBmYWlsX2lmX21pc3Npbmc9RmFsc2UpKQogICAgZWxzZToKICAgICAgICBjbSA9IG51bGxjb250ZXh0KG9zLmVudmlyb24uY29weSgpKQoKICAgIHdpdGggY20gYXMgZ2l0X2VudjoKCiAgICAgICAgY2xvbmVfY21kID0gW2dpdF9iaW5hcnksICJjbG9uZSIsIGZlZWRzdG9ja191cmxdCiAgICAgICAgcmVzdWx0ID0gc3VicHJvY2Vzcy5ydW4oY2xvbmVfY21kLCBlbnY9Z2l0X2VudikgICMgbm9zZWMKICAgICAgICBpZiByZXN1bHQucmV0dXJuY29kZSAhPSAwOgogICAgICAgICAgICByYWlzZSBSdW50aW1lRXJyb3IoZiJFcnJvciBydW5uaW5nIGdpdCBjbG9uZSB7ZmVlZHN0b2NrX3VybH0uIFNlZSBhYm92ZSBmb3IgZXJyb3IuIikKCiAgICAgICAgZmVlZHN0b2NrX2RpciA9IG9zLnBhdGguYmFzZW5hbWUoZmVlZHN0b2NrX3VybCkKICAgICAgICBpZiBmZWVkc3RvY2tfZGlyLmVuZHN3aXRoKCIuZ2l0Iik6CiAgICAgICAgICAgIGZlZWRzdG9ja19kaXIgPSBmZWVkc3RvY2tfZGlyLnJzdHJpcCgiLmdpdCIpCgogICAgICAgICMgRmV0Y2ggdGhlIGV4YWN0IHRoaW5nIHdlIHBsYW4gdG8gY2hlY2sgb3V0IChicmFuY2gvdGFnL1NIQSkKICAgICAgICBmZXRjaF9jbWQgPSBbZ2l0X2JpbmFyeSwgIi1DIiwgZmVlZHN0b2NrX2RpciwgImZldGNoIiwgIi0tbm8tdGFncyIsICJvcmlnaW4iLCBmZWVkc3RvY2tfcmVmXQoKICAgICAgICByZXN1bHQgPSBzdWJwcm9jZXNzLnJ1bihmZXRjaF9jbWQsIGVudj1naXRfZW52KSAgIyBub3NlYwogICAgICAgIGlmIHJlc3VsdC5yZXR1cm5jb2RlICE9IDA6CiAgICAgICAgICAgIHJhaXNlIFJ1bnRpbWVFcnJvcihmIkVycm9yIHJ1bm5pbmcgZ2l0IGZldGNoIG9yaWdpbiB7ZmVlZHN0b2NrX3JlZn0uIikKCiAgICByZXN1bHQgPSBzdWJwcm9jZXNzLnJ1bihbZ2l0X2JpbmFyeSwgIi1DIiwgZmVlZHN0b2NrX2RpciwgImNoZWNrb3V0IiwgZmVlZHN0b2NrX3JlZl0pICAjIG5vc2VjCiAgICBpZiByZXN1bHQucmV0dXJuY29kZSAhPSAwOgogICAgICAgIHJhaXNlIFJ1bnRpbWVFcnJvcigKICAgICAgICAgICAgZiJFcnJvciBydW5uaW5nIGdpdCBjaGVja291dCB7ZmVlZHN0b2NrX2Rpcn0sIHtmZWVkc3RvY2tfcmVmfS4gU2VlIGFib3ZlIGZvciBlcnJvci4iCiAgICAgICAgKQoKICAgIHByaW50KGYiUmVub3JtYWxpemluZyBsaW5lIGVuZGluZ3MgaW4ge2ZlZWRzdG9ja19kaXJ9Li4uIiwgZmx1c2g9VHJ1ZSkKICAgIHJlc3VsdCA9IHN1YnByb2Nlc3MucnVuKFtnaXRfYmluYXJ5LCAiYWRkIiwgIi0tcmVub3JtYWxpemUiLCAiLiJdLCBjd2Q9c3RyKGZlZWRzdG9ja19kaXIpKSAgIyBub3NlYwogICAgaWYgcmVzdWx0LnJldHVybmNvZGUgIT0gMDoKICAgICAgICByYWlzZSBSdW50aW1lRXJyb3IoZiJFcnJvciBydW5uaW5nIGdpdCBhZGQgLS1yZW5vcm1hbGl6ZSB7ZmVlZHN0b2NrX2Rpcn0uIFNlZSBhYm92ZSBmb3IgZXJyb3IuIikKCiAgICByZXR1cm4gZmVlZHN0b2NrX2RpcgoKCmRlZiBnZXRfc2hhMjU2KHBhdGg6IFBhdGgpIC0+IHN0cjoKICAgIGggPSBoYXNobGliLnNoYTI1NigpCiAgICB3aXRoIG9wZW4ocGF0aCwgInJiIikgYXMgZjoKICAgICAgICBmb3IgY2h1bmsgaW4gaXRlcihsYW1iZGE6IGYucmVhZCg2NTUzNiksIGIiIik6CiAgICAgICAgICAgIGgudXBkYXRlKGNodW5rKQogICAgcmV0dXJuIGguaGV4ZGlnZXN0KCkKCgpkZWYgcGFja2FnZXNfZXhjbHVkZV9maWx0ZXIodGFyaW5mbzogdGFyZmlsZS5UYXJJbmZvKSAtPiB0YXJmaWxlLlRhckluZm8gfCBOb25lOgogICAgaWYgdGFyaW5mby5uYW1lID09ICJzb3VyY2VfY2FjaGVkLnRneiI6CiAgICAgICAgcmV0dXJuIE5vbmUKICAgIGlmIHRhcmluZm8ubmFtZSA9PSAic291cmNlX2NhY2hlIiBvciB0YXJpbmZvLm5hbWUuc3RhcnRzd2l0aCgic291cmNlX2NhY2hlLyIpOgogICAgICAgIHJldHVybiBOb25lCiAgICByZXR1cm4gdGFyaW5mbwoKCmRlZiBpc19jcmVkZW50aWFsX2hlbHBlcl9kZWZpbmVkKCkgLT4gYm9vbDoKICAgIGdpdF9iaW5hcnkgPSBzdHIoZ2V0X2Jhc2VfZW52X2Jpbl9wYXRoKCkgLyAiZ2l0IikKICAgIHJlc3VsdCA9IHN1YnByb2Nlc3MucnVuKAogICAgICAgIFtnaXRfYmluYXJ5LCAiY29uZmlnIiwgIi0tZ2V0IiwgImNyZWRlbnRpYWwuaGVscGVyIl0sIGNhcHR1cmVfb3V0cHV0PVRydWUsIHRleHQ9VHJ1ZQogICAgKSAgIyBub3NlYwogICAgb3V0cHV0ID0gcmVzdWx0LnN0ZG91dC5zdHJpcCgpCiAgICByZXR1cm4gYm9vbChvdXRwdXQpCgoKZGVmIHJlaW5zdGFsbF9naXQoKSAtPiBOb25lOgogICAgY29uZGFfYmluYXJ5ID0gc3RyKGdldF9jb25kYV9iaW4oKSkKICAgIGdpdF9iaW5hcnkgPSBzdHIoZ2V0X2Jhc2VfZW52X2Jpbl9wYXRoKCkgLyAiZ2l0IikKICAgICMgdW5pbnN0YWxsIGV4aXN0aW5nIGdpdCBwYWNrYWdlIGZyb20gdGhlIGVudgogICAgc3VicHJvY2Vzcy5ydW4oCiAgICAgICAgW2NvbmRhX2JpbmFyeSwgInJlbW92ZSIsICItLXllcyIsICJnaXQiXSwKICAgICAgICBjaGVjaz1UcnVlLAogICAgKSAgIyBub3NlYwoKICAgICMgaW5zdGFsbCB0aGUgbGF0ZXN0IGF2YWlsYWJsZSBnaXQgcGFja2FnZQogICAgc3VicHJvY2Vzcy5ydW4oCiAgICAgICAgW2NvbmRhX2JpbmFyeSwgImluc3RhbGwiLCAiLS15ZXMiLCAiZ2l0Il0sCiAgICAgICAgY2hlY2s9VHJ1ZSwKICAgICkgICMgbm9zZWMKCiAgICAjIGNvbmZpcm0gdmVyc2lvbgogICAgc3VicHJvY2Vzcy5ydW4oW2dpdF9iaW5hcnksICItLXZlcnNpb24iXSwgY2hlY2s9VHJ1ZSkgICMgbm9zZWMKICAgIHN1YnByb2Nlc3MucnVuKFtnaXRfYmluYXJ5LCAiY29uZmlnIiwgIi0tc3lzdGVtIiwgImNyZWRlbnRpYWwuaGVscGVyIiwgIiJdLCBjaGVjaz1UcnVlKSAgIyBub3NlYwogICAgc3VicHJvY2Vzcy5ydW4oW2dpdF9iaW5hcnksICJjb25maWciLCAiLS1zeXN0ZW0iLCAiY29yZS5hdXRvY3JsZiIsICJmYWxzZSJdLCBjaGVjaz1UcnVlKSAgIyBub3NlYwogICAgc3VicHJvY2Vzcy5ydW4oW2dpdF9iaW5hcnksICJjb25maWciLCAiLS1zeXN0ZW0iLCAiY29yZS5sb25ncGF0aHMiLCAidHJ1ZSJdLCBjaGVjaz1UcnVlKSAgIyBub3NlYwogICAgc3VicHJvY2Vzcy5ydW4oW2dpdF9iaW5hcnksICJjb25maWciLCAiLS1zeXN0ZW0iLCAic2FmZS5kaXJlY3RvcnkiLCAiKiJdLCBjaGVjaz1UcnVlKSAgIyBub3NlYwoKCmRlZiBtYWluKCk6CiAgICBvcy5lbnZpcm9uWyJDT05EQV9SRVBPUlRfRVJST1JTIl0gPSAiZmFsc2UiCgogICAgc2tpcF90Z3pfYXJjaGl2ZSA9IEZhbHNlCiAgICBpZiBzeXMucGxhdGZvcm0gPT0gIndpbjMyIjoKICAgICAgICAjIE5lZWQgdG8gc2tpcCwgYmVjYXVzZSB3aW5kb3dzIHdpbGwgc2lnbiBhZnRlciB0aGlzIHNjcmlwdAogICAgICAgIHNraXBfdGd6X2FyY2hpdmUgPSBUcnVlCgogICAgaWYgb3MubmFtZSA9PSAibnQiIGFuZCBib29sKG9zLmVudmlyb24uZ2V0KCJUUkVBVF9BU19QUklWQVRFIiwgVHJ1ZSkpOgogICAgICAgIHJlaW5zdGFsbF9naXQoKQoKICAgICMgQ2hlY2sgZm9yIGNvbmRhX2J1aWxkX2NvbmZpZ19wYnBfZ2VuZXJhdGVkLnlhbWwKICAgIGlmIG5vdCBQYXRoKCJjb25kYV9idWlsZF9jb25maWdfcGJwX2dlbmVyYXRlZC55YW1sIikuZXhpc3RzKCk6CiAgICAgICAgcHJpbnQoImNvbmRhX2J1aWxkX2NvbmZpZ19wYnBfZ2VuZXJhdGVkLnlhbWwgZG9lcyBub3QgZXhpc3QuIikKICAgICAgICByZXR1cm4gMQoKICAgIHBsYXRmb3JtID0gb3MuZW52aXJvbi5nZXQoIlBMQVRGT1JNIikKICAgIGlmIG5vdCBwbGF0Zm9ybToKICAgICAgICBwcmludCgiRXJyb3I6IFBMQVRGT1JNIGVudmlyb25tZW50IHZhcmlhYmxlIGlzIG5vdCBzZXQuIFBsZWFzZSBwcm92aWRlIHRoZSBQTEFURk9STSIpCiAgICAgICAgcmV0dXJuIDEKCiAgICBmZWVkc3RvY2tfdXJsID0gb3MuZW52aXJvbi5nZXQoIkZFRURTVE9DS19VUkwiKQogICAgaWYgbm90IGZlZWRzdG9ja191cmw6CiAgICAgICAgcHJpbnQoIkVycm9yOiBUaGUgZW52aXJvbm1lbnQgdmFyaWFibGUgRkVFRFNUT0NLX1VSTCBpcyBub3Qgc2V0LiIpCiAgICAgICAgcmV0dXJuIDEKCiAgICBmZWVkc3RvY2tfcmVmID0gb3MuZW52aXJvbi5nZXQoIkZFRURTVE9DS19SRUYiKQogICAgaWYgbm90IGZlZWRzdG9ja19yZWY6CiAgICAgICAgcHJpbnQoIkVycm9yOiBUaGUgZW52aXJvbm1lbnQgdmFyaWFibGUgRkVFRFNUT0NLX1JFRiBpcyBub3Qgc2V0LiIpCiAgICAgICAgcmV0dXJuIDEKCiAgICByZWNpcGVfZGlyID0gb3MuZW52aXJvbi5nZXQoIlJFQ0lQRV9ESVIiKQoKICAgIHJ1bl9mcm9tX2RlcHMgPSBvcy5lbnZpcm9uLmdldCgiUlVOX0ZST01fREVQRU5ERU5DSUVTIikKICAgIGlmIG5vdCBydW5fZnJvbV9kZXBzOgogICAgICAgIHByaW50KAogICAgICAgICAgICAiRXJyb3I6IFRoZSBlbnZpcm9ubWVudCB2YXJpYWJsZSBSVU5fRlJPTV9ERVBFTkRFTkNJRVMgaXMgbm90IHNldC5cblBsZWFzZSBwcm92aWRlIGEgYm9vbGVhbiBmbGFnICh0cnVlL2ZhbHNlKSB0byBpbmRpY2F0ZSB3aGV0aGVyIHRvIHRlc3QgZnJvbSBkZXBlbmRlbmNpZXMuIgogICAgICAgICkKICAgICAgICByZXR1cm4gMQoKICAgIGRlcGVuZGVuY2llcyA9IG9zLmVudmlyb24uZ2V0KCJERVBFTkRFTkNJRVMiKQogICAgaWYgcnVuX2Zyb21fZGVwcy5sb3dlcigpID09ICJ0cnVlIiBhbmQgbm90IGRlcGVuZGVuY2llczoKICAgICAgICBwcmludCgKICAgICAgICAgICAgIkVycm9yOiBUaGUgZW52aXJvbm1lbnQgdmFyaWFibGUgREVQRU5ERU5DSUVTIGlzIG5vdCBzZXQuXG5QbGVhc2UgcHJvdmlkZSBhIHNwYWNlLXNlcGFyYXRlZCBsaXN0IG9mIHRhc2sgSURzIGZvciB0aGUgZGVwZW5kZW5jaWVzIHRoYXQgbmVlZCB0byBiZSBidWlsdC4iCiAgICAgICAgKQogICAgICAgIHJldHVybiAxCgogICAgZXh0X3NyY19jaGFubmVscyA9IFtjaCBmb3IgY2ggaW4gb3MuZW52aXJvbi5nZXQoIlNSQ19DSEFOTkVMUyIsICIiKS5zdHJpcCgpLnNwbGl0KCIsIikgaWYgY2hdCiAgICBpbnRlcm5hbF9zcmNfY2hhbm5lbHMgPSBbXQoKICAgIHRyeToKCiAgICAgICAgaWYgcnVuX2Zyb21fZGVwcy5sb3dlcigpID09ICJ0cnVlIjoKICAgICAgICAgICAgdGVtcF9jaGFubmVsID0gUGF0aCgidGVtcF9jaGFubmVsIikKICAgICAgICAgICAgY29uZGFfaW5kZXgodGVtcF9jaGFubmVsLCB1c2Vfc2hlbGwpCiAgICAgICAgICAgIHRlbXBfY2hhbm5lbF91cmkgPSAoUGF0aChvcy5nZXRjd2QoKSkgLyB0ZW1wX2NoYW5uZWwpLnJlc29sdmUoKS5hc191cmkoKQogICAgICAgICAgICBpbnRlcm5hbF9zcmNfY2hhbm5lbHMgKz0gWyItYyIsIHRlbXBfY2hhbm5lbF91cmkucnN0cmlwKCIvIikgKyAiLyJdCgogICAgICAgIHB1YmxpY19kaXIgPSBQYXRoKCJwdWJsaWMiKQogICAgICAgIHB1YmxpY19kaXIubWtkaXIocGFyZW50cz1UcnVlLCBleGlzdF9vaz1UcnVlKQogICAgICAgIHNyY19jYWNoZSA9IFBhdGgoInNyY19jYWNoZSIpCiAgICAgICAgc3JjX2NhY2hlLm1rZGlyKHBhcmVudHM9VHJ1ZSwgZXhpc3Rfb2s9VHJ1ZSkKCiAgICAgICAgZmVlZHN0b2NrX2RpciA9IGdldF9mZWVkc3RvY2soZmVlZHN0b2NrX3VybCwgZmVlZHN0b2NrX3JlZikKICAgICAgICAjIENvbnN0cnVjdCBmdWxsIHBhdGggdG8gdGhlIGZlZWRzdG9jay4gSW5jbHVkZSByZWNpcGUgZGlyIGlmIGF2YWlsYWJsZS4KICAgICAgICBmZWVkc3RvY2tfcGF0aCA9IFBhdGgoZmVlZHN0b2NrX2RpcikKICAgICAgICBpZiByZWNpcGVfZGlyOgogICAgICAgICAgICBmZWVkc3RvY2tfcGF0aCAvPSByZWNpcGVfZGlyCgogICAgICAgICMgQ2hvb3NlIGNvbnRleHQgbWFuYWdlcgogICAgICAgIGlmIGV4dF9zcmNfY2hhbm5lbHM6CiAgICAgICAgICAgIGV4dF9tdWx0aWNoYW5uZWxfbmFtZSA9ICJwYnBfc3JjX211bHRpY2hhbm5lbCIKICAgICAgICAgICAgY20gPSB0ZW1wb3JhcnlfY29uZGFyY193aXRoX211bHRpY2hhbm5lbHMoCiAgICAgICAgICAgICAgICBjaGFubmVsX25hbWU9ZXh0X211bHRpY2hhbm5lbF9uYW1lLCBjaGFubmVscz1leHRfc3JjX2NoYW5uZWxzLCB1c2Vfc2hlbGw9dXNlX3NoZWxsCiAgICAgICAgICAgICkKICAgICAgICAgICAgc3JjX2NoYW5uZWxzID0gaW50ZXJuYWxfc3JjX2NoYW5uZWxzICsgWyItYyIsIGV4dF9tdWx0aWNoYW5uZWxfbmFtZV0KICAgICAgICBlbHNlOgogICAgICAgICAgICBjbSA9IG51bGxjb250ZXh0KG9zLmVudmlyb24uY29weSgpKQogICAgICAgICAgICBzcmNfY2hhbm5lbHMgPSBpbnRlcm5hbF9zcmNfY2hhbm5lbHMKCiAgICAgICAgd2l0aCBjbSBhcyBjb25kYV9lbnY6CiAgICAgICAgICAgIGNyZWF0ZV9idWlsZF9lbnYoc3JjX2NoYW5uZWxzLCBjb25kYV9lbnYpCgogICAgICAgICAgICBjb25kYV9idWlsZChmZWVkc3RvY2tfcGF0aCwgcHVibGljX2Rpciwgc3JjX2NoYW5uZWxzLCBjb25kYV9lbnYsIHNyY19jYWNoZS5hYnNvbHV0ZSgpKQoKICAgICAgICBmb3IgZmlsZSBpbiBQYXRoKHB1YmxpY19kaXIpLnJnbG9iKCIqLmNvbmRhIik6CiAgICAgICAgICAgIHByaW50KGYiVHJhbnNtdXRpbmcgZmlsZToge2ZpbGV9IiwgZmx1c2g9VHJ1ZSkKICAgICAgICAgICAgY3BoX2Vudl9wYXRoID0gZ2V0X2hvbWVfZGlyKCkgLyAiY3BoIgogICAgICAgICAgICByZXN1bHQgPSBzdWJwcm9jZXNzLnJ1bigKICAgICAgICAgICAgICAgIFsKICAgICAgICAgICAgICAgICAgICBzdHIoZ2V0X2NvbmRhX2JpbigpKSwKICAgICAgICAgICAgICAgICAgICAicnVuIiwKICAgICAgICAgICAgICAgICAgICAiLS1wcmVmaXgiLAogICAgICAgICAgICAgICAgICAgIHN0cihjcGhfZW52X3BhdGgpLAogICAgICAgICAgICAgICAgICAgICJjcGgiLAogICAgICAgICAgICAgICAgICAgICJ0cmFuc211dGUiLAogICAgICAgICAgICAgICAgICAgICItLXpzdGQtY29tcHJlc3Npb24tbGV2ZWwiLAogICAgICAgICAgICAgICAgICAgICIxNSIsCiAgICAgICAgICAgICAgICAgICAgZiJ7ZmlsZX0iLAogICAgICAgICAgICAgICAgICAgICIudGFyLmJ6MiIsCiAgICAgICAgICAgICAgICBdLAogICAgICAgICAgICAgICAgc2hlbGw9dXNlX3NoZWxsLAogICAgICAgICAgICApICAjIG5vc2VjCiAgICAgICAgICAgIGlmIHJlc3VsdC5yZXR1cm5jb2RlICE9IDA6CiAgICAgICAgICAgICAgICByYWlzZSBSdW50aW1lRXJyb3IoZiJFcnJvciB0cmFuc211dGluZyBmaWxlIHtmaWxlfS4gU2VlIGFib3ZlIGZvciBlcnJvci4iKQogICAgICAgICAgICBwcmludChmIkZpbGUgdHJhbnNtdXRlZDoge2ZpbGV9LiIsIGZsdXNoPVRydWUpCgogICAgICAgIGZvciByb290LCBkaXJzLCBmaWxlcyBpbiBvcy53YWxrKHB1YmxpY19kaXIpOgogICAgICAgICAgICBmb3IgZmlsZSBpbiBmaWxlczoKICAgICAgICAgICAgICAgIGlmIGZpbGUuZW5kc3dpdGgoKCIuanNvbiIsICIuaHRtbCIsICIuZGIiKSk6CiAgICAgICAgICAgICAgICAgICAgZmlsZV9wYXRoID0gb3MucGF0aC5qb2luKHJvb3QsIGZpbGUpCgogICAgICAgICAgICAgICAgICAgIHRyeToKICAgICAgICAgICAgICAgICAgICAgICAgb3MucmVtb3ZlKGZpbGVfcGF0aCkKICAgICAgICAgICAgICAgICAgICAgICAgcHJpbnQoZiJEZWxldGVkOiB7ZmlsZV9wYXRofSIpCiAgICAgICAgICAgICAgICAgICAgZXhjZXB0IEV4Y2VwdGlvbiBhcyBlOgogICAgICAgICAgICAgICAgICAgICAgICBwcmludChmIkZhaWxlZCB0byBkZWxldGUge2ZpbGVfcGF0aH06IHtlfSIpCgogICAgICAgIHByaW50KCJBcmNoaXZpbmcgdGhlIHVzZWQgc291cmNlIGlucHV0cy4uLiIpCiAgICAgICAgcHVibGljX3NyY19kaXIgPSBwdWJsaWNfZGlyIC8gInNvdXJjZV9jYWNoZSIKICAgICAgICBwdWJsaWNfc3JjX2Rpci5ta2RpcihwYXJlbnRzPVRydWUsIGV4aXN0X29rPVRydWUpCiAgICAgICAgIyBTb21lIHNvdXJjZXMgKGZpbGUsIGdpdCwgc3ZuKSBtYXkgbm90IGNyZWF0ZSB0aGlzIGRpcmVjdG9yeSwgc28gY3JlYXRlIGl0IHRvIHByZXZlbnQgYnJlYWthZ2UuCiAgICAgICAgIyBXZSBuZWVkIHRvIGNhcHR1cmUgdGhlc2UgYXQgc29tZSBwb2ludC4gVHJhY2tlZCB3aXRoIFNJUi0yMzk3LgogICAgICAgIChzcmNfY2FjaGUgLyAic3JjX2NhY2hlIikubWtkaXIocGFyZW50cz1UcnVlLCBleGlzdF9vaz1UcnVlKQogICAgICAgIGZvciBmaWxlIGluIChzcmNfY2FjaGUgLyAic3JjX2NhY2hlIikuaXRlcmRpcigpOgogICAgICAgICAgICBuZXdfa2V5ID0gZiJ7Z2V0X3NoYTI1NihmaWxlKX0tXy17ZmlsZS5uYW1lfSIKICAgICAgICAgICAgc2h1dGlsLm1vdmUoZmlsZSwgcHVibGljX3NyY19kaXIgLyBuZXdfa2V5KQoKICAgICAgICB3aXRoIHRhcmZpbGUub3Blbigic291cmNlX2NhY2hlZC50Z3oiLCAidzpneiIsIGZvcm1hdD10YXJmaWxlLlBBWF9GT1JNQVQpIGFzIHRhcjoKICAgICAgICAgICAgdGFyLmFkZChwdWJsaWNfc3JjX2RpciwgYXJjbmFtZT0iLiIsIHJlY3Vyc2l2ZT1UcnVlKQoKICAgICAgICBzaHV0aWwubW92ZSgic291cmNlX2NhY2hlZC50Z3oiLCBwdWJsaWNfZGlyIC8gInNvdXJjZV9jYWNoZWQudGd6IikKICAgICAgICBwcmludCgiU291cmNlIGNhY2hlIGFyY2hpdmVkIHN1Y2Nlc3NmdWxseS4iKQoKICAgICAgICBwcmludCgiQXJjaGl2aW5nIHRoZSBjb25kYSBwYWNrYWdlcyBpbiB0aGUgcHVibGljIGZvbGRlci4uLiIpCiAgICAgICAgaWYgc2tpcF90Z3pfYXJjaGl2ZToKICAgICAgICAgICAgcHJpbnQoIi4uLlNraXBwZWQgc28gd2UgY2FuIHNpZ24gdGhlIGZpbGVzIikKICAgICAgICBlbHNlOgogICAgICAgICAgICB3aXRoIHRhcmZpbGUub3BlbigicGFja2FnZXMudGd6IiwgInc6Z3oiLCBmb3JtYXQ9dGFyZmlsZS5QQVhfRk9STUFUKSBhcyB0YXI6CiAgICAgICAgICAgICAgICB0YXIuYWRkKHB1YmxpY19kaXIsIGFyY25hbWU9Ii4iLCByZWN1cnNpdmU9VHJ1ZSwgZmlsdGVyPXBhY2thZ2VzX2V4Y2x1ZGVfZmlsdGVyKQoKICAgICAgICAgICAgc2h1dGlsLm1vdmUoInBhY2thZ2VzLnRneiIsIHB1YmxpY19kaXIgLyAicGFja2FnZXMudGd6IikKICAgICAgICAgICAgcHJpbnQoIkNvbmRhIHBhY2thZ2VzIGFyY2hpdmVkIHN1Y2Nlc3NmdWxseS4iKQoKICAgICAgICBwcmludCgiPT09PT0gUGFja2FnZSBidWlsZCBhbmQgcHJvY2Vzc2luZyBjb21wbGV0ZWQhID09PT09IikKICAgIGV4Y2VwdCBFeGNlcHRpb24gYXMgZToKICAgICAgICBwcmludChmIkVycm9yOiB7c3RyKGUpfSIpCiAgICAgICAgcmV0dXJuIDEKCgppZiBfX25hbWVfXyA9PSAiX19tYWluX18iOgogICAgc3lzLmV4aXQobWFpbigpKQo=",
      "shared_utils.py": "aW1wb3J0IGZ1bmN0b29scwppbXBvcnQganNvbgppbXBvcnQgb3MKaW1wb3J0IHNodXRpbAppbXBvcnQgc3VicHJvY2VzcyAgIyBub3NlYwppbXBvcnQgc3lzCmltcG9ydCB0YXJmaWxlCmltcG9ydCB0ZW1wZmlsZQppbXBvcnQgdGltZQpmcm9tIGNvbnRleHRsaWIgaW1wb3J0IGNvbnRleHRtYW5hZ2VyCmZyb20gcGF0aGxpYiBpbXBvcnQgUGF0aApmcm9tIHR5cGluZyBpbXBvcnQgQW55CmZyb20gdXJsbGliLmVycm9yIGltcG9ydCBIVFRQRXJyb3IKZnJvbSB1cmxsaWIucmVxdWVzdCBpbXBvcnQgUmVxdWVzdCwgdXJsb3BlbgoKaW1wb3J0IGJvdG8zCmltcG9ydCB5YW1sCgp1c2Vfc2hlbGwgPSBGYWxzZQppZiBvcy5uYW1lID09ICJudCI6CiAgICB1c2Vfc2hlbGwgPSBUcnVlCgoKZGVmIGdldF9jb25kYV9iaW4oKSAtPiBQYXRoOgogICAgIyBjb25kYSBpdHNlbGYgaXMgYSBzcGVjaWFsIGNhc2UsIGFzIGl0J3Mgbm90IGFuIGV4ZWN1dGFibGUgYXMgc3VjaC4gSXQncwogICAgIyBkaWZmZXJlbnQgb24gZWFjaCBwbGF0Zm9ybSBhbmQgd2Ugd2FudCB0byBtYWtlIHN1cmUgd2UncmUgcnVubmluZyB0aGUKICAgICMgY29ycmVjdCBvbmUuCiAgICBpZiBzeXMucGxhdGZvcm0gPT0gIndpbjMyIjoKICAgICAgICAjIFRPRE86IHRyaXBsZSBjaGVjayBpZiB0aGlzIGlzIHRoZSBjb3JyZWN0IHBhdGggd2hlbiBydW5uaW5nIGNvbmRhIGJ1aWxkCiAgICAgICAgcmV0dXJuIFBhdGgoIkM6XFxtaW5pY29uZGEzXFxjb25kYWJpblxcY29uZGEuYmF0IikucmVzb2x2ZSgpCiAgICBlbGlmIHN5cy5wbGF0Zm9ybSA9PSAiZGFyd2luIjoKICAgICAgICByZXR1cm4gUGF0aCgiL29wdC9taW5pY29uZGEzL2Jpbi9jb25kYSIpLnJlc29sdmUoKQogICAgZWxpZiBzeXMucGxhdGZvcm0gPT0gImxpbnV4IjoKICAgICAgICByZXR1cm4gUGF0aCgiL29wdC9jb25kYS9iaW4vY29uZGEiKS5yZXNvbHZlKCkKICAgIGVsc2U6CiAgICAgICAgcmFpc2UgVmFsdWVFcnJvcihmIlVuc3VwcG9ydGVkIHBsYXRmb3JtOiB7c3lzLnBsYXRmb3JtfSIpCgoKZGVmIGdldF9iYXNlX2Vudl9iaW5fcGF0aCgpIC0+IFBhdGg6CiAgICAjIHRoaXMgaGVscCBmdW5jdGlvbiBlbmFibGVzIHVzIHRvIGV4cGxpY2l0bHkgdXNlIHRoZSBjb25kYSBiaW4gcGF0aAogICAgIyB3aXRob3V0IGV4cGxpY2l0bHkgaGF2aW5nIGl0IG9uIHRoZSBwYXRoCiAgICAjIERPIE5PVCBVU0UgVEhJUyBUTyBJTlZPS0UgYGNvbmRhYCAtIHVzZSBnZXRfY29uZGFfYmluKCkgZm9yIHRoYXQKICAgIGlmIHN5cy5wbGF0Zm9ybSA9PSAid2luMzIiOgogICAgICAgIHJldHVybiBQYXRoKCJDOlxcbWluaWNvbmRhM1xcTGlicmFyeVxcYmluIikucmVzb2x2ZSgpCiAgICBlbGlmIHN5cy5wbGF0Zm9ybSA9PSAiZGFyd2luIjoKICAgICAgICByZXR1cm4gUGF0aCgiL29wdC9taW5pY29uZGEzL2JpbiIpLnJlc29sdmUoKQogICAgZWxpZiBzeXMucGxhdGZvcm0gPT0gImxpbnV4IjoKICAgICAgICByZXR1cm4gUGF0aCgiL29wdC9jb25kYS9iaW4iKS5yZXNvbHZlKCkKICAgIGVsc2U6CiAgICAgICAgcmFpc2UgVmFsdWVFcnJvcihmIlVuc3VwcG9ydGVkIHBsYXRmb3JtOiB7c3lzLnBsYXRmb3JtfSIpCgoKZGVmIGdldF9ob21lX2RpcigpIC0+IFBhdGg6CiAgICBob21lX2RpciA9IFBhdGguaG9tZSgpCiAgICBpZiBub3QgaG9tZV9kaXI6CiAgICAgICAgcmFpc2UgUnVudGltZUVycm9yKCJFcnJvcjogSG9tZSBkaXJlY3Rvcnkgbm90IGZvdW5kLiIpCiAgICBwcmludChmIkRlYnVnOkZvdW5kIGhvbWUgZGlyZWN0b3J5OiB7c3RyKGhvbWVfZGlyKX0iLCBmbHVzaD1UcnVlKQogICAgcmV0dXJuIGhvbWVfZGlyCgoKZGVmIGNvbmRhX2luZGV4KHRlbXBfY2hhbm5lbDogUGF0aCwgdXNlX3NoZWxsOiBib29sKSAtPiBOb25lOgoKICAgIHByaW50KGYicnVubmluZyBjb25kYSBpbmRleCBvbiB7dGVtcF9jaGFubmVsLnJlc29sdmUoKX0iLCBmbHVzaD1UcnVlKQoKICAgIHJlc3VsdCA9IHN1YnByb2Nlc3MucnVuKFtzdHIoZ2V0X2NvbmRhX2JpbigpKSwgImluZGV4Iiwgc3RyKHRlbXBfY2hhbm5lbCldLCBzaGVsbD11c2Vfc2hlbGwpICAjIG5vc2VjCgogICAgaWYgcmVzdWx0LnJldHVybmNvZGUgIT0gMDoKICAgICAgICByYWlzZSBSdW50aW1lRXJyb3IoZiJFcnJvciBydW5uaW5nIGNvbmRhIGluZGV4IG9uIHt0ZW1wX2NoYW5uZWx9LiBTZWUgYWJvdmUgZm9yIGVycm9yLiIpCgogICAgcHJpbnQoImNvbXBsZXRlZCBjb25kYSBpbmRleCIsIGZsdXNoPVRydWUpCgoKZGVmIGNsZWFuX2NvbmRhX2NhY2hlKHVzZV9zaGVsbDogYm9vbCkgLT4gTm9uZToKICAgIHJlc3VsdCA9IHN1YnByb2Nlc3MucnVuKFtzdHIoZ2V0X2NvbmRhX2JpbigpKSwgImNsZWFuIiwgIi1mIiwgIi15Il0sIHNoZWxsPXVzZV9zaGVsbCkgICMgbm9zZWMKICAgIGlmIHJlc3VsdC5yZXR1cm5jb2RlICE9IDA6CiAgICAgICAgcmFpc2UgUnVudGltZUVycm9yKCJGYWlsZWQgdG8gY2xlYW4gY29uZGEgY2FjaGUuIikKCgpAY29udGV4dG1hbmFnZXIKZGVmIHRlbXBvcmFyeV9jb25kYXJjX3dpdGhfbXVsdGljaGFubmVscygKICAgIGNoYW5uZWxfbmFtZTogc3RyLCBjaGFubmVsczogbGlzdFtzdHJdLCBiYXNlX2VudjogZGljdFtzdHIsIHN0cl0gfCBOb25lID0gTm9uZSwgdXNlX3NoZWxsOiBib29sID0gRmFsc2UKKToKICAgIGVudiA9IChiYXNlX2VudiBvciBvcy5lbnZpcm9uKS5jb3B5KCkKCiAgICBpZiBub3QgY2hhbm5lbHM6CiAgICAgICAgeWllbGQgZW52CiAgICAgICAgcmV0dXJuCgogICAgc291cmNlcyA9IGdldF9jb25kYV9jb25maWdfZmlsZV9zb3VyY2VzKCkKICAgIHByaW50KGYiRm91bmQgY29uZGEgY29uZmlnIHNvdXJjZXM6IHtzb3VyY2VzfSIpCgogICAgIyBDdXJyZW50bHksIHRoZXJlIHdpbGwgYmUgdHlwaWNhbGx5IG5vIG1vcmUgdGhhbiAxIHNvdXJjZS4KICAgIGlmIGxlbihzb3VyY2VzKSA+IDE6CiAgICAgICAgcmFpc2UgUnVudGltZUVycm9yKCJGb3VuZCBtdWx0aXBsZSBjb25kYSBjb25maWd1cmF0aW9uIHNvdXJjZXMuIFVuYWJsZSB0byBwcm9jZWVkLi4uIikKCiAgICBiYXNlX3NyYyA9IHNvdXJjZXNbMF0gaWYgc291cmNlcyBlbHNlIE5vbmUKCiAgICB0bXBkaXIgPSBQYXRoKHRlbXBmaWxlLm1rZHRlbXAocHJlZml4PSJjb25kYXJjLSIpKQogICAgZHN0ID0gdG1wZGlyIC8gImNvbmRhcmMueWFtbCIKCiAgICAjIENvcHkgdGhlIG9yaWdpbmFsIGNvbmZpZyB0byBhIHRlbXBvcmFyeSBsb2NhdGlvbgogICAgaWYgYmFzZV9zcmM6CiAgICAgICAgc2h1dGlsLmNvcHkoYmFzZV9zcmMsIGRzdCkKICAgIGVsc2U6CiAgICAgICAgZHN0LndyaXRlX3RleHQoIiIpCgogICAgdHJ5OgogICAgICAgIGVudlsiQ09OREFSQyJdID0gc3RyKGRzdCkKCiAgICAgICAgIyBFeHBhbmQgYW55IGV4aXN0aW5nIG11bHRpY2hhbm5lbCByZWZlcmVuY2VzIChlLmcuLCAiZGVmYXVsdHMiKQogICAgICAgIGV4aXN0aW5nX211bHRpY2hhbm5lbHMgPSBnZXRfY3VycmVudF9tdWx0aWNoYW5uZWxzKCkKICAgICAgICBleHBhbmRlZDogbGlzdFtzdHJdID0gW10KICAgICAgICBmb3IgbmFtZSBpbiBzZXQoY2hhbm5lbHMpOgogICAgICAgICAgICBpZiBuYW1lIGluIGV4aXN0aW5nX211bHRpY2hhbm5lbHM6CiAgICAgICAgICAgICAgICBleHBhbmRlZC5leHRlbmQoZXhpc3RpbmdfbXVsdGljaGFubmVsc1tuYW1lXSkKICAgICAgICAgICAgZWxzZToKICAgICAgICAgICAgICAgIGV4cGFuZGVkLmFwcGVuZChuYW1lKQoKICAgICAgICBrZXkgPSBmImN1c3RvbV9tdWx0aWNoYW5uZWxzLntjaGFubmVsX25hbWV9IgoKICAgICAgICAjIHJlbW92ZSBleGlzdGluZyBrZXkgKGlnbm9yZSBmYWlsdXJlIGlmIGl0IGRvZXNuJ3QgZXhpc3QpCiAgICAgICAgc3VicHJvY2Vzcy5ydW4oCiAgICAgICAgICAgIFtzdHIoZ2V0X2NvbmRhX2JpbigpKSwgImNvbmZpZyIsICItLWZpbGUiLCBzdHIoZHN0KSwgIi0tcmVtb3ZlLWtleSIsIGtleV0sCiAgICAgICAgICAgIGNoZWNrPUZhbHNlLAogICAgICAgICAgICBzdGRvdXQ9c3VicHJvY2Vzcy5ERVZOVUxMLAogICAgICAgICAgICBzdGRlcnI9c3VicHJvY2Vzcy5ERVZOVUxMLAogICAgICAgICAgICBlbnY9ZW52LAogICAgICAgICAgICBzaGVsbD11c2Vfc2hlbGwsCiAgICAgICAgKSAgIyBub3NlYwoKICAgICAgICAjIEFkZCBhIGN1c3RvbSBtdWx0aWNoYW5uZWwgd2l0aCBjaGFubmVscy4KICAgICAgICBmb3IgY2ggaW4gZXhwYW5kZWQ6CiAgICAgICAgICAgIHN1YnByb2Nlc3MucnVuKAogICAgICAgICAgICAgICAgW3N0cihnZXRfY29uZGFfYmluKCkpLCAiY29uZmlnIiwgIi0tZmlsZSIsIHN0cihkc3QpLCAiLS1hZGQiLCBrZXksIGNoXSwKICAgICAgICAgICAgICAgIGNoZWNrPVRydWUsCiAgICAgICAgICAgICAgICBlbnY9ZW52LAogICAgICAgICAgICAgICAgc2hlbGw9dXNlX3NoZWxsLAogICAgICAgICAgICApICAjIG5vc2VjCiAgICAgICAgeWllbGQgZW52CiAgICBmaW5hbGx5OgogICAgICAgIHRyeToKICAgICAgICAgICAgc2h1dGlsLnJtdHJlZSh0bXBkaXIsIGlnbm9yZV9lcnJvcnM9VHJ1ZSkKICAgICAgICBleGNlcHQgT1NFcnJvcjoKICAgICAgICAgICAgcGFzcwoKCiIiIgogICAgUmV0cnkgZGVjb3JhdG9yIHdpdGggZXhwb25lbnRpYWwgYmFja29mZgogICAgbWF4X3JldHJpZXM6IG1heGltdW0gbnVtYmVyIG9mIHJldHJpZXMKICAgIGluaXRpYWxfYmFja29mZjogaW5pdGlhbCB3YWl0IHRpbWUgaW4gc2Vjb25kcwoiIiIKCgpkZWYgcmV0cnkobWF4X3JldHJpZXM6IGludCwgaW5pdGlhbF9iYWNrb2ZmOiBmbG9hdCk6CiAgICBkZWYgZGVjb3JhdG9yKGZ1bmMpOgogICAgICAgIEBmdW5jdG9vbHMud3JhcHMoZnVuYykKICAgICAgICBkZWYgd3JhcHBlcigqYXJncywgKiprd2FyZ3MpOgogICAgICAgICAgICByZXRyaWVzID0gMAogICAgICAgICAgICB3aGlsZSByZXRyaWVzIDwgbWF4X3JldHJpZXM6CiAgICAgICAgICAgICAgICB0cnk6CiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZ1bmMoKmFyZ3MsICoqa3dhcmdzKQogICAgICAgICAgICAgICAgZXhjZXB0IEV4Y2VwdGlvbiBhcyBlOgogICAgICAgICAgICAgICAgICAgIHdhaXRfdGltZSA9IGluaXRpYWxfYmFja29mZiAqIDIgKiogKHJldHJpZXMpCiAgICAgICAgICAgICAgICAgICAgcmV0cmllcyArPSAxCiAgICAgICAgICAgICAgICAgICAgaWYgcmV0cmllcyA+PSBtYXhfcmV0cmllczoKICAgICAgICAgICAgICAgICAgICAgICAgcHJpbnQoZiJNYXggcmV0cmllcyAoe21heF9yZXRyaWVzfSkgb2YgZnVuY3Rpb24ge2Z1bmMuX19uYW1lX199IGV4Y2VlZGVkOiB7ZX0iKQogICAgICAgICAgICAgICAgICAgICAgICByYWlzZQogICAgICAgICAgICAgICAgICAgIHByaW50KGYiQXR0ZW1wdCB7cmV0cmllc30gb2Yge2Z1bmMuX19uYW1lX199IGZhaWxlZDoge2V9LiBSZXRyeWluZyBpbiB7d2FpdF90aW1lOi4xZn1zIikKICAgICAgICAgICAgICAgICAgICB0aW1lLnNsZWVwKHdhaXRfdGltZSkKCiAgICAgICAgcmV0dXJuIHdyYXBwZXIKCiAgICByZXR1cm4gZGVjb3JhdG9yCgoKQHJldHJ5KG1heF9yZXRyaWVzPTUsIGluaXRpYWxfYmFja29mZj0yLjApCmRlZiBkb3dubG9hZF9maWxlKHBhY2thZ2VzX3VybDogc3RyLCBvdXRwdXRfcGF0aDogUGF0aCkgLT4gTm9uZToKICAgICMgVXNlIGEgdXNlciBhZ2VudCBmb3IgcHVsbGluZyBzZWUgdGhyZWFkOiBodHRwczovL2FuYWNvbmRhLnNsYWNrLmNvbS9hcmNoaXZlcy9DMDFUWFBLSk5BRC9wMTc1MDc5ODgxMzczMjgxOQogICAgIyA+IEl0IGlzIGEgY2xvdWRmbGFyZSBtYW5hZ2VkIHJ1bGUgdG8gcmVkdWNlIGV4cGxvaXRhdGlvbiBieSBib3RzIGFuZCBtYWxmb3JtZWQgdHJhZmZpYwogICAgaGVhZGVycyA9IHsiVXNlci1BZ2VudCI6ICJhbmFjb25kYS9wYWNrYWdlLWJ1aWxkLXBsYXRmb3JtIn0KICAgIHJlcXVlc3QgPSBSZXF1ZXN0KHBhY2thZ2VzX3VybCwgaGVhZGVycz1oZWFkZXJzKQogICAgd2l0aCB1cmxvcGVuKHJlcXVlc3QpIGFzIGZpbGVfcmVzcG9uc2UsIG91dHB1dF9wYXRoLm9wZW4oIndiIikgYXMgb3V0X2ZpbGU6ICAjIG5vc2VjCiAgICAgICAgc2h1dGlsLmNvcHlmaWxlb2JqKGZpbGVfcmVzcG9uc2UsIG91dF9maWxlKQoKICAgIHNpemUgPSBvdXRwdXRfcGF0aC5zdGF0KCkuc3Rfc2l6ZQogICAgcHJpbnQoZiJEb3dubG9hZGVkIGZpbGUgbG9jYXRlZCBhdCBVUkw6IHtwYWNrYWdlc191cmx9ICh7c2l6ZSAvICgxMDI0KjEwMjQpOi4yZn0gTUIpIikKCgpkZWYgZXh0cmFjdF90YXJfZmlsZShmaWxlcGF0aDogUGF0aCwgZGVzdGluYXRpb246IFBhdGgpIC0+IE5vbmU6CiAgICAiIiJFeHRyYWN0IGEgdGFyIGFyY2hpdmUgdG8gYSBzcGVjaWZpZWQgZGVzdGluYXRpb24gZGlyZWN0b3J5LiIiIgogICAgaWYgbm90IGZpbGVwYXRoLmV4aXN0cygpOgogICAgICAgIHJhaXNlIEZpbGVOb3RGb3VuZEVycm9yKGYiQXJjaGl2ZSBmaWxlIG5vdCBmb3VuZDoge2ZpbGVwYXRofSIpCgogICAgcHJpbnQoZiJFeHRyYWN0aW5nIGFyY2hpdmUge2ZpbGVwYXRofS4uLiIpCgogICAgdHJ5OgogICAgICAgIHdpdGggdGFyZmlsZS5vcGVuKGZpbGVwYXRoKSBhcyB0YXI6CiAgICAgICAgICAgIHRhci5leHRyYWN0YWxsKHBhdGg9ZGVzdGluYXRpb24pICAjIG5vc2VjCiAgICAgICAgcHJpbnQoIkZpbGUgY29udGVudHMgZXh0cmFjdGVkIHN1Y2Nlc3NmdWxseS4iKQogICAgZXhjZXB0IHRhcmZpbGUuVGFyRXJyb3IgYXMgZToKICAgICAgICBwcmludChmIkVycm9yIGV4dHJhY3RpbmcgdGFyIGZpbGU6IHtlfSIpCiAgICAgICAgcmFpc2UKCgpkZWYgY29weV9maWxlcyhzb3VyY2U6IFBhdGgsIGRlc3RpbmF0aW9uOiBQYXRoLCBwYXR0ZXJuczogc2V0W3N0cl0gfCBOb25lKSAtPiBOb25lOgogICAgIiIiCiAgICBDb3B5IGZpbGVzIGZyb20gc291cmNlIHRvIGRlc3RpbmF0aW9uLCBwcmVzZXJ2aW5nIHJlbGF0aXZlIHBhdGhzLgoKICAgIC0gSWYgYHBhdHRlcm5zYCBpcyBwcm92aWRlZCAoZS5nLiwgeyIqLmNvbmRhIiwgIioudGFyLmJ6MiJ9KSwgb25seSBtYXRjaGluZyBmaWxlcyBhcmUgY29waWVkLgogICAgLSBJZiBgcGF0dGVybnNgIGlzIE5vbmUgb3IgZW1wdHksIGFsbCBmaWxlcyBhcmUgY29waWVkIChlcXVpdmFsZW50IHRvIHsiKiJ9KS4KICAgICIiIgogICAgcGF0X3NldCA9IHBhdHRlcm5zIG9yIHsiKiJ9CiAgICBmb3IgZmlsZV9wYXR0ZXJuIGluIHBhdF9zZXQ6CiAgICAgICAgZm9yIGZpbGUgaW4gc291cmNlLnJnbG9iKGZpbGVfcGF0dGVybik6CiAgICAgICAgICAgIHByaW50KGYiRm91bmQgcGFja2FnZToge2ZpbGV9IikKICAgICAgICAgICAgZGVzdF9wYXRoID0gZGVzdGluYXRpb24gLyBmaWxlLnJlbGF0aXZlX3RvKHNvdXJjZSkKICAgICAgICAgICAgZGVzdF9wYXRoLnBhcmVudC5ta2RpcihwYXJlbnRzPVRydWUsIGV4aXN0X29rPVRydWUpCiAgICAgICAgICAgIHNodXRpbC5jb3B5MihmaWxlLCBkZXN0X3BhdGgpCgoKZGVmIGdldF9zM19jbGllbnQoYWNjZXNzX2tleT1Ob25lLCBzZWNyZXRfa2V5PU5vbmUpIC0+IEFueToKICAgICIiIgogICAgQ3JlYXRlIGFuZCByZXR1cm4gYSBib3RvMyBTMyBjbGllbnQgdXNpbmcgY3JlZGVudGlhbHMgc3RvcmVkIGluIHNlY3JldHMuCiAgICAiIiIKCiAgICBwcmludCgiQ3JlYXRpbmcgczMgY2xpZW50Li4uIiwgZmx1c2g9VHJ1ZSkKICAgIGNsaWVudCA9IGJvdG8zLmNsaWVudCgKICAgICAgICAiczMiLAogICAgICAgIGF3c19hY2Nlc3Nfa2V5X2lkPWFjY2Vzc19rZXkuZ2V0KCkgaWYgYWNjZXNzX2tleSBlbHNlIE5vbmUsCiAgICAgICAgYXdzX3NlY3JldF9hY2Nlc3Nfa2V5PXNlY3JldF9rZXkuZ2V0KCkgaWYgc2VjcmV0X2tleSBlbHNlIE5vbmUsCiAgICApCiAgICBwcmludCgiczMgY2xpZW50IGNyZWF0ZWQuIiwgZmx1c2g9VHJ1ZSkKICAgIHJldHVybiBjbGllbnQKCgpkZWYgZ2V0X2NvbmRhX2NvbmZpZ19maWxlX3NvdXJjZXMoKSAtPiB0dXBsZVtsaXN0W1BhdGhdLCBkaWN0W3N0ciwgZGljdF1dOgogICAgb3V0ID0gc3VicHJvY2Vzcy5jaGVja19vdXRwdXQoCiAgICAgICAgW3N0cihnZXRfY29uZGFfYmluKCkpLCAiY29uZmlnIiwgIi0tc2hvdy1zb3VyY2VzIiwgIi0tanNvbiJdLCB0ZXh0PVRydWUsIHNoZWxsPXVzZV9zaGVsbAogICAgKSAgIyBub3NlYwogICAgcmF3ID0ganNvbi5sb2FkcyhvdXQpCgogICAgZmlsZV9rZXlzID0gW10KICAgIGZvciBrIGluIHJhdy5rZXlzKCk6CiAgICAgICAgcCA9IFBhdGgoaykKICAgICAgICBpZiBQYXRoKHApLmV4aXN0cygpOgogICAgICAgICAgICBmaWxlX2tleXMuYXBwZW5kKGspCgogICAgcmV0dXJuIGZpbGVfa2V5cwoKCmRlZiBnZXRfY3VycmVudF9tdWx0aWNoYW5uZWxzKCkgLT4gbGlzdFtzdHJdOgogICAgb3V0ID0gc3VicHJvY2Vzcy5jaGVja19vdXRwdXQoCiAgICAgICAgW3N0cihnZXRfY29uZGFfYmluKCkpLCAiY29uZmlnIiwgIi0tc2hvdyIsICJjdXN0b21fbXVsdGljaGFubmVscyJdLCB0ZXh0PVRydWUsIHNoZWxsPXVzZV9zaGVsbAogICAgKSAgIyBub3NlYwogICAgcmVzdWx0ID0geWFtbC5zYWZlX2xvYWQob3V0KQogICAgcmV0dXJuIHJlc3VsdFsiY3VzdG9tX211bHRpY2hhbm5lbHMiXQoKCmRlZiBnZXRfZGVwZW5kZW5jaWVzKCkgLT4gbGlzdFtzdHJdOgogICAgZGVwZW5kZW5jaWVzX2VudiA9IG9zLmVudmlyb24uZ2V0KCJERVBFTkRFTkNJRVMiLCAiIikKICAgIGlmIG5vdCBkZXBlbmRlbmNpZXNfZW52OgogICAgICAgIHJhaXNlIFZhbHVlRXJyb3IoIlRoZSBlbnZpcm9ubWVudCB2YXJpYWJsZSBERVBFTkRFTkNJRVMgaXMgbm90IHNldC4iKQoKICAgIGRlcGVuZGVuY2llcyA9IGRlcGVuZGVuY2llc19lbnYuc3BsaXQoKQogICAgaWYgbm90IGRlcGVuZGVuY2llczoKICAgICAgICBwcmludCgiV2FybmluZzogREVQRU5ERU5DSUVTIGlzIHNldCwgYnV0IHRoZSBsaXN0IGlzIGVtcHR5LiIpCgogICAgcmV0dXJuIGRlcGVuZGVuY2llcwoKCmRlZiBjb21wcmVzc190b190Z3ooc291cmNlOiBQYXRoLCBkZXN0aW5hdGlvbjogUGF0aCwgZmlsZW5hbWU6IHN0cikgLT4gTm9uZToKICAgIGRlc3RpbmF0aW9uLm1rZGlyKGV4aXN0X29rPVRydWUpCiAgICBhcmNoaXZlX3BhdGggPSBkZXN0aW5hdGlvbiAvIGZpbGVuYW1lCiAgICBwcmludChmIkFyY2hpdmluZyBhbGwgY29udGVudHMgb2Yge3NvdXJjZX0gYXMge2FyY2hpdmVfcGF0aH0iKQoKICAgIHdpdGggdGFyZmlsZS5vcGVuKGFyY2hpdmVfcGF0aCwgInc6Z3oiLCBmb3JtYXQ9dGFyZmlsZS5QQVhfRk9STUFUKSBhcyB0YXI6CiAgICAgICAgdGFyLmFkZChzb3VyY2UsIGFyY25hbWU9Ii4iLCByZWN1cnNpdmU9VHJ1ZSkKCiAgICBwcmludChmIkFyY2hpdmUgY3JlYXRlZCBhdDoge2FyY2hpdmVfcGF0aH0iKQoKCmRlZiBkb3dubG9hZF9hbmRfc3RhZ2VfYXJ0aWZhY3RzKAogICAgKiwKICAgIGRlc3RpbmF0aW9uX2RpcjogUGF0aCwKICAgIGRlcGVuZGVuY2llczogbGlzdFtzdHJdLAogICAgcHJveHlfdXJsOiBzdHIsCiAgICBhcnRpZmFjdF9maWxlbmFtZTogc3RyLAogICAgcGtnX2Zvcm1hdHM6IHNldFtzdHJdIHwgTm9uZSwKICAgIGZhaWxfaWZfbm90X2ZvdW5kOiBib29sLAopIC0+IE5vbmU6CiAgICB0Z3pfZmlsZW5hbWUgPSBQYXRoKGFydGlmYWN0X2ZpbGVuYW1lKQoKICAgIGlmIGRlc3RpbmF0aW9uX2Rpci5leGlzdHMoKToKICAgICAgICBzaHV0aWwucm10cmVlKGRlc3RpbmF0aW9uX2RpcikKICAgIGRlc3RpbmF0aW9uX2Rpci5ta2RpcihwYXJlbnRzPVRydWUpCgogICAgZm9yIGRlcGVuZGVuY3kgaW4gZGVwZW5kZW5jaWVzOgogICAgICAgIHByaW50KGYiUHJvY2Vzc2luZyBkZXBlbmRlbmN5IHdpdGggdGFzayBJRDoge2RlcGVuZGVuY3l9IikKICAgICAgICBhcnRpZmFjdF91cmwgPSBmIntwcm94eV91cmx9L2FwaS9xdWV1ZS92MS90YXNrL3tkZXBlbmRlbmN5fS9hcnRpZmFjdHMvcHVibGljL3t0Z3pfZmlsZW5hbWV9IgoKICAgICAgICB0cnk6CiAgICAgICAgICAgIGRvd25sb2FkX2ZpbGUoYXJ0aWZhY3RfdXJsLCB0Z3pfZmlsZW5hbWUpCiAgICAgICAgZXhjZXB0IEhUVFBFcnJvciBhcyBlOgogICAgICAgICAgICBpZiBlLmNvZGUgPT0gNDA0OgogICAgICAgICAgICAgICAgaWYgZmFpbF9pZl9ub3RfZm91bmQ6CiAgICAgICAgICAgICAgICAgICAgcHJpbnQoZiJFcnJvcjogQXJ0aWZhY3Qgbm90IGZvdW5kIGZvciB0YXNrIHtkZXBlbmRlbmN5fSAoNDA0KS4iKQogICAgICAgICAgICAgICAgICAgIHJhaXNlCiAgICAgICAgICAgICAgICBlbHNlOgogICAgICAgICAgICAgICAgICAgIHByaW50KGYiQXJ0aWZhY3Qgbm90IGZvdW5kIGZvciB0YXNrIHtkZXBlbmRlbmN5fSAoNDA0KS4gU2tpcHBpbmcuIikKICAgICAgICAgICAgICAgICAgICBjb250aW51ZQogICAgICAgICAgICBlbHNlOgogICAgICAgICAgICAgICAgcHJpbnQoZiJIVFRQIGVycm9yIGZvciB0YXNrIHtkZXBlbmRlbmN5fToge2V9IikKICAgICAgICAgICAgICAgIHJhaXNlCiAgICAgICAgZXhjZXB0IEV4Y2VwdGlvbiBhcyBlOgogICAgICAgICAgICByYWlzZSBSdW50aW1lRXJyb3IoZiJVbmV4cGVjdGVkIGV4Y2VwdGlvbiBvY2N1cnJlZDoge2V9IikgZnJvbSBlCgogICAgICAgIHdpdGggdGVtcGZpbGUuVGVtcG9yYXJ5RGlyZWN0b3J5KCkgYXMgdG1wX2RpcjoKICAgICAgICAgICAgZXh0cmFjdGVkX2RpciA9IFBhdGgodG1wX2RpcikKICAgICAgICAgICAgZXh0cmFjdF90YXJfZmlsZSh0Z3pfZmlsZW5hbWUsIGV4dHJhY3RlZF9kaXIpCiAgICAgICAgICAgIGNvcHlfZmlsZXMoZXh0cmFjdGVkX2RpciwgZGVzdGluYXRpb25fZGlyLCBwa2dfZm9ybWF0cykKCiAgICAgICAgdGd6X2ZpbGVuYW1lLnVubGluayhtaXNzaW5nX29rPVRydWUpCgoKZGVmIGRvd25sb2FkX2RlcGVuZGVuY2llc19jb25kYSgKICAgIGRlc3RpbmF0aW9uX2RpcjogUGF0aCwKICAgIGRlcGVuZGVuY2llczogbGlzdFtzdHJdLAogICAgcHJveHlfdXJsOiBzdHIsCiAgICBwa2dfZm9ybWF0czogc2V0W3N0cl0sCiAgICBmYWlsX2lmX25vdF9mb3VuZDogYm9vbCA9IFRydWUsCikgLT4gTm9uZToKICAgIGRvd25sb2FkX2FuZF9zdGFnZV9hcnRpZmFjdHMoCiAgICAgICAgZGVzdGluYXRpb25fZGlyPWRlc3RpbmF0aW9uX2RpciwKICAgICAgICBkZXBlbmRlbmNpZXM9ZGVwZW5kZW5jaWVzLAogICAgICAgIHByb3h5X3VybD1wcm94eV91cmwsCiAgICAgICAgYXJ0aWZhY3RfZmlsZW5hbWU9InBhY2thZ2VzLnRneiIsCiAgICAgICAgcGtnX2Zvcm1hdHM9cGtnX2Zvcm1hdHMsCiAgICAgICAgZmFpbF9pZl9ub3RfZm91bmQ9ZmFpbF9pZl9ub3RfZm91bmQsCiAgICApCgoKZGVmIGRvd25sb2FkX2RlcGVuZGVuY2llc19zb3VyY2VzKAogICAgc291cmNlc19kaXI6IFBhdGgsCiAgICBkZXBlbmRlbmNpZXM6IGxpc3Rbc3RyXSwKICAgIHByb3h5X3VybDogc3RyLAogICAgZmFpbF9pZl9ub3RfZm91bmQ6IGJvb2wgPSBUcnVlLAopIC0+IE5vbmU6CiAgICBkb3dubG9hZF9hbmRfc3RhZ2VfYXJ0aWZhY3RzKAogICAgICAgIGRlc3RpbmF0aW9uX2Rpcj1zb3VyY2VzX2RpciwKICAgICAgICBkZXBlbmRlbmNpZXM9ZGVwZW5kZW5jaWVzLAogICAgICAgIHByb3h5X3VybD1wcm94eV91cmwsCiAgICAgICAgYXJ0aWZhY3RfZmlsZW5hbWU9InNvdXJjZV9jYWNoZWQudGd6IiwKICAgICAgICBwa2dfZm9ybWF0cz1Ob25lLCAgIyBjb3B5IGV2ZXJ5dGhpbmcKICAgICAgICBmYWlsX2lmX25vdF9mb3VuZD1mYWlsX2lmX25vdF9mb3VuZCwKICAgICkK",
      "secret_manager.py": "aW1wb3J0IG9zCmltcG9ydCBzdGF0CmltcG9ydCBzeXMKaW1wb3J0IHRlbXBmaWxlCmZyb20gY29udGV4dGxpYiBpbXBvcnQgY29udGV4dG1hbmFnZXIKCmltcG9ydCByZXF1ZXN0cwpmcm9tIHNoYXJlZF91dGlscyBpbXBvcnQgcmV0cnkKCkFTS1BBU1NfV0lORE9XUyA9IHIiQzpcUHJvZ3JhbURhdGFcZ2l0LWFza3Bhc3MuY21kIgpBU0tQQVNTX1VOSVggPSAiL3Vzci9sb2NhbC9iaW4vZ2l0LWFza3Bhc3Muc2giCgpwcm94eV91cmwgPSBvcy5lbnZpcm9uLmdldCgiVEFTS0NMVVNURVJfUFJPWFlfVVJMIikKCgpjbGFzcyBTZWNyZXQ6CiAgICBkZWYgX19pbml0X18oc2VsZiwgc2VjcmV0X2tleTogc3RyLCBmYWlsX2lmX21pc3Npbmc6IGJvb2wgPSBUcnVlKToKICAgICAgICBzZWxmLl9rZXkgPSBzZWNyZXRfa2V5CgogICAgICAgIHRyeToKICAgICAgICAgICAgc2VsZi5fdmFsdWUgPSBzZWxmLl9mZXRjaF9zZWNyZXQoc2VjcmV0X2tleSkKICAgICAgICBleGNlcHQgRXhjZXB0aW9uOgogICAgICAgICAgICBpZiBmYWlsX2lmX21pc3Npbmc6CiAgICAgICAgICAgICAgICByYWlzZSBSdW50aW1lRXJyb3IoIlNlY3JldCB7c2VjcmV0X2tleX0gd2FzIG5vdCByZXRyaWV2ZWQuIikKICAgICAgICAgICAgZWxzZToKICAgICAgICAgICAgICAgIHByaW50KGYiV0FSTklORzoge3NlY3JldF9rZXl9IHdhcyBub3QgcmV0cmlldmVkLiIsIGZsdXNoPVRydWUpCiAgICAgICAgICAgICAgICBzZWxmLl92YWx1ZSA9IE5vbmUKCiAgICBAcmV0cnkobWF4X3JldHJpZXM9NSwgaW5pdGlhbF9iYWNrb2ZmPTIuMCkKICAgIGRlZiBfZmV0Y2hfc2VjcmV0KHNlbGYsIHNlY3JldF9rZXk6IHN0cik6CiAgICAgICAgc2VjcmV0X3VybCA9IGYie3Byb3h5X3VybH0vYXBpL3NlY3JldHMvdjEvc2VjcmV0L3tzZWNyZXRfa2V5fSIKICAgICAgICByZXNwb25zZSA9IHJlcXVlc3RzLmdldChzZWNyZXRfdXJsLCB0aW1lb3V0PTUpCiAgICAgICAgcmVzcG9uc2UucmFpc2VfZm9yX3N0YXR1cygpCiAgICAgICAgcmV0dXJuIHJlc3BvbnNlLmpzb24oKVsic2VjcmV0Il1bInZhbHVlIl0KCiAgICBkZWYgZ2V0KHNlbGYpOgogICAgICAgIHJldHVybiBzZWxmLl92YWx1ZQoKICAgIGRlZiBhdmFpbGFibGUoc2VsZik6CiAgICAgICAgcmV0dXJuIHNlbGYuX3ZhbHVlIGlzIG5vdCBOb25lCgogICAgZGVmIF9fc3RyX18oc2VsZik6CiAgICAgICAgcmV0dXJuIGYie3NlbGYuX2tleX06IHsnKioqKicgaWYgc2VsZi5fdmFsdWUgaXMgbm90IE5vbmUgZWxzZSAnTm9uZSd9IgoKICAgIGRlZiBfX3JlcHJfXyhzZWxmKToKICAgICAgICByZXR1cm4gZiI8e3NlbGYuX2tleX06IHsnKioqKicgaWYgc2VsZi5fdmFsdWUgaXMgbm90IE5vbmUgZWxzZSAnTm9uZSd9PiIKCgpAY29udGV4dG1hbmFnZXIKZGVmIGluaXRfZ2l0X2Fza3Bhc3MoCiAgICB0b2tlbjogU2VjcmV0LAogICAgZW52OiBkaWN0W3N0ciwgc3RyXSA9IE5vbmUsCik6CiAgICAiIiIKICAgIFVzZXMgR0lUX0FTS1BBU1MgZm9yIGF1dGguIE1ha2VzIHVzZSBvZiBzY3JpcHRzIGJha2VkIGludG8gQU1Jcy4KICAgIENyZWF0ZXMgYSB0ZW1wb3JhcnkgZmlsZSB3aXRoIHRoZSB0b2tlbi4gRGVsZXRlcyBpdCBvbiBleGl0LgogICAgIiIiCgogICAgX2VudiA9IChlbnYgb3Igb3MuZW52aXJvbikuY29weSgpCiAgICBfZW52LnNldGRlZmF1bHQoIkdJVF9URVJNSU5BTF9QUk9NUFQiLCAiMCIpCgogICAgaWYgbm90IHRva2VuLmF2YWlsYWJsZSgpOgogICAgICAgICMgTm90aGluZyB0byBzZWVkOyBhY3QgYXMgYSBuby1vcCBjb250ZXh0IG1hbmFnZXIuCiAgICAgICAgeWllbGQgX2VudgogICAgICAgIHJldHVybgoKICAgIGlzX3dpbmRvd3MgPSBzeXMucGxhdGZvcm0gPT0gIndpbjMyIgoKICAgIHRva2VuX3BhdGggPSBOb25lCiAgICB0cnk6CiAgICAgICAgIyAxKSBzaG9ydC1saXZlZCB0b2tlbiBmaWxlICgwNjAwKQogICAgICAgIGZkLCB0b2tlbl9wYXRoID0gdGVtcGZpbGUubWtzdGVtcChwcmVmaXg9ImdpdC10b2tlbi0iLCB0ZXh0PVRydWUpCiAgICAgICAgd2l0aCBvcy5mZG9wZW4oZmQsICJ3IiwgZW5jb2Rpbmc9InV0Zi04IikgYXMgZjoKICAgICAgICAgICAgZi53cml0ZSh0b2tlbi5nZXQoKSkKICAgICAgICAgICAgZi5mbHVzaCgpCiAgICAgICAgICAgIG9zLmZzeW5jKGYuZmlsZW5vKCkpCiAgICAgICAgb3MuY2htb2QodG9rZW5fcGF0aCwgc3RhdC5TX0lSVVNSIHwgc3RhdC5TX0lXVVNSKSAgIyAwNjAwCgogICAgICAgIGFza3Bhc3MgPSBBU0tQQVNTX1dJTkRPV1MgaWYgaXNfd2luZG93cyBlbHNlIEFTS1BBU1NfVU5JWAoKICAgICAgICBfZW52WyJHSVRfVE9LRU5fRklMRSJdID0gdG9rZW5fcGF0aAogICAgICAgIF9lbnZbIkdJVF9BU0tQQVNTIl0gPSBhc2twYXNzCgogICAgICAgIHlpZWxkIF9lbnYKICAgIGZpbmFsbHk6CiAgICAgICAgaWYgdG9rZW5fcGF0aDoKICAgICAgICAgICAgb3MucmVtb3ZlKHRva2VuX3BhdGgpCg==",
      "deserialize_bin.py": "IyEvdXNyL2Jpbi9lbnYgcHl0aG9uMwppbXBvcnQgYmFzZTY0CmltcG9ydCBqc29uCmltcG9ydCBvcwppbXBvcnQgc3lzCmZyb20gdXJsbGliLnJlcXVlc3QgaW1wb3J0IHVybG9wZW4KCgpkZWYgZGVzZXJpYWxpemVfYmluKHRhc2tjbHVzdGVyX3Byb3h5X3VybDogc3RyLCB0YXNrX2lkOiBzdHIpIC0+IE5vbmU6CgogICAgdHJ5OgogICAgICAgIHdpdGggdXJsb3BlbihmInt0YXNrY2x1c3Rlcl9wcm94eV91cmx9L2FwaS9xdWV1ZS92MS90YXNrL3t0YXNrX2lkfSIpIGFzIHJlc3BvbnNlOiAgIyBub3NlYwogICAgICAgICAgICByZXNwb25zZV9kYXRhID0gcmVzcG9uc2UucmVhZCgpCiAgICAgICAgICAgIGRhdGEgPSBqc29uLmxvYWRzKHJlc3BvbnNlX2RhdGEuZGVjb2RlKCkpCiAgICAgICAgICAgIGJpbl9maWxlczogZGljdCA9IGRhdGEuZ2V0KCJleHRyYSIsIHt9KS5nZXQoImJpbiIsIHt9KQogICAgICAgICAgICBmb3IgYmluX2ZpbGUgaW4gYmluX2ZpbGVzOgogICAgICAgICAgICAgICAgZW5jb2RlZF9jb250ZW50ID0gYmluX2ZpbGVzW2Jpbl9maWxlXQogICAgICAgICAgICAgICAgdHJ5OgogICAgICAgICAgICAgICAgICAgIGRlY29kZWRfY29udGVudCA9IGJhc2U2NC5iNjRkZWNvZGUoZW5jb2RlZF9jb250ZW50KQogICAgICAgICAgICAgICAgZXhjZXB0IChWYWx1ZUVycm9yLCBUeXBlRXJyb3IpIGFzIGU6CiAgICAgICAgICAgICAgICAgICAgcmFpc2UgVmFsdWVFcnJvcihmIkZhaWxlZCB0byBkZWNvZGUgYmFzZTY0IGNvbnRlbnQgZm9yIHtiaW5fZmlsZX06IHtlfSIpCiAgICAgICAgICAgICAgICB3aXRoIG9wZW4oZiJ7YmluX2ZpbGV9IiwgIndiIikgYXMgZjoKICAgICAgICAgICAgICAgICAgICBmLndyaXRlKGRlY29kZWRfY29udGVudCkKICAgICAgICAgICAgICAgICAgICBwcmludChmIlNlcmlhbGl6ZWQge2Jpbl9maWxlfSB0byB3b3JrZXIgc3VjY2Vzc2Z1bGx5LiIpCiAgICBleGNlcHQgRXhjZXB0aW9uIGFzIGU6CiAgICAgICAgcmFpc2UgVmFsdWVFcnJvcihmIkVycm9yIGZldGNoaW5nIHRhc2sgZGF0YToge2V9IikgZnJvbSBlCgoKaWYgX19uYW1lX18gPT0gIl9fbWFpbl9fIjoKICAgIHRyeToKICAgICAgICBpZiAiVEFTS19JRCIgbm90IGluIG9zLmVudmlyb246CiAgICAgICAgICAgIHByaW50KCJUQVNLX0lEIGlzIG5vdCBzZXQiLCBmaWxlPXN5cy5zdGRlcnIpCiAgICAgICAgICAgIHN5cy5leGl0KDEpCiAgICAgICAgaWYgIlRBU0tDTFVTVEVSX1BST1hZX1VSTCIgbm90IGluIG9zLmVudmlyb246CiAgICAgICAgICAgIHByaW50KCJUQVNLQ0xVU1RFUl9QUk9YWV9VUkwgaXMgbm90IHNldCIsIGZpbGU9c3lzLnN0ZGVycikKICAgICAgICAgICAgc3lzLmV4aXQoMSkKCiAgICAgICAgZGVzZXJpYWxpemVfYmluKG9zLmVudmlyb24uZ2V0KCJUQVNLQ0xVU1RFUl9QUk9YWV9VUkwiKSwgb3MuZW52aXJvbi5nZXQoIlRBU0tfSUQiKSkKCiAgICBleGNlcHQgRXhjZXB0aW9uIGFzIGU6CiAgICAgICAgcHJpbnQoZiJFcnJvciBkZXNlcmlhbGl6aW5nIHRvIHdvcmtlcjoge2V9IiwgZmlsZT1zeXMuc3RkZXJyKQogICAgICAgIHN5cy5leGl0KDEpCg==",
      "dump_job_params.py": "IyEvdXNyL2Jpbi9lbnYgcHl0aG9uMwoKaW1wb3J0IGpzb24KaW1wb3J0IG9zCmltcG9ydCBzeXMKCmltcG9ydCByZXF1ZXN0cwoKCmRlZiBkdW1wX2pvYl9wYXJhbXMoKToKCiAgICAjIGNoZWNrIGlmIFRBU0tfSUQgb3IgVEFTS0NMVVNURVJfUFJPWFlfVVJMIGlzIHNldAogICAgaWYgIlRBU0tfSUQiIG5vdCBpbiBvcy5lbnZpcm9uOgogICAgICAgIHByaW50KCJUQVNLX0lEIGlzIG5vdCBzZXQiLCBmaWxlPXN5cy5zdGRlcnIpCiAgICAgICAgc3lzLmV4aXQoMSkKICAgIGlmICJUQVNLQ0xVU1RFUl9QUk9YWV9VUkwiIG5vdCBpbiBvcy5lbnZpcm9uOgogICAgICAgIHByaW50KCJUQVNLQ0xVU1RFUl9QUk9YWV9VUkwgaXMgbm90IHNldCIsIGZpbGU9c3lzLnN0ZGVycikKICAgICAgICBzeXMuZXhpdCgxKQoKICAgICMgZmV0Y2ggdGhlIHRhc2sgaW5mbyBmcm9tIHRhc2tjbHVzdGVyIHByb3h5CiAgICB0cnk6CiAgICAgICAgdGFza19pbmZvID0gcmVxdWVzdHMuZ2V0KAogICAgICAgICAgICBmIntvcy5lbnZpcm9uWydUQVNLQ0xVU1RFUl9QUk9YWV9VUkwnXX0vYXBpL3F1ZXVlL3YxL3Rhc2sve29zLmVudmlyb25bJ1RBU0tfSUQnXX0iICAjIG5vc2VjCiAgICAgICAgKQogICAgICAgIHRhc2tfaW5mby5yYWlzZV9mb3Jfc3RhdHVzKCkKICAgIGV4Y2VwdCByZXF1ZXN0cy5leGNlcHRpb25zLlJlcXVlc3RFeGNlcHRpb24gYXMgZToKICAgICAgICBwcmludChmIkVycm9yIGZldGNoaW5nIHRhc2sgaW5mbzoge2V9IiwgZmlsZT1zeXMuc3RkZXJyKQogICAgICAgIHN5cy5leGl0KDEpCgogICAgcHJpbnQoanNvbi5kdW1wcyh0YXNrX2luZm8uanNvbigpLCBpbmRlbnQ9MikpCgoKaWYgX19uYW1lX18gPT0gIl9fbWFpbl9fIjoKICAgIGR1bXBfam9iX3BhcmFtcygpCg==",
      "sign_conda_pkgs.py": "aW1wb3J0IGVycm5vCmltcG9ydCBoYXNobGliCmltcG9ydCBqc29uCmltcG9ydCBsb2dnaW5nCmltcG9ydCBvcwppbXBvcnQgcmUKaW1wb3J0IHNobGV4CmltcG9ydCBzaHV0aWwKaW1wb3J0IHN1YnByb2Nlc3MgICMgbm9zZWMKaW1wb3J0IHN5cwppbXBvcnQgdGFyZmlsZQppbXBvcnQgdGVtcGZpbGUKZnJvbSBhYmMgaW1wb3J0IEFCQywgYWJzdHJhY3RtZXRob2QKZnJvbSBjb2xsZWN0aW9ucyBpbXBvcnQgbmFtZWR0dXBsZQpmcm9tIGNvbGxlY3Rpb25zLmFiYyBpbXBvcnQgR2VuZXJhdG9yLCBTZXF1ZW5jZQpmcm9tIGNvbnRleHRsaWIgaW1wb3J0IG51bGxjb250ZXh0CmZyb20gaXRlcnRvb2xzIGltcG9ydCBjaGFpbgpmcm9tIHBhdGhsaWIgaW1wb3J0IFBhdGgKZnJvbSBzaHV0aWwgaW1wb3J0IGNvcHl0cmVlCmZyb20gdHlwZXMgaW1wb3J0IFRyYWNlYmFja1R5cGUKZnJvbSB0eXBpbmcgaW1wb3J0IElPLCBBbnksIExpdGVyYWwKCmZyb20gcnVhbWVsLnlhbWwgaW1wb3J0IFlBTUwKZnJvbSBzZWNyZXRfbWFuYWdlciBpbXBvcnQgU2VjcmV0LCBpbml0X2dpdF9hc2twYXNzCmZyb20gc2hhcmVkX3V0aWxzIGltcG9ydCBnZXRfY29uZGFfYmluLCBnZXRfaG9tZV9kaXIKCiMgaHR0cHM6Ly9naXRodWIuY29tL2NvbmRhL2NvbmRhL2Jsb2IvNmI5YTI3M2Y5OWM4Nzk4N2M4NzdkYmUwMjEzYTRkYzU4ODU3MDg4My9jb25kYS9iYXNlL2NvbnN0YW50cy5weSNMMTUyCkNPTkRBX1BBQ0tBR0VfRVhURU5TSU9OX1YxID0gIi50YXIuYnoyIgpDT05EQV9QQUNLQUdFX0VYVEVOU0lPTl9WMiA9ICIuY29uZGEiCkNPTkRBX1BBQ0tBR0VfRVhURU5TSU9OUyA9ICgKICAgIENPTkRBX1BBQ0tBR0VfRVhURU5TSU9OX1YyLAogICAgQ09OREFfUEFDS0FHRV9FWFRFTlNJT05fVjEsCikKCldPUktTUEFDRV9ESVIgPSBQYXRoKG9zLmVudmlyb24uZ2V0KCJUQVNLX1dPUktESVIiKSkKCgpkZWYgaXNfcGxhdGZvcm1fd2luZG93cygpIC0+IGJvb2w6CiAgICByZXR1cm4gc3lzLnBsYXRmb3JtID09ICJ3aW4zMiIKCgp1c2Vfc2hlbGwgPSBGYWxzZQppZiBpc19wbGF0Zm9ybV93aW5kb3dzKCk6CiAgICB1c2Vfc2hlbGwgPSBUcnVlCgoKY2xhc3MgTmFtZWRUZW1wb3JhcnlGaWxlOgogICAgIiIiCiAgICBTaW1pbGFyIHRvIHRlbXBmaWxlLk5hbWVkVGVtcG9yYXJ5RmlsZSB3aGljaCB3b3JrcyBvbiBXaW5kb3dzIGFuZCBhbHdheXMKICAgIGRlbGV0ZXMgdGhlIGZpbGUuCiAgICBDb250ZXh0IG9iamVjdCB3aWxsIGJlIGEgKGZpbGUgb2JqZWN0LCBmaWxlIHBhdGgpCgogICAgTmVlZGVkIHVudGlsIHB5My4xMiBmb3IgYGRlbGV0ZV9vbl9jbG9zZWAgc28gdGhlIGZpbGUgc3RpY2tzIGFyb3VuZC4KICAgIERlcml2ZWQgZnJvbSBjb29rYm9vay9mbG93cy9jb21tb25zLnB5OjpOYW1lZFRlbXBvcmFyeUZpbGUKICAgICIiIgoKICAgIGZkOiBpbnQKICAgIHBhdGg6IHN0cgogICAgZmlsZTogSU9bc3RyXQoKICAgIGRlZiBfX2luaXRfXyhzZWxmLCAqcG9zOiBBbnksICoqa3c6IEFueSkgLT4gTm9uZToKICAgICAgICBzZWxmLnBvcyA9IHBvcwogICAgICAgIHNlbGYua3cgPSBrdwoKICAgIGRlZiBfX2VudGVyX18oc2VsZikgLT4gdHVwbGVbSU9bc3RyXSwgc3RyXToKICAgICAgICBzZWxmLmZkLCBzZWxmLnBhdGggPSB0ZW1wZmlsZS5ta3N0ZW1wKCpzZWxmLnBvcywgKipzZWxmLmt3KQogICAgICAgIHNlbGYuZmlsZSA9IG9wZW4oc2VsZi5mZCwgbW9kZT0idyIsIGVuY29kaW5nPSJ1dGYtOCIsIG5ld2xpbmU9IlxyXG4iKQogICAgICAgIHJldHVybiAoc2VsZi5maWxlLCBzZWxmLnBhdGgpCgogICAgZGVmIF9fZXhpdF9fKAogICAgICAgIHNlbGYsCiAgICAgICAgZXhjX3R5cGU6IHR5cGVbQmFzZUV4Y2VwdGlvbl0gfCBOb25lLAogICAgICAgIGV4Y192YWx1ZTogQmFzZUV4Y2VwdGlvbiB8IE5vbmUsCiAgICAgICAgZXhjX3RiOiBUcmFjZWJhY2tUeXBlIHwgTm9uZSwKICAgICkgLT4gTm9uZToKICAgICAgICBzZWxmLmZpbGUuY2xvc2UoKQoKCmRlZiBXaW5kb3dzU2hlbGxSdW4oCiAgICBjb21tYW5kOiBzdHIgfCBTZXF1ZW5jZVtzdHJdLAogICAgbG9nZ2VyOiBsb2dnaW5nLkxvZ2dlciwKICAgIHJldHVybl9hbGw6IGJvb2wgPSBGYWxzZSwKICAgIGVudjogZGljdFtzdHIsIHN0cl0gPSBOb25lLAogICAgbG9nX3N0ZGVycjogYm9vbCA9IEZhbHNlLAogICAgc3RyZWFtX291dHB1dDogaW50ID0gRmFsc2UsCiAgICB1c2Vfc3NoX2tleTogYm9vbCA9IEZhbHNlLAogICAgdGVybWluYXRlX29uX2ZhaWw6IGJvb2wgPSBUcnVlLCAgIyBVbnVzZWQsIG1lYW50IGZvciBwcmVmZWN0CikgLT4gdHVwbGVbbGlzdFtzdHJdIHwgc3RyIHwgTm9uZSwgaW50XToKICAgICIiIlJ1bnMgY29tbWFuZChzKSBpbiBhIHNoZWxsCgogICAgZGVyaXZlZCBmcm9tIGNvb2tib29rL2Zsb3dzL2NvbW1vbnMucHk6OnNoZWxsX3J1bl9yZXR1cm5fY29kZQogICAgYnV0IHNpbXBsaWZpZWQgZm9yIGEgc3RhbmRhbG9uZSBydW4gb3V0c2lkZSBvZiBwcmVmZWN0IG9uIEdIQQogICAgIiIiCiAgICBjdXJyZW50X2VudiA9IG9zLmVudmlyb24uY29weSgpCiAgICBjdXJyZW50X2Vudi51cGRhdGUoZW52IG9yIHt9KQoKICAgIHN1ZmZpeDogc3RyID0gIi5iYXQiCgogICAgZGlyID0gV09SS1NQQUNFX0RJUi5yZXNvbHZlKCkuYWJzb2x1dGUoKQoKICAgICMgZGVsZXRlPUZhbHNlIHByZXZlbnRzIGZpbGUgZnJvbSBiZWluZyBkZWxldGVkIHdoZW4gaXQgaXMgY2xvc2VkCiAgICB3aXRoIE5hbWVkVGVtcG9yYXJ5RmlsZShwcmVmaXg9InNpZ25pbmctaGVscGVyLSIsIHN1ZmZpeD1zdWZmaXgsIGRpcj1kaXIpIGFzICh0bXAsIHRtcF9wYXRoKToKCiAgICAgICAgZGVmIHdyaXRlX2xpbmUodGV4dDogc3RyKSAtPiBOb25lOgogICAgICAgICAgICB0bXAud3JpdGUodGV4dCkKICAgICAgICAgICAgdG1wLndyaXRlKCJcbiIpCgogICAgICAgICMgd3JpdGUgY29tbWFuZCB0byB0ZW1wb3JhcnkgZmlsZQogICAgICAgIHdyaXRlX2xpbmUoIkBlY2hvIG9mZiIpCgogICAgICAgICMgdHJhbnNsYXRlIGFsbCBpbnB1dHMgdG8gbGlzdCBvZiBzdHJpbmdzCiAgICAgICAgaWYgaXNpbnN0YW5jZShjb21tYW5kLCBzdHIpOgogICAgICAgICAgICBjb21tYW5kID0gW2NvbW1hbmRdCgogICAgICAgICMgd3JpdGUgY29tbWFuZHMgdG8gZmlsZQogICAgICAgIGZvciBjbWRsaW5lIGluIGNvbW1hbmQ6CiAgICAgICAgICAgICMgdHJhbnNsYXRlICR7fSBzeW50YXggdG8gd2luZG93cyAlJSBzeW50YXgKICAgICAgICAgICAgY21kbGluZSA9IHJlLnN1YihyIlwkeyguKj8pfSIsIHIiJVwxJSIsIGNtZGxpbmUpCiAgICAgICAgICAgIHdyaXRlX2xpbmUoY21kbGluZSkKCiAgICAgICAgIyBjbG9zZSBiL2Mgd2luZG93cyB3aWxsIG5vdCBsZXQgdXMgcmVhZCBpdCB1bnRpbCB3ZSBkbwogICAgICAgIHRtcC5mbHVzaCgpCiAgICAgICAgdG1wLmNsb3NlKCkKCiAgICAgICAgcmV0dXJuX2NvZGU6IGludCA9IDAKCiAgICAgICAgd2l0aCBzdWJwcm9jZXNzLlBvcGVuKCAgIyBub3NlYwogICAgICAgICAgICBbc3RyKHRtcF9wYXRoKV0sCiAgICAgICAgICAgIHN0ZG91dD1zdWJwcm9jZXNzLlBJUEUsCiAgICAgICAgICAgIHN0ZGVycj1zdWJwcm9jZXNzLlNURE9VVCwKICAgICAgICAgICAgZW52PWN1cnJlbnRfZW52LAogICAgICAgICAgICB0ZXh0PVRydWUsCiAgICAgICAgICAgIGVuY29kaW5nPSJ1dGYtOCIsCiAgICAgICAgICAgIGVycm9ycz0icmVwbGFjZSIsCiAgICAgICAgKSBhcyBzdWJfcHJvY2VzczoKICAgICAgICAgICAgbGFzdF9saW5lID0gIiIKICAgICAgICAgICAgbGluZXM6IGxpc3Rbc3RyXSA9IFtdCiAgICAgICAgICAgIGFzc2VydCBzdWJfcHJvY2Vzcy5zdGRvdXQgaXMgbm90IE5vbmUgICMgbm9zZWMgIyBuZXZlciB0cnVlIGhlcmUsIGFwcGVhc2UgdHlwZSBjaGVja2VycwogICAgICAgICAgICBmb3IgbGluZSBpbiBpdGVyKHN1Yl9wcm9jZXNzLnN0ZG91dC5yZWFkbGluZSwgIiIpOgogICAgICAgICAgICAgICAgbGluZSA9IGxpbmUucnN0cmlwKCkKICAgICAgICAgICAgICAgIGxhc3RfbGluZSA9IGxpbmUKCiAgICAgICAgICAgICAgICBpZiByZXR1cm5fYWxsOgogICAgICAgICAgICAgICAgICAgIGxpbmVzLmFwcGVuZChsaW5lKQogICAgICAgICAgICAgICAgaWYgc3RyZWFtX291dHB1dDoKICAgICAgICAgICAgICAgICAgICBsb2dnZXIubG9nKGxldmVsPXN0cmVhbV9vdXRwdXQsIG1zZz1saW5lKQoKICAgICAgICAgICAgIyBwcm9jZXNzIGhhcyBjbG9zZWQgb3V0cHV0CiAgICAgICAgICAgICMgbm90IG5lY2Vzc2FyaWx5IHF1aXR0aW5nIHlldCwgb3IgaXQgY291bGQgYmUgaHVuZwogICAgICAgICAgICBzdWJfcHJvY2Vzcy53YWl0KCkKICAgICAgICAgICAgaWYgc3ViX3Byb2Nlc3MucmV0dXJuY29kZToKICAgICAgICAgICAgICAgIHJldHVybl9jb2RlID0gc3ViX3Byb2Nlc3MucmV0dXJuY29kZQogICAgICAgICAgICAgICAgbXNnID0gZiJDb21tYW5kIGZhaWxlZCB3aXRoIGV4aXQgY29kZSB7cmV0dXJuX2NvZGV9IgogICAgICAgICAgICAgICAgbG9ndGV4dCA9IG1zZyArICJcbiIKCiAgICAgICAgICAgICAgICBpZiBsb2dfc3RkZXJyIGFuZCBub3Qgc3RyZWFtX291dHB1dDoKICAgICAgICAgICAgICAgICAgICBsb2d0ZXh0ID0gbG9ndGV4dCArICgiXG4iLmpvaW4obGluZXMpIGlmIHJldHVybl9hbGwgZWxzZSBsYXN0X2xpbmUpCgogICAgICAgICAgICAgICAgIyBwcmludCBlbnRpcmUgbWVzc2FnZSBvbiBvbmUgbGluZSBpbiBsb2cgc28gaXQncyBjbGVhciB3aGljaCBsaW5lIGlzIHRoZSBlcnJvcgogICAgICAgICAgICAgICAgbG9nZ2VyLmVycm9yKGxvZ3RleHQpCgogICAgICAgIHJldHVybiAobGluZXMgaWYgcmV0dXJuX2FsbCBlbHNlIGxhc3RfbGluZSwgcmV0dXJuX2NvZGUpCgoKY2xhc3MgUGtnQ29udGVudFNpZ25TdXBwb3J0QmFzZShBQkMpOgogICAgIiIiQWJzdHJhY3QgQ2xhc3MgZm9yIHN1cHBvcnRpbmcgYWJzdHJhY3Rpb25zIG5lY2Vzc2FyeSBmb3Igc2lnbmluZwoKICAgIFNwZWNpZmljYWxseSBkaWZmZXJlbmNlcyBiZXR3ZWVuIFByZWZlY3QgYW5kIE5vdCBQcmVmZWN0CiAgICAiIiIKCiAgICBfcGFyZW50OiAiUGtnQ29udGVudFNpZ24iCgogICAgQGFic3RyYWN0bWV0aG9kCiAgICBkZWYgZ2V0X2F6dXJlX2NyZWRlbnRpYWxzKHNlbGYsIHVwbG9hZDogYm9vbCkgLT4gZGljdDoKICAgICAgICAjIEV4cGVjdGluZzoKICAgICAgICAjIHsKICAgICAgICAjICAgJ0Fzc2VydGlvblRodW1icHJpbnQnOiA8VGh1bWJwcmludCBvZiBDZXJ0aWZpY2F0ZT4sCiAgICAgICAgIyAgICdDZXJ0aWZpY2F0ZU5hbWUnOiA8TmFtZSBvZiBjZXJ0IGFzIHN0b3JlZCBpbiBBenVyZT4sCiAgICAgICAgIyAgICdDbGllbnRJRCc6IDxDbGllbnQgSUQgZm9yIEF6dXJlIFVzZXI+LAogICAgICAgICMgICAnS2V5VmF1bHRVUkwnOiA8VVJMIGZvciBBenVyZSBLZXl2YXVsdCBTZXJ2aWNlPiwKICAgICAgICAjICAgJ1NlY3JldCc6IDxTZWNyZXQgdG8gYXV0aGVudGljYXRlPiwKICAgICAgICAjICAgJ1RlbmFudElEJzogPElEIG9mIHRoZSBvcmdhbml6YXRpb24+LAogICAgICAgICMgfQogICAgICAgIHBhc3MKCiAgICBAYWJzdHJhY3RtZXRob2QKICAgIGRlZiBhenVyZXNpZ25fY29tbWFuZChzZWxmLCBzaWduaW5nX3NlY3JldHM6IGRpY3Rbc3RyLCBzdHJdLCB0b3NpZ246IFBhdGgpIC0+IHN0cjoKICAgICAgICAiIiJHZXQgdGhlIGNvcnJlY3QgYXp1cmVzaWdudG9vbCBjb21tYW5kIGxpbmUiIiIKICAgICAgICBwYXNzCgogICAgQGFic3RyYWN0bWV0aG9kCiAgICBkZWYgc2hlbGxfcnVuKHNlbGYsIGFsdGVybmF0ZV9jbWRfdG9fbG9nOiBzdHIgPSBOb25lLCAqKmt3YXJncykgLT4gbGlzdFtzdHJdIHwgc3RyIHwgTm9uZToKICAgICAgICAiIiJSdW5zIGluIGEgc2hlbGwiIiIKICAgICAgICBwYXNzCgogICAgQGFic3RyYWN0bWV0aG9kCiAgICBkZWYgc2hlbGxfcnVuX3dpdGhfZ2l0X2tleShzZWxmLCBhbHRlcm5hdGVfY21kX3RvX2xvZzogc3RyID0gTm9uZSwgKiprd2FyZ3MpIC0+IE5vbmU6CiAgICAgICAgIiIiUnVucyBpbiBhIHNoZWxsIHdpdGggYW4gYWN0aXZlIGdpdCBzc2gga2V5IiIiCiAgICAgICAgcGFzcwoKICAgIEBhYnN0cmFjdG1ldGhvZAogICAgZGVmIGF1ZGl0KHNlbGYsIGF1ZGl0X3R5cGU6IHN0ciwgYXVkaXRfZGF0YTogZGljdFtzdHIsIEFueV0gPSBOb25lKSAtPiBOb25lOgogICAgICAgICIiIlByb3ZpZGVzIGEgaG9vayB0byBhdWRpdCB0aGUgc2lnbmluZyB0aGF0IG9jY3VycmVkCgogICAgICAgIEF1ZGl0IFR5cGVzOgogICAgICAgICAgLSBVc2VyIC0gUmVjb3JkcyB0aGUgdHJpZ2dlcmluZyB1c2VyCiAgICAgICAgICAgICAgICAtIERvZXMgbm90IHVzZSBhdWRpdF9kYXRhIGFyZ3VtZW50CiAgICAgICAgICAtIFVuc2lnbmVkLVBrZyAtIFBhY2thZ2Ugd2UgbWlnaHQgc2lnbi4KICAgICAgICAgICAgICAgIC0gYXVkaXRfZGF0YSBzaG91bGQgaGF2ZSBhIFBhdGgga2V5IHdoaWNoIGlzIGEgUGF0aCBvYmplY3QgZm9yIHRoZSBhYnNwYXRoCiAgICAgICAgICAgICAgICAgIG9mIHRoZSBmaWxlCiAgICAgICAgICAtIFVuc2lnbmVkLUZpbGUgLSBGaWxlIHdlIG1pZ2h0IHNpZ24uCiAgICAgICAgICAgICAgICAtIGF1ZGl0X2RhdGEgc2hvdWxkIGhhdmUgYSBQYXRoIGtleSAocmVsYXRpdmUgdG8gcGFja2FnZSBleHRyYWN0ZWQgZm9sZGVyKQogICAgICAgICAgICAgICAgICBmb3IgdGhlIGZpbGUKICAgICAgICAiIiIKICAgICAgICBwYXNzCgogICAgQGFic3RyYWN0bWV0aG9kCiAgICBkZWYgZHVtcF9hdWRpdF9pbmZvKHNlbGYpIC0+IE5vbmU6CiAgICAgICAgcGFzcwoKCmNsYXNzIFBrZ0NvbnRlbnRTaWduOgogICAgIiIiQ29udmVuaWVuY2UgQ2xhc3MgdG8gZW5jb21wYXNzIHBhY2thZ2UgY29udGVudCBzaWduaW5nIiIiCgogICAgbG9nZ2VyOiBsb2dnaW5nLkxvZ2dlcgogICAgIkxvZ2dpbmcgSW5zdGFuY2UiCiAgICB1cGxvYWQ6IGJvb2wKICAgICJ1cGxvYWQgKG1lcmdlZCkgYnVpbGQiCiAgICB1cGxvYWRfZGlyOiBQYXRoCiAgICAiVXBsb2FkIERpcmVjdG9yeSBvbiBsb2NhbCBkaXNrIgogICAgZmxvd3J1bl9kaXI6IFBhdGgKICAgICJGbG93cnVuIHdvcmtzcGFjZSBvbiBsb2NhbCBkaXNrIgogICAgYmFja3VwX3VwbG9hZF9kaXI6IFBhdGgKICAgICJCYWNrZWQgdXAgdXBsb2FkIGRpcmVjdG9yeSBvbiBsb2NhbCBkaXNrIgogICAgc3JjX2NhY2hlX2ZvbGRlcjogUGF0aAogICAgInNyYyBjYWNoIGZvbGRlciwgb24gbG9jYWwgZGlzayIKICAgIGNyZWF0ZV9yZXBvZGF0YTogYm9vbAogICAgIlNob3VsZCB3ZSBjcmVhdGUvdXBkYXRlIHJlcG9kYXRhIgogICAgc3VwcG9ydF9jbGFzczogUGtnQ29udGVudFNpZ25TdXBwb3J0QmFzZQogICAgIkNsYXNzIHRvIGFic3RyYWN0IG91dCBsb2dpYyB0aGF0IGlzIGltcGxlbWVudGF0aW9uIHNwZWNpZmljIgogICAgX2NhY2hlZF9zaWduaW5nX3NlY3JldHM6IGRpY3Rbc3RyLCBzdHJdID0gTm9uZQogICAgIkNsYXNzIHdpZGUgc2lnbmluZyBzZWNyZXRzIGNhY2hlZCB2YWx1ZSIKICAgIF9jYWNoZWRfc291cmNlc19pbmZvOiBkaWN0W1BhdGgsIGRpY3Rbc3RyLCBBbnldXSA9IE5vbmUKICAgICJjYWNoZWQgc291cmNlcyBpbmZvLCByZXNldHMgZm9yIGVhY2ggY29uZGEgcGFja2FnZSIKICAgIF9jYWNoZWRfcHJlZml4X3JlcGxhY2VtZW50X2luZm86IGRpY3RbUGF0aCwgZGljdFtzdHIsIHN0cl1dID0gTm9uZQogICAgImNhY2hlZCBwcmVmaXggcmVwbGFjZW1lbnQgaW5mbywgcmVzZXRzIGZvciBlYWNoIGNvbmRhIHBhY2thZ2UiCgogICAgZGVmIF9faW5pdF9fKAogICAgICAgIHNlbGYsCiAgICAgICAgdXBsb2FkX2ZvbGRlcjogc3RyLAogICAgICAgIGZsb3dydW5fZGlyOiBzdHIsCiAgICAgICAgdXBsb2FkOiBib29sLAogICAgICAgIGxvZ2dlcjogbG9nZ2luZy5Mb2dnZXIsCiAgICAgICAgc3JjX2NhY2hlX2ZvbGRlcjogc3RyLAogICAgICAgIGNyZWF0ZV9yZXBvZGF0YTogYm9vbCwKICAgICAgICBzdXBwb3J0X2NsYXNzOiBQa2dDb250ZW50U2lnblN1cHBvcnRCYXNlLAogICAgKSAtPiBOb25lOgogICAgICAgICIiIkluaXRpYWxpemVzIHRoZSBjbGFzcy4iIiIKICAgICAgICBzZWxmLnVwbG9hZF9kaXIgPSBQYXRoKHVwbG9hZF9mb2xkZXIpCiAgICAgICAgc2VsZi5mbG93cnVuX2RpciA9IFBhdGgoZmxvd3J1bl9kaXIpCiAgICAgICAgc2VsZi5zcmNfY2FjaGVfZm9sZGVyID0gUGF0aChzcmNfY2FjaGVfZm9sZGVyKQogICAgICAgIHNlbGYudXBsb2FkID0gdXBsb2FkCiAgICAgICAgc2VsZi5sb2dnZXIgPSBsb2dnZXIKICAgICAgICBzZWxmLmNyZWF0ZV9yZXBvZGF0YSA9IGNyZWF0ZV9yZXBvZGF0YQogICAgICAgIHNlbGYuc3VwcG9ydF9jbGFzcyA9IHN1cHBvcnRfY2xhc3MKICAgICAgICBzZWxmLnN1cHBvcnRfY2xhc3MuX3BhcmVudCA9IHNlbGYKICAgICAgICBzZWxmLnN1cHBvcnRfY2xhc3MuYXVkaXQoIlVzZXIiKQoKICAgIGRlZiBnZXRfc2lnbmluZ19zZWNyZXRzKHNlbGYpIC0+IGRpY3Rbc3RyLCBzdHJdOgogICAgICAgICIiIkdldHMgb3VyIHNpZ25pbmcgc2VjcmV0cyBhbmQgcmV0dXJucyB0aGVtIGFzIGEgZGljdAoKICAgICAgICBUaGlzIGZ1bmN0aW9uIGNhY2hlcyBpdCdzIHJlc3VsdCBzbyB3ZSBkb24ndCBoYXZlIHRvIGtlZXAKICAgICAgICBmZXRjaGluZyBmcm9tIHRoZSBQcmVmZWN0IEFQSQogICAgICAgICIiIgogICAgICAgICMgRXhwZWN0aW5nOgogICAgICAgICMgewogICAgICAgICMgICAnQXNzZXJ0aW9uVGh1bWJwcmludCc6IDxUaHVtYnByaW50IG9mIENlcnRpZmljYXRlPiwKICAgICAgICAjICAgJ0NlcnRpZmljYXRlTmFtZSc6IDxOYW1lIG9mIGNlcnQgYXMgc3RvcmVkIGluIEF6dXJlPiwKICAgICAgICAjICAgJ0NsaWVudElEJzogPENsaWVudCBJRCBmb3IgQXp1cmUgVXNlcj4sCiAgICAgICAgIyAgICdLZXlWYXVsdFVSTCc6IDxVUkwgZm9yIEF6dXJlIEtleXZhdWx0IFNlcnZpY2U+LAogICAgICAgICMgICAnU2VjcmV0JzogPFNlY3JldCB0byBhdXRoZW50aWNhdGU+LAogICAgICAgICMgICAnVGVuYW50SUQnOiA8SUQgb2YgdGhlIG9yZ2FuaXphdGlvbj4sCiAgICAgICAgIyB9CiAgICAgICAgaWYgc2VsZi5fY2FjaGVkX3NpZ25pbmdfc2VjcmV0cyBpcyBub3QgTm9uZToKICAgICAgICAgICAgcmV0dXJuIHNlbGYuX2NhY2hlZF9zaWduaW5nX3NlY3JldHMKICAgICAgICBzZWxmLmxvZ2dlci5pbmZvKCJHZXR0aW5nIEF6dXJlU2lnblRvb2wgY3JlZGVudGlhbHMuLi4iKQogICAgICAgIHNpZ25pbmdfc2VjcmV0cyA9IHNlbGYuc3VwcG9ydF9jbGFzcy5nZXRfYXp1cmVfY3JlZGVudGlhbHMoc2VsZi51cGxvYWQpCiAgICAgICAgc2VsZi5fY2FjaGVkX3NpZ25pbmdfc2VjcmV0cyA9IHNpZ25pbmdfc2VjcmV0cwogICAgICAgIHJldHVybiBzaWduaW5nX3NlY3JldHMKCiAgICBkZWYgc2lnbl9maWxlKHNlbGYsIGZpbGVfcGF0aDogUGF0aCkgLT4gTGl0ZXJhbFtUcnVlXToKICAgICAgICAiIiJDb2Rlc2lnbnMgYSBzcGVjaWZpYyBmaWxlIHVzaW5nIEF6dXJlU2lnblRvb2wKCiAgICAgICAgQXNzdW1lcyBhIGZpbGVfcGF0aCB3aXRob3V0IHNwYWNlcy4KICAgICAgICBSZXR1cm5zIFRydWUgaWYgbm8gZXhjZXB0aW9uIHJhaXNlZC4KICAgICAgICAiIiIKICAgICAgICBzaWduaW5nX3NlY3JldHMgPSBzZWxmLmdldF9zaWduaW5nX3NlY3JldHMoKQogICAgICAgIHRvc2lnbl9maWxlID0gZmlsZV9wYXRoLmFic29sdXRlKCkKICAgICAgICBjb21tYW5kID0gc2VsZi5zdXBwb3J0X2NsYXNzLmF6dXJlc2lnbl9jb21tYW5kKHNpZ25pbmdfc2VjcmV0cywgdG9zaWduX2ZpbGUpCiAgICAgICAgc2VsZi5sb2dnZXIuaW5mbyhmIlNpZ25pbmcge3Rvc2lnbl9maWxlfSIpCiAgICAgICAgc2VsZi5fc2hlbGxfcnVuKAogICAgICAgICAgICBjb21tYW5kPWNvbW1hbmQsCiAgICAgICAgICAgIGFsdGVybmF0ZV9jbWRfdG9fbG9nPWYiQXp1cmVTaWduVG9vbCBzaWduIC4uLiAtdiB7dG9zaWduX2ZpbGV9IiwKICAgICAgICAgICAgbG9nZ2VyPXNlbGYubG9nZ2VyLAogICAgICAgICAgICBzdHJlYW1fb3V0cHV0PTIwLAogICAgICAgICAgICBsb2dfc3RkZXJyPVRydWUsCiAgICAgICAgKQogICAgICAgIHNlbGYudmVyaWZ5X3NpZ25hdHVyZSgKICAgICAgICAgICAgc2lnbmVkX2ZpbGU9dG9zaWduX2ZpbGUsIGV4cGVjdGVkX3NpZ25hdHVyZT1zaWduaW5nX3NlY3JldHNbIkFzc2VydGlvblRodW1icHJpbnQiXQogICAgICAgICkKICAgICAgICByZXR1cm4gVHJ1ZSAgIyBXZSBzaWduZWQgYSBmaWxlCgogICAgZGVmIGdldF9maWxlX3NpZ25hdHVyZShzZWxmLCBmaWxlX3B0aDogUGF0aCkgLT4gc3RyOgogICAgICAgICIiIlJldHJpZXZlcyB0aGUgc2lnbmF0dXJlIChpZiBhbnkpIGZyb20gYSBnaXZlbiBiaW5hcnkuCgogICAgICAgIFVzZXMgUG93ZXJzaGVsbCB1bmRlciB0aGUgaG9vZC4KICAgICAgICBBc3N1bWVzIGEgZmlsZV9wYXRoIHdpdGhvdXQgc3BhY2VzLgogICAgICAgICIiIgogICAgICAgIGNvbW1hbmQgPSAoCiAgICAgICAgICAgIGYnUG93ZXJzaGVsbCAtYyAiJHNpZyA9IEdldC1BdXRoZW50aWNvZGVTaWduYXR1cmUgLUxpdGVyYWxQYXRoIHtmaWxlX3B0aC5hYnNvbHV0ZSgpfTsgJwogICAgICAgICAgICAnJHNpZy5TaWduZXJDZXJ0aWZpY2F0ZS5UaHVtYnByaW50IicKICAgICAgICApCiAgICAgICAgc2lnID0gc2VsZi5fc2hlbGxfcnVuKAogICAgICAgICAgICBjb21tYW5kPWNvbW1hbmQsCiAgICAgICAgICAgIGxvZ2dlcj1zZWxmLmxvZ2dlciwKICAgICAgICAgICAgc3RyZWFtX291dHB1dD0yMCwKICAgICAgICAgICAgbG9nX3N0ZGVycj1UcnVlLAogICAgICAgICAgICByZXR1cm5fYWxsPVRydWUsCiAgICAgICAgKQogICAgICAgIHJldHVybiAiXG4iLmpvaW4oc2lnKS5zdHJpcCgpCgogICAgZGVmIHZlcmlmeV9zaWduYXR1cmUoc2VsZiwgc2lnbmVkX2ZpbGU6IFBhdGgsIGV4cGVjdGVkX3NpZ25hdHVyZTogc3RyKSAtPiBOb25lOgogICAgICAgICIiIkNoZWNrcyB0aGF0IGEgZmlsZSBpcyBzaWduZWQgYXMgZXhwZWN0ZWQKCiAgICAgICAgR2l2ZW4gYSBmaWxlIGFuZCBhbiBleHBlY3RlZCBzaWduYXR1cmUgdGh1bWJwcmludCwgY2hlY2sgdGhhdAogICAgICAgIHRoZSBmaWxlIGlzIHNpZ25lZCB3aXRoIHNhaWQgc2lnbmF0dXJlCiAgICAgICAgIiIiCiAgICAgICAgc2lnID0gc2VsZi5nZXRfZmlsZV9zaWduYXR1cmUoc2lnbmVkX2ZpbGUpCiAgICAgICAgaWYgbGVuKHNpZykgIT0gNDA6CiAgICAgICAgICAgIHNlbGYubG9nZ2VyLmVycm9yKGYiVW5leHBlY3RlZCBzaWduYXR1cmUgb3V0cHV0LCBtYXliZSB0aGVyZSB3YXMgYW4gZXJyb3I6IHtzaWd9IikKICAgICAgICAgICAgcmFpc2UgRXhjZXB0aW9uKCJVbmV4cGVjdGVkIGVycm9yIHZlcmlmeWluZyBzaWduYXR1cmUiKQogICAgICAgIGlmIG5vdCBzaWcgPT0gZXhwZWN0ZWRfc2lnbmF0dXJlOgogICAgICAgICAgICBzZWxmLmxvZ2dlci5lcnJvcigKICAgICAgICAgICAgICAgIGYiVW5leHBlY3RlZCBzaWduYXR1cmUgYWZ0ZXIgc2lnbmluZzogZXhwZWN0ZWQgKHtleHBlY3RlZF9zaWduYXR1cmV9KSBnb3Q6IHtzaWd9IgogICAgICAgICAgICApCiAgICAgICAgICAgIHJhaXNlIEV4Y2VwdGlvbigiVW5leHBlY3RlZCBzaWduYXR1cmUgdGh1bWJwcmludCIpCiAgICAgICAgc2VsZi5sb2dnZXIuZGVidWcoZiJTaWduYXR1cmVzIE1hdGNoIHtzaWd9IikKCiAgICBkZWYgbG9nX2FsbF9zaWduYXR1cmVzKHNlbGYsIGV4dHJhY3RlZF9kaXI6IHN0cikgLT4gTm9uZToKICAgICAgICAiIiJMb2dzIGFsbCBzaWduYXR1cmVzIGZvciBDb2Rlc2lnbmFibGUgZmlsZXMgaW4gZGlyZWN0b3J5CgogICAgICAgIEdpdmVuIGEgZGlyZWN0b3J5LCB1c2UgcG93ZXJzaGVsbCB0byBzZWFyY2ggZm9yIHNpZ25hYmxlIGZpbGVzCiAgICAgICAgYW5kIG91dHB1dCB0aGVpciBzaWduYXR1cmUgaW5mb3JtYXRpb24uCiAgICAgICAgIiIiCiAgICAgICAgcHMxX291dHB1dF9zaWduaW5nX2luZm8gPSAoCiAgICAgICAgICAgICMgVGhpcyBpcyBhIGZhaXJseSBjb21wbGljYXRlZCBwb3dlcnNoZWxsIGNvbW1hbmQsIGJ1dCBnaXZlcyB1cyB1c2VmdWwgaW5mbwogICAgICAgICAgICAjIGluIG91ciBsb2csIHNvIGdvIHdpdGggaXQgYW55d2F5LgogICAgICAgICAgICBmImNkICd7ZXh0cmFjdGVkX2Rpcn0nOyAiCiAgICAgICAgICAgICJHZXQtQ2hpbGRJdGVtIC1QYXRoIC4gLVJlY3Vyc2UgLUluY2x1ZGUgKi5leGUsICouZGxsLCAqLnB5ZCwgKi5wczEiCiAgICAgICAgICAgICIgfCBGb3JFYWNoLU9iamVjdCB7ICIKICAgICAgICAgICAgIiAgICAgR2V0LUF1dGhlbnRpY29kZVNpZ25hdHVyZSAtTGl0ZXJhbFBhdGggJF8gIgogICAgICAgICAgICAiIH0gfCAiCiAgICAgICAgICAgICIgRm9yRWFjaC1PYmplY3QgeyAiCiAgICAgICAgICAgICIgICBbcHNjdXN0b21vYmplY3RdQHsgIgogICAgICAgICAgICAjIFRoaXMgc2VjdGlvbiBpcyBgdGFibGVfaGVhZGVyID0gdmFsdWVgIGFuZCBuZWVkcyBzZW1pY29sb24gZHVlIHRvIHB5dGhvbgogICAgICAgICAgICAjIG1ha2luZyBpdCBhbGwgb25lLWxpbmUKICAgICAgICAgICAgIiAgICAgU2lnbmVyQ2VydGlmaWNhdGUgPSAkXy5TaWduZXJDZXJ0aWZpY2F0ZS5UaHVtYnByaW50OyIKICAgICAgICAgICAgIiAgICAgU3RhdHVzID0gJF8uc3RhdHVzOyIKICAgICAgICAgICAgIiAgICAgUGF0aCA9IFJlc29sdmUtUGF0aCAtUmVsYXRpdmUgJF8uUGF0aDsiCiAgICAgICAgICAgICIgICAgIFNpZ25hdHVyZVR5cGUgPSAkXy5TaWduYXR1cmVUeXBlOyIKICAgICAgICAgICAgIiAgICAgTWVzc2FnZSA9ICRfLlN0YXR1c01lc3NhZ2U7IgogICAgICAgICAgICAiICAgfSIKICAgICAgICAgICAgIn0gfCBGb3JtYXQtTGlzdCIKICAgICAgICApCiAgICAgICAgY29tbWFuZCA9IGYncG93ZXJzaGVsbCAtYyAie3BzMV9vdXRwdXRfc2lnbmluZ19pbmZvfSInCiAgICAgICAgc2VsZi5fc2hlbGxfcnVuKAogICAgICAgICAgICBjb21tYW5kPWNvbW1hbmQsCiAgICAgICAgICAgIGxvZ2dlcj1zZWxmLmxvZ2dlciwKICAgICAgICAgICAgc3RyZWFtX291dHB1dD0yMCwKICAgICAgICAgICAgbG9nX3N0ZGVycj1UcnVlLAogICAgICAgICkKCiAgICBkZWYgZXh0cmFjdF9wYWNrYWdlKHNlbGYsIGV4dHJhY3RfZGlyOiBzdHIsIGNvbmRhX2ZpbGU6IFBhdGgpIC0+IE5vbmU6CiAgICAgICAgIiIiRXh0cmFjdCBhIGdpdmVuIGNvbmRhIGZpbGUgdG8gYSBnaXZlbiBleHRyYWN0aW9uIGRpcmVjdG9yeQoKICAgICAgICBVc2VzIGNvbmRhLXBhY2thZ2UtaGFuZGxpbmcgdW5kZXIgdGhlIGhvb2QKICAgICAgICAiIiIKICAgICAgICBjb21tYW5kID0gZiJ7c2VsZi5fY3BoX2NtZCgpfSBleHRyYWN0IC0tZGVzdCB7ZXh0cmFjdF9kaXJ9IHtjb25kYV9maWxlfSIKICAgICAgICBzZWxmLl9zaGVsbF9ydW4oCiAgICAgICAgICAgIGNvbW1hbmQ9Y29tbWFuZCwKICAgICAgICAgICAgbG9nZ2VyPXNlbGYubG9nZ2VyLAogICAgICAgICAgICBzdHJlYW1fb3V0cHV0PTIwLAogICAgICAgICAgICBsb2dfc3RkZXJyPVRydWUsCiAgICAgICAgKQoKICAgIGRlZiByZWNvbWJpbmVfcGFja2FnZShzZWxmLCB3aW42NF9zaWduZWRfZGlyOiBQYXRoLCBleHRyYWN0ZWRfZGlyOiBzdHIsIGNvbmRhX2ZpbGU6IFBhdGgpIC0+IE5vbmU6CiAgICAgICAgIiIiUmVjb21iaW5lcyBhIGNvbmRhIHBhY2thZ2UgZnJvbSB0aGUgZXh0cmFjdGVkIHBhY2thZ2UKCiAgICAgICAgR2l2ZW4gdGhlIGNvbmRhX2ZpbGUgbmFtZSwgYW4gZXh0cmFjdGVkIGRpcmVjdG9yeSwgYW5kIGEgZm9sZGVyIHRvIHB1dCB0aGUKICAgICAgICBjb21iaW5lZCBwYWNrYWdlOyBwcm9kdWNlcyBhIGNvbmRhIGZpbGUgaW4gc2FpZCBmb2xkZXIuCgogICAgICAgIFVzZXMgY29uZGEtcGFja2FnZS1oYW5kbGluZyB1bmRlciB0aGUgaG9vZC4KICAgICAgICAiIiIKICAgICAgICB3aW42NF9zaWduZWRfZGlyLm1rZGlyKGV4aXN0X29rPVRydWUpCiAgICAgICAgY29tbWFuZCA9IGYie3NlbGYuX2NwaF9jbWQoKX0gY3JlYXRlIHtleHRyYWN0ZWRfZGlyfSB7d2luNjRfc2lnbmVkX2RpciAvIGNvbmRhX2ZpbGUubmFtZX0iCiAgICAgICAgc2VsZi5fc2hlbGxfcnVuKAogICAgICAgICAgICBjb21tYW5kPWNvbW1hbmQsCiAgICAgICAgICAgIGxvZ2dlcj1zZWxmLmxvZ2dlciwKICAgICAgICAgICAgc3RyZWFtX291dHB1dD0yMCwKICAgICAgICAgICAgbG9nX3N0ZGVycj1UcnVlLAogICAgICAgICkKCiAgICBkZWYgcHJlcGFyZV9mb3JfdXBsb2FkKHNlbGYsIHdpbjY0X3NpZ25lZF9kaXI6IFBhdGgsIHVwbG9hZF9kaXI6IFBhdGgpIC0+IE5vbmU6CiAgICAgICAgIiIiUHJlcGFyZXMgdGhlIHVwbG9hZCBkaXJlY3RvcnkuCgogICAgICAgIFdlIGZpcnN0IGNvcHkgdGhlIG5ld2x5IGNyZWF0ZWQgcGFja2FnZXMgd2l0aCBzaWduYXR1cmVzIG92ZXIgYW5kIHRoZW4gcmVnZW5lcmF0ZSB0aGUgaW5kZXguCgogICAgICAgIFVzZXMgY29uZGEtaW5kZXggdW5kZXIgdGhlIGhvb2QsIGFuZCBleHRyYXBvbGF0ZXMgY29uZGEtaW5kZXggYXJndW1lbnRzIGJhc2VkCiAgICAgICAgb24gd2hhdCBleGlzdGVkIGluIHRoZSB1cGxvYWQgZm9sZGVyIHByaW9yIHRvIHNpZ25pbmcKICAgICAgICAiIiIKICAgICAgICBpZiBub3Qgd2luNjRfc2lnbmVkX2Rpci5leGlzdHMoKSBvciBsZW4obGlzdCh3aW42NF9zaWduZWRfZGlyLmdsb2IoIioiKSkpID09IDA6CiAgICAgICAgICAgIHNlbGYubG9nZ2VyLmluZm8oIk5vIHBhY2thZ2Ugd2FzIHNpZ25lZCBieSBhdXRvbWF0aW9uLiBVc2luZyBvcmlnaW5hbCBwYWNrYWdlKHMpLiIpCiAgICAgICAgICAgIHJldHVybgogICAgICAgIHNlbGYubG9nZ2VyLmluZm8oIkNvcHlpbmcgc2lnbmVkIHBhY2thZ2VzIHRvIHVwbG9hZCBmb2xkZXIiKQogICAgICAgIHdpbjY0X3VwbG9hZF9kaXIgPSB1cGxvYWRfZGlyIC8gIndpbi02NCIKICAgICAgICBjb3B5dHJlZSh3aW42NF9zaWduZWRfZGlyLCB3aW42NF91cGxvYWRfZGlyLCBkaXJzX2V4aXN0X29rPVRydWUpCiAgICAgICAgaWYgbm90IHNlbGYuY3JlYXRlX3JlcG9kYXRhOgogICAgICAgICAgICBzZWxmLmxvZ2dlci5pbmZvKCJOb3QgY3JlYXRpbmcvdXBkYXRpbmcgcmVwb2RhdGEiKQogICAgICAgICAgICByZXR1cm4KCiAgICAgICAgIyBDaGVjayBleGlzdGluZyBmb2xkZXIuLi4KICAgICAgICBub19jaGFubmVsZGF0YSA9ICIiCiAgICAgICAgaWYgbm90ICh1cGxvYWRfZGlyIC8gImNoYW5uZWxkYXRhLmpzb24iKS5leGlzdHMoKToKICAgICAgICAgICAgbm9fY2hhbm5lbGRhdGEgPSAibm8tIgogICAgICAgIG5vX2J6MiA9ICIiCiAgICAgICAgaWYgbm90IGFueSh3aW42NF91cGxvYWRfZGlyLmdsb2IoIiouYnoyIikpOgogICAgICAgICAgICBub19iejIgPSAibm8tIgogICAgICAgIG5vX3pzdCA9ICIiCiAgICAgICAgaWYgbm90IGFueSh3aW42NF91cGxvYWRfZGlyLmdsb2IoIiouenN0IikpOgogICAgICAgICAgICBub196c3QgPSAibm8tIgogICAgICAgIG5vX3JzcyA9ICIiCiAgICAgICAgaWYgbm90ICh1cGxvYWRfZGlyIC8gInJzcy54bWwiKToKICAgICAgICAgICAgbm9fcnNzID0gIm5vLSIKICAgICAgICBub19ydW5fZXhwb3J0cyA9ICIiCiAgICAgICAgaWYgbm90ICh3aW42NF91cGxvYWRfZGlyIC8gInJ1bl9leHBvcnRzLmpzb24iKToKICAgICAgICAgICAgbm9fcnVuX2V4cG9ydHMgPSAibm8tIgogICAgICAgIGNvbW1hbmQgPSAoCiAgICAgICAgICAgIGYie2dldF9jb25kYV9iaW4oKX0gaW5kZXggIgogICAgICAgICAgICBmIi0te25vX2NoYW5uZWxkYXRhfWNoYW5uZWxkYXRhICIKICAgICAgICAgICAgZiItLXtub19iejJ9YnoyICIKICAgICAgICAgICAgZiItLXtub196c3R9enN0ICIKICAgICAgICAgICAgZiItLXtub19yc3N9cnNzICIKICAgICAgICAgICAgZiItLXtub19ydW5fZXhwb3J0c31ydW4tZXhwb3J0cyAiCiAgICAgICAgICAgIGYie3NlbGYudXBsb2FkX2Rpcn0iCiAgICAgICAgKQogICAgICAgIHNlbGYuX3NoZWxsX3J1bigKICAgICAgICAgICAgY29tbWFuZD1jb21tYW5kLAogICAgICAgICAgICBsb2dnZXI9c2VsZi5sb2dnZXIsCiAgICAgICAgICAgIHN0cmVhbV9vdXRwdXQ9MjAsCiAgICAgICAgICAgIGxvZ19zdGRlcnI9VHJ1ZSwKICAgICAgICApCgogICAgZGVmIHBhY2thZ2VzX3Rvc2lnbihzZWxmKSAtPiBHZW5lcmF0b3JbUGF0aCwgTm9uZSwgTm9uZV06CiAgICAgICAgIiIiR2VuZXJhdG9yIG92ZXIgUGF0aCdzIG9mIHBhY2thZ2VzIHRvIGF0dGVtcHQgc2lnbmluZyBvbiIiIgogICAgICAgIHdpbjY0X2ZvbGRlciA9IHNlbGYudXBsb2FkX2RpciAvICJ3aW4tNjQiCiAgICAgICAgaWYgbm90IHdpbjY0X2ZvbGRlci5leGlzdHMoKToKICAgICAgICAgICAgcmV0dXJuCiAgICAgICAgY29uZGFfcGFja2FnZV9maWxlcyA9IGNoYWluLmZyb21faXRlcmFibGUoCiAgICAgICAgICAgIHdpbjY0X2ZvbGRlci5yZ2xvYihmIip7ZXh0fSIpIGZvciBleHQgaW4gQ09OREFfUEFDS0FHRV9FWFRFTlNJT05TCiAgICAgICAgKQogICAgICAgIHlpZWxkIGZyb20gY29uZGFfcGFja2FnZV9maWxlcwoKICAgIGRlZiBleHRyYWN0X3NvdXJjZXMoc2VsZiwgcmVjaXBlX2RpcjogUGF0aCwgZXh0cmFjdGVkX3NvdXJjZXNfZGlyOiBzdHIpIC0+IE5vbmU6CiAgICAgICAgIiIiRXh0cmFjdCBzb3VyY2VzIHRoYXQgd2VyZSB1c2VkIHRvIGJ1aWxkIHRoZSBnaXZlbiBwYWNrYWdlLgoKICAgICAgICBUaGlzIGlzIHVzZWQgdG8gY2hlY2sgYWdhaW5zdCB1cHN0cmVhbSBmaWxlcyB0aGF0IHRoZSBidWlsZCBzeXN0ZW0gZGlkIG5vdCBtb2RpZnkKICAgICAgICBvbiBhIEJlc3QtRWZmb3J0IHdheS4KICAgICAgICBzZWU6IGh0dHBzOi8vYW5hY29uZGEuYXRsYXNzaWFuLm5ldC93aWtpL3NwYWNlcy9BRC9wYWdlcy8zNDY4Nzg3NzEzL0FEUistK1dpbitQYWNrYWdlK0NvbnRlbnQrU2lnbmluZystK3Byb3ZlbmFuY2UgICMgbm9xYQogICAgICAgICIiIgogICAgICAgIHRyeToKICAgICAgICAgICAgIyBjcmVhdGUgYnVpbGQgZW52CiAgICAgICAgICAgIGJ1aWxkX2Vudl9wYXRoID0gZ2V0X2hvbWVfZGlyKCkgLyAiYmxkIgogICAgICAgICAgICBjb25kYV9jcmVhdGVfZW52X2NtZCA9IFsKICAgICAgICAgICAgICAgIHN0cihnZXRfY29uZGFfYmluKCkpLAogICAgICAgICAgICAgICAgImNyZWF0ZSIsCiAgICAgICAgICAgICAgICAiLS1wcmVmaXgiLAogICAgICAgICAgICAgICAgc3RyKGJ1aWxkX2Vudl9wYXRoKSwKICAgICAgICAgICAgICAgICJjb25kYS1idWlsZD09MjUuMS4yIiwKICAgICAgICAgICAgXQoKICAgICAgICAgICAgaWYgaXNfcGxhdGZvcm1fd2luZG93cygpOgogICAgICAgICAgICAgICAgY29uZGFfY3JlYXRlX2Vudl9jbWQuYXBwZW5kKCJsaWJhcmNoaXZlIikKICAgICAgICAgICAgY29uZGFfY3JlYXRlX2Vudl9jbWQuZXh0ZW5kKFsiLXkiLCAiLS1xdWlldCJdKQoKICAgICAgICAgICAgcHJpbnQoZiJFeGVjdXRpbmcgY29tbWFuZDogeycgJy5qb2luKGNvbmRhX2NyZWF0ZV9lbnZfY21kKX0iLCBmbHVzaD1UcnVlKQogICAgICAgICAgICByZXN1bHQgPSBzdWJwcm9jZXNzLnJ1bihjb25kYV9jcmVhdGVfZW52X2NtZCwgc2hlbGw9dXNlX3NoZWxsKSAgIyBub3NlYwogICAgICAgICAgICBpZiByZXN1bHQucmV0dXJuY29kZSAhPSAwOgogICAgICAgICAgICAgICAgcmFpc2UgUnVudGltZUVycm9yKCJFcnJvciBjcmVhdGluZyBjb25kYSBlbnZpcm9ubWVudC4gU2VlIGFib3ZlIGZvciBlcnJvci4iKQoKICAgICAgICAgICAgIyBVc2UgYXNfcG9zaXgoKSBmb3IgcGFzc2FnZSBvbnRvIGJhc2ggd2l0aCBfc2hlbGxfcnVuX3dpdGhfZ2l0X2tleQogICAgICAgICAgICBjb21tYW5kID0gKAogICAgICAgICAgICAgICAgZiJ7Z2V0X2NvbmRhX2JpbigpfSBydW4gLS1wcmVmaXgge3N0cihidWlsZF9lbnZfcGF0aCl9ICIKICAgICAgICAgICAgICAgIGYne2dldF9jb25kYV9iaW4oKX0gYnVpbGQgLS1jYWNoZS1kaXIgIntzZWxmLnNyY19jYWNoZV9mb2xkZXJ9IiAnCiAgICAgICAgICAgICAgICBmJy0tY3Jvb3QgIntQYXRoKGV4dHJhY3RlZF9zb3VyY2VzX2Rpcil9IiAtLWJ1aWxkLWlkLXBhdD0iIiAnCiAgICAgICAgICAgICAgICBmJy0tc291cmNlICJ7cmVjaXBlX2Rpcn0iIC0tZGVidWcnCiAgICAgICAgICAgICkKICAgICAgICAgICAgc2VsZi5fc2hlbGxfcnVuX3dpdGhfZ2l0X2tleSgKICAgICAgICAgICAgICAgIGNvbW1hbmQ9Y29tbWFuZCwKICAgICAgICAgICAgICAgIGxvZ2dlcj1zZWxmLmxvZ2dlciwKICAgICAgICAgICAgICAgIHN0cmVhbV9vdXRwdXQ9MjAsCiAgICAgICAgICAgICAgICBsb2dfc3RkZXJyPVRydWUsCiAgICAgICAgICAgICAgICAjIFByZWZlY3QgMSB3b3VsZCBnZXQgYSBmYWlsdXJlIHJlcG9ydCBhbmQgYWJvcnQgaGVyZQogICAgICAgICAgICAgICAgIyBpZiB0aGUgdGFzayBmYWlsZWQuIFNpbmNlIHdlJ3JlIGluIGEgdHJ5L2V4Y2VwdAogICAgICAgICAgICAgICAgIyBhdm9pZCB0aGF0IGxvZ2ljIHdpdGggJ3Rlcm1pbmF0ZV9vbl9mYWlsJwogICAgICAgICAgICAgICAgdGVybWluYXRlX29uX2ZhaWw9RmFsc2UsCiAgICAgICAgICAgICkKICAgICAgICBleGNlcHQgRXhjZXB0aW9uOgogICAgICAgICAgICAjIElmIHdlIGdvdCBoZXJlLCB3ZSBsaWtlbHkgZGlkbid0IGV4dHJhY3QgdG8gdGhlIHNvdXJjZXNfZGlyLCB3ZSBjYW4gbW92ZSBvbi4KICAgICAgICAgICAgc2VsZi5sb2dnZXIuZXhjZXB0aW9uKCJGYWlsZWQgdG8gZXh0cmFjdCBzb3VyY2VzLCBza2lwcGluZyBzb3VyY2UgY2hlY2tzIGluIHNpZ25pbmcuLi4iKQoKICAgIGRlZiBzb3VyY2VfaW5mbyhzZWxmLCBleHRyYWN0ZWRfZGlyOiBzdHIsIGV4dHJhY3RlZF9zb3VyY2VzX2Rpcjogc3RyKSAtPiBkaWN0W1BhdGgsIGRpY3Rbc3RyLCBBbnldXToKICAgICAgICAiIiJHZXRzIGEgZGljdGlvbmFyeSBvZiBpbmZvcm1hdGlvbiBhYm91dCBvdXIgU291cmNlIGZpbGVzCgogICAgICAgIFVzZXMgYSBjYWNoZWQgY29weSBpZiB3ZSd2ZSBhbHJlYWR5IHJ1bi4KICAgICAgICBUaGUgcmV0dXJuIGlzIGEgZGljdGlvbmFyeSBvZiBQYXRoJ3MgKG9mIGEgZ2l2ZW4gZmlsZSkgdG86CiAgICAgICAgICAgICJzaXplIjogc2l6ZSBhcyByZXBvcnRlZCBieSBQYXRoKCkubHN0YXQoKS5zdF9zaXplCiAgICAgICAgICAgICJzaGEyNTYiOiBpZiBjYWxjdWxhdGVkLCB0aGUgc2hhMjU2IG9mIHRoZSBmaWxlLgoKICAgICAgICBXZSBnYXRoZXIgdGhlIHNpemUgYXMgYW4gZXh0cmEgc3BlZWR1cCBtZWNoYW5pc20gdG8gYXZvaWQgaGFzaGluZyBldmVyeXRoaW5nIHdoZW4KICAgICAgICBtb3N0IHdvbid0IG1hdGNoIGFueXdheS4KICAgICAgICAiIiIKICAgICAgICBpZiBzZWxmLl9jYWNoZWRfc291cmNlc19pbmZvIGlzIG5vdCBOb25lOgogICAgICAgICAgICByZXR1cm4gc2VsZi5fY2FjaGVkX3NvdXJjZXNfaW5mbwogICAgICAgIHJlY2lwZV9kaXIgPSBQYXRoKGV4dHJhY3RlZF9kaXIpIC8gImluZm8iIC8gInJlY2lwZSIKICAgICAgICBpZiBub3QgcmVjaXBlX2Rpci5leGlzdHMoKToKICAgICAgICAgICAgIyBXaGVuIGNvbmRhLWJ1aWxkIGlzIGNhbGxlZCB3aXRoIGAtLW5vLWluY2x1ZGUtcmVjaXBlYAogICAgICAgICAgICBzZWxmLmxvZ2dlci5pbmZvKCJObyByZWNpcGUgZm91bmQgZm9yIHBhY2thZ2UsIHVuYWJsZSB0byBxdWFsaWZ5IGFnYWluc3QgdXBzdHJlYW0gc291cmNlcy4iKQogICAgICAgICAgICBzZWxmLl9jYWNoZWRfc291cmNlc19pbmZvID0ge30KICAgICAgICAgICAgcmV0dXJuIHNlbGYuX2NhY2hlZF9zb3VyY2VzX2luZm8KICAgICAgICBzZWxmLmV4dHJhY3Rfc291cmNlcyhyZWNpcGVfZGlyPXJlY2lwZV9kaXIsIGV4dHJhY3RlZF9zb3VyY2VzX2Rpcj1leHRyYWN0ZWRfc291cmNlc19kaXIpCiAgICAgICAgc291cmNlX2luZm86IGRpY3RbUGF0aCwgQW55XSA9IHt9CiAgICAgICAgZm9yIHJvb3QsIF8sIGZpbGVzIGluIG9zLndhbGsoZXh0cmFjdGVkX3NvdXJjZXNfZGlyLCBmb2xsb3dsaW5rcz1GYWxzZSk6CiAgICAgICAgICAgIGZvciBmIGluIGZpbGVzOgogICAgICAgICAgICAgICAgcCA9IFBhdGgocm9vdCkgLyBmCiAgICAgICAgICAgICAgICByZWxhdGl2ZV9wID0gcC5yZWxhdGl2ZV90byhleHRyYWN0ZWRfc291cmNlc19kaXIpCiAgICAgICAgICAgICAgICBzaXplID0gcC5sc3RhdCgpLnN0X3NpemUKICAgICAgICAgICAgICAgIHNvdXJjZV9pbmZvW3JlbGF0aXZlX3BdID0geyJzaXplIjogc2l6ZX0KICAgICAgICBzZWxmLl9jYWNoZWRfc291cmNlc19pbmZvID0gc291cmNlX2luZm8KICAgICAgICByZXR1cm4gc291cmNlX2luZm8KCiAgICBkZWYgc2hvdWxkX3NraXBfZm9yX3B5enplcihzZWxmLCBleHRyYWN0ZWRfZGlyOiBzdHIsIGZpbGU6IFBhdGgpIC0+IGJvb2w6CiAgICAgICAgIiIiQ2hlY2tzIGlmIGNvbmRhIHdvdWxkIHBlcmZvcm0gYSByZXBsYWNlbWVudCBmb3IgcHl6emVyCgogICAgICAgIGFkYXB0ZWQgZnJvbTogaHR0cHM6Ly9naXRodWIuY29tL2NvbmRhL2NvbmRhL2Jsb2IvYTJlNWU2NjAxNDQxYzBmNzBiZGM3NWQwMTNjYmQ3MjhhZjFkZWEyZC9jb25kYS9jb3JlL3BvcnRhYmlsaXR5LnB5I0wxODQgICMgbm9xYQogICAgICAgIGNvbmRhIHdpbGwgbmV2ZXIgcGVyZm9ybSB0aGUgcmVwbGFjZW1lbnQgaWYgYSBmaWxlIGlzIG5vdCBpbiBgaGFzX3ByZWZpeGAgYW5kIGlzIGxpc3RlZCBhcyBiaW5hcnkgQU5EIGhhcyB0aGUgcHl6emVyIG1hcmtlcgogICAgICAgICIiIgogICAgICAgIHJlcGxhY2VtZW50X2luZm8gPSBzZWxmLl9wcmVmaXhfcmVwbGFjZW1lbnRfaW5mbyhleHRyYWN0ZWRfZGlyKQoKICAgICAgICBkZWYgaGFzX3B5enplcl9lbnRyeV9wb2ludChkYXRhOiBieXRlcykgLT4gYm9vbDoKICAgICAgICAgICAgcG9zID0gZGF0YS5yZmluZChiIlBLXHgwNVx4MDYiKQogICAgICAgICAgICByZXR1cm4gcG9zID49IDAKCiAgICAgICAgaWYgZmlsZS5hYnNvbHV0ZSgpIGluIHJlcGxhY2VtZW50X2luZm86CiAgICAgICAgICAgIG15X2luZm8gPSByZXBsYWNlbWVudF9pbmZvW2ZpbGUuYWJzb2x1dGUoKV0KICAgICAgICAgICAgaWYgbXlfaW5mby5nZXQoImZpbGVfbW9kZSIpID09ICJiaW5hcnkiOgogICAgICAgICAgICAgICAgcmV0dXJuIGhhc19weXp6ZXJfZW50cnlfcG9pbnQoZmlsZS5yZWFkX2J5dGVzKCkpCiAgICAgICAgcmV0dXJuIEZhbHNlCgogICAgZGVmIHNob3VsZF9za2lwX2ZpbGVfc2lnbmluZygKICAgICAgICBzZWxmLCBmaWxlX3B0aDogUGF0aCwgZXh0cmFjdGVkX2Rpcjogc3RyLCBleHRyYWN0ZWRfc291cmNlc19kaXI6IHN0cgogICAgKSAtPiBib29sOgogICAgICAgICIiIlNob3VsZCB3ZSBza2lwIGZpbGUgc2lnbmluZz8KCiAgICAgICAgRmlyc3QgY2hlY2sgaWYgdGhlIHRhcmdldCBmaWxlIGlzIGEgc3ltbGluay4KICAgICAgICBTZWNvbmQgY2hlY2sgaWYgdGhlIGZpbGUgYWxyZWFkeSBoYXMgYSBzaWduYXR1cmUuCiAgICAgICAgVGhpcmQgY2hlY2sgaWYgaXQgaGFzIGEgcHl6emVyIG1hcmtlciBhbmQgd291bGQgYmUgYSBtb2RpZmllZCBiaW5hcnkKICAgICAgICBGb3VydGggY2hlY2sgaWYgdGhlIGV4YWN0IHNhbWUgZmlsZSBleGlzdHMgYXMgb25lIG9mIG91ciBzb3VyY2VzCgogICAgICAgIFJldHVybnMgVHJ1ZSB0byBpbmRpY2F0ZSB0aGlzIGZpbGUgc2hvdWxkIG5vdCBiZSBzaWduZWQuCiAgICAgICAgU2VlIEFEUjogaHR0cHM6Ly9hbmFjb25kYS5hdGxhc3NpYW4ubmV0L3dpa2kvc3BhY2VzL0FEL3BhZ2VzLzM0Njg3ODc3MTMvQURSKy0rV2luK1BhY2thZ2UrQ29udGVudCtTaWduaW5nKy0rcHJvdmVuYW5jZSAgIyBub3FhCiAgICAgICAgIiIiCiAgICAgICAgIyBTa2lwIGlmIHRoZSBmaWxlIGlzIGEgc3ltbGluawogICAgICAgICMgSWYgdGhlIHN5bWxpbmsgdGFyZ2V0IGlzIG5vdCBpZGVudGlmaWVkIGFzICJzaG91bGQgc2lnbiIgdGhpcyBjb3VsZCBtZWFuIHdlCiAgICAgICAgIyBlbmQgdXAgbWlzc2luZyBlbnRyaWVzIHdlIG1pZ2h0IGFjdHVhbGx5IHdhbnQgdG8gc2lnbi4KICAgICAgICBpZiBmaWxlX3B0aC5pc19zeW1saW5rKCk6CiAgICAgICAgICAgIHJldHVybiBUcnVlCgogICAgICAgICMgU2tpcCBpZiB0aGUgZmlsZSBhbHJlYWR5IHNpZ25lZAogICAgICAgIGlmIHNlbGYuZ2V0X2ZpbGVfc2lnbmF0dXJlKGZpbGVfcHRoKSAhPSAiIjoKICAgICAgICAgICAgc2VsZi5sb2dnZXIuaW5mbyhmIlNraXBwaW5nIHNpZ25pbmcgb2Yge2ZpbGVfcHRofS4gQWxyZWFkeSBzaWduZWQuIikKICAgICAgICAgICAgcmV0dXJuIFRydWUKCiAgICAgICAgIyBTa2lwIGlmIHB5enplciBtYXJrZXIKICAgICAgICBpZiBzZWxmLnNob3VsZF9za2lwX2Zvcl9weXp6ZXIoZXh0cmFjdGVkX2RpciwgZmlsZV9wdGgpOgogICAgICAgICAgICBzZWxmLmxvZ2dlci5pbmZvKAogICAgICAgICAgICAgICAgZiJTa2lwcGluZyBzaWduaW5nIG9mIHtmaWxlX3B0aH0uICIKICAgICAgICAgICAgICAgICJGb3VuZCBweXp6ZXIgbWFya2VyIGFuZCBoYXNfcHJlZml4IHNheXMgdG8gcGVyZm9ybSByZXBsYWNlbWVudCIKICAgICAgICAgICAgKQogICAgICAgICAgICByZXR1cm4gVHJ1ZQoKICAgICAgICAjIFNraXAgaWYgdGhlIGZpbGUgbWF0Y2hlcyBvbmUgZnJvbSB1cHN0cmVhbSBzb3VyY2VzCiAgICAgICAgZmlsZV9zaXplID0gZmlsZV9wdGgubHN0YXQoKS5zdF9zaXplCiAgICAgICAgc291cmNlcyA9IHNlbGYuc291cmNlX2luZm8oZXh0cmFjdGVkX2RpciwgZXh0cmFjdGVkX3NvdXJjZXNfZGlyKQogICAgICAgIG1hdGNoZWRfc2l6ZXMgPSB7azogdiBmb3IgaywgdiBpbiBzb3VyY2VzLml0ZW1zKCkgaWYgdi5nZXQoInNpemUiLCAtMSkgPT0gZmlsZV9zaXplfQogICAgICAgIGZpbGVfaGFzaCA9IGhhc2hsaWIuc2hhMjU2KGZpbGVfcHRoLnJlYWRfYnl0ZXMoKSkuaGV4ZGlnZXN0KCkKICAgICAgICBmb3Igc291cmNlX2ZpbGUsIHNvdXJjZV9pbmZvIGluIG1hdGNoZWRfc2l6ZXMuaXRlbXMoKToKICAgICAgICAgICAgc291cmNlX2hhc2ggPSBzb3VyY2VfaW5mby5nZXQoInNoYTI1NiIsICIiKQogICAgICAgICAgICBpZiBzb3VyY2VfaGFzaCA9PSAiIjoKICAgICAgICAgICAgICAgIHJlc29sdmVkX3NyY19maWxlID0gUGF0aChleHRyYWN0ZWRfc291cmNlc19kaXIpIC8gc291cmNlX2ZpbGUKICAgICAgICAgICAgICAgIHNvdXJjZV9oYXNoID0gaGFzaGxpYi5zaGEyNTYocmVzb2x2ZWRfc3JjX2ZpbGUucmVhZF9ieXRlcygpKS5oZXhkaWdlc3QoKQogICAgICAgICAgICAgICAgc291cmNlX2luZm9bInNoYTI1NiJdID0gc291cmNlX2hhc2gKICAgICAgICAgICAgaWYgZmlsZV9oYXNoID09IHNvdXJjZV9oYXNoOgogICAgICAgICAgICAgICAgc2VsZi5sb2dnZXIuaW5mbyhmIlNraXBwaW5nIHNpZ25pbmcgb2Yge2ZpbGVfcHRofS4gRm91bmQgaWRlbnRpY2FsIGZpbGUgYXQge3NvdXJjZV9maWxlfS4iKQogICAgICAgICAgICAgICAgcmV0dXJuIFRydWUKICAgICAgICByZXR1cm4gRmFsc2UKCiAgICBkZWYgZmlsZXNfdG9zaWduKHNlbGYsIGV4dHJhY3RlZF9kaXI6IHN0cikgLT4gR2VuZXJhdG9yW1BhdGgsIE5vbmUsIE5vbmVdOgogICAgICAgICIiIkdlbmVyYXRvciBvdmVyIGFsbCBwb3NzaWJsZSBmaWxlcyB3ZSBzaG91bGQgYmUgYXR0ZW1wdGluZyB0byBzaWduCgogICAgICAgIFRoaXMgZ2VuZXJhdG9yIHRha2VzIGNhcmUgb2YgY2hlY2tpbmcgaWYgd2Ugc2hvdWxkIHNraXAgc2lnbmluZyBhIGdpdmVuIGZpbGUKICAgICAgICBXZSBhbHNvIGN1cnJlbnRseSBvbmx5IGF0dGVtcHQgdG8gc2lnbiAuZGxsLCAucHlkIGFuZCAuZXhlLgoKICAgICAgICBTZWUgQURSOiBodHRwczovL2FuYWNvbmRhLmF0bGFzc2lhbi5uZXQvd2lraS9zcGFjZXMvQUQvcGFnZXMvMzQ2ODc4NzcxMy9BRFIrLStXaW4rUGFja2FnZStDb250ZW50K1NpZ25pbmcrLStwcm92ZW5hbmNlICAjIG5vcWEKICAgICAgICBhbmQgQURSOiBodHRwczovL2FuYWNvbmRhLmF0bGFzc2lhbi5uZXQvd2lraS9zcGFjZXMvQUQvcGFnZXMvMzQ2ODg1MzI0OS9BRFIrLStXaW4rUGFja2FnZStDb250ZW50K1NpZ25pbmcrLStGaWxlK1R5cGVzCiAgICAgICAgIiIiCiAgICAgICAgcG9zc2libGVfZmlsZXNfdG9fc2lnbiA9IGNoYWluLmZyb21faXRlcmFibGUoCiAgICAgICAgICAgIFBhdGgoZXh0cmFjdGVkX2Rpcikucmdsb2IoZiIqe2V4dH0iKSBmb3IgZXh0IGluICgiLmRsbCIsICIucHlkIiwgIi5leGUiKQogICAgICAgICkKICAgICAgICB3aXRoIHRlbXBmaWxlLlRlbXBvcmFyeURpcmVjdG9yeSgKICAgICAgICAgICAgcHJlZml4PSJ0bXAtcGtnLWV4dHJhY3RlZF8iLAogICAgICAgICAgICBkaXI9c2VsZi5mbG93cnVuX2RpciwKICAgICAgICApIGFzIGV4dHJhY3RlZF9zb3VyY2VzX2RpcjoKICAgICAgICAgICAgZm9yIGZpbGVfcHRoIGluIHBvc3NpYmxlX2ZpbGVzX3RvX3NpZ246CiAgICAgICAgICAgICAgICBpZiBzZWxmLnNob3VsZF9za2lwX2ZpbGVfc2lnbmluZyhmaWxlX3B0aCwgZXh0cmFjdGVkX2RpciwgZXh0cmFjdGVkX3NvdXJjZXNfZGlyKToKICAgICAgICAgICAgICAgICAgICBjb250aW51ZQogICAgICAgICAgICAgICAgeWllbGQgZmlsZV9wdGgKICAgICAgICBzZWxmLl9jYWNoZWRfc291cmNlc19pbmZvID0gTm9uZQogICAgICAgIHNlbGYuX2NhY2hlZF9wcmVmaXhfcmVwbGFjZW1lbnRfaW5mbyA9IE5vbmUKCiAgICBkZWYgc2V0dXBfY3BoX2VudihzZWxmKSAtPiBOb25lOgogICAgICAgICIiIkNyZWF0ZSBhIGNvbmRhIGVudmlyb25tZW50IGZvciBidWlsZGluZyBwYWNrYWdlcy4KCiAgICAgICAgQ29waWVkIGZyb20gYnVpbGQucHkiIiIKCiAgICAgICAgc2VsZi5sb2dnZXIuaW5mbygiQ3JlYXRpbmcgZW52aXJvbm1lbnQgdG8gcnVuICdjcGgnIGluLi4uIikKICAgICAgICBjcGhfZW52X3BhdGggPSBnZXRfaG9tZV9kaXIoKSAvICJjcGgiCgogICAgICAgIGNvbmRhX2NyZWF0ZV9lbnZfY21kID0gWwogICAgICAgICAgICBzdHIoZ2V0X2NvbmRhX2JpbigpKSwKICAgICAgICAgICAgImNyZWF0ZSIsCiAgICAgICAgICAgICItLXByZWZpeCIsCiAgICAgICAgICAgIHN0cihjcGhfZW52X3BhdGgpLAogICAgICAgICAgICAiY29uZGEtcGFja2FnZS1oYW5kbGluZyIsCiAgICAgICAgXQogICAgICAgIGlmIG9zLm5hbWUgPT0gIm50IjoKICAgICAgICAgICAgY29uZGFfY3JlYXRlX2Vudl9jbWQuYXBwZW5kKCJsaWJhcmNoaXZlIikKCiAgICAgICAgY29uZGFfY3JlYXRlX2Vudl9jbWQuZXh0ZW5kKFsiLXkiLCAiLS1xdWlldCJdKQoKICAgICAgICBzZWxmLmxvZ2dlci5pbmZvKGYiRXhlY3V0aW5nIGNvbW1hbmQ6IHsnICcuam9pbihjb25kYV9jcmVhdGVfZW52X2NtZCl9IikKICAgICAgICByZXN1bHQgPSBzdWJwcm9jZXNzLnJ1bihjb25kYV9jcmVhdGVfZW52X2NtZCwgc2hlbGw9VHJ1ZSkgICMgbm9zZWMKICAgICAgICBpZiByZXN1bHQucmV0dXJuY29kZSAhPSAwOgogICAgICAgICAgICByYWlzZSBSdW50aW1lRXJyb3IoIkVycm9yIGNyZWF0aW5nIGNvbmRhIGVudmlyb25tZW50LiBTZWUgYWJvdmUgZm9yIGVycm9yLiIpCiAgICAgICAgc2VsZi5sb2dnZXIuaW5mbygiY3BoIGVudiBjcmVhdGVkIikKCiAgICBkZWYgX2NwaF9jbWQoc2VsZikgLT4gc3RyOgogICAgICAgIGNwaF9lbnZfcGF0aCA9IGdldF9ob21lX2RpcigpIC8gImNwaCIKICAgICAgICByZXR1cm4gZiJ7c3RyKGdldF9jb25kYV9iaW4oKSl9IHJ1biAtLXByZWZpeCB7c3RyKGNwaF9lbnZfcGF0aCl9IGNwaCIKCiAgICBkZWYgbWF5YmVfZG9fc2lnbmluZyhzZWxmKSAtPiBOb25lOgogICAgICAgICIiIk1haW4gRW50cnkgUG9pbnQgZm9yIGF0dGVtcHRpbmcgc2lnbmluZy4KCiAgICAgICAgVGhpcyBmdW5jdGlvbiB3aWxsIHJ1biBhbmQgYXR0ZW1wdCB0byBzaWduIHRoZSBwYWNrYWdlIGlmIHRoZXJlIGFyZQogICAgICAgIHRoaW5ncyB0byBpbnNpZGUgdGhlIHBhY2thZ2UgdG8gc2lnbgogICAgICAgICIiIgogICAgICAgIGlmIG5vdCBzZWxmLnNob3VsZF9hdHRlbXB0X3NpZ25pbmcoKToKICAgICAgICAgICAgcmV0dXJuCgogICAgICAgICMgV2Ugc2hvdWxkIHRyeSBhbmQgc2lnbgogICAgICAgIHNlbGYuc2V0dXBfY3BoX2VudigpCiAgICAgICAgc2VsZi5sb2dnZXIuaW5mbygiU3RhcnRpbmcgUGFja2FnZSBDb250ZW50IFNpZ25pbmcgUHJvY2Vzcy4uLiIpCgogICAgICAgIHdpdGggdGVtcGZpbGUuVGVtcG9yYXJ5RGlyZWN0b3J5KAogICAgICAgICAgICBwcmVmaXg9InRtcC1wa2ctc2lnbmVkLXVwbG9hZF8iLAogICAgICAgICAgICBkaXI9c2VsZi5mbG93cnVuX2RpciwKICAgICAgICApIGFzIHNpZ25lZF91cGxvYWRfZGlyOgogICAgICAgICAgICB3aW42NF9zaWduZWRfZGlyID0gUGF0aChzaWduZWRfdXBsb2FkX2RpcikgLyAid2luLTY0IgogICAgICAgICAgICBzZWxmLnNpZ25fYWxsX3BhY2thZ2VzKHdpbjY0X3NpZ25lZF9kaXI9d2luNjRfc2lnbmVkX2RpcikKICAgICAgICAgICAgc2VsZi5wcmVwYXJlX2Zvcl91cGxvYWQod2luNjRfc2lnbmVkX2Rpcj13aW42NF9zaWduZWRfZGlyLCB1cGxvYWRfZGlyPXNlbGYudXBsb2FkX2RpcikKICAgICAgICBzZWxmLnN1cHBvcnRfY2xhc3MuZHVtcF9hdWRpdF9pbmZvKCkKCiAgICBkZWYgc2lnbl9hbGxfcGFja2FnZXMoc2VsZiwgd2luNjRfc2lnbmVkX2RpcjogUGF0aCkgLT4gTm9uZToKICAgICAgICAiIiJBdHRlbXB0cyB0byBzaWduIGFsbCBwYWNrYWdlcwoKICAgICAgICBUaGlzIHdpbGwgaXRlcmF0ZSBvdmVyIGFsbCBwYWNrYWdlcywgZXh0cmFjdCB0aGVtLCBzaWduIHRoZSBmaWxlcyBpbiB0aGVtLAogICAgICAgIGFuZCB0aGVuIHJlY29tYmluZSB0aG9zZSBwYWNrYWdlcyB1cC4KICAgICAgICAiIiIKICAgICAgICBmb3IgY29uZGFfZmlsZSBpbiBzZWxmLnBhY2thZ2VzX3Rvc2lnbigpOgogICAgICAgICAgICBzZWxmLnN1cHBvcnRfY2xhc3MuYXVkaXQoIlVuc2lnbmVkLVBrZyIsIGF1ZGl0X2RhdGE9eyJQYXRoIjogY29uZGFfZmlsZX0pCiAgICAgICAgICAgIHdpdGggdGVtcGZpbGUuVGVtcG9yYXJ5RGlyZWN0b3J5KAogICAgICAgICAgICAgICAgcHJlZml4PSJ0bXAtcGtnLWV4dHJhY3RlZF8iLAogICAgICAgICAgICAgICAgZGlyPXNlbGYuZmxvd3J1bl9kaXIsCiAgICAgICAgICAgICkgYXMgZXh0cmFjdGVkX2RpcjoKICAgICAgICAgICAgICAgIHNlbGYuZXh0cmFjdF9wYWNrYWdlKGV4dHJhY3RfZGlyPWV4dHJhY3RlZF9kaXIsIGNvbmRhX2ZpbGU9Y29uZGFfZmlsZSkKICAgICAgICAgICAgICAgIHNpZ25lZF9maWxlczogc2V0W1BhdGhdID0gc2V0KCkKICAgICAgICAgICAgICAgIGZvciB0b3NpZ25fZmlsZSBpbiBzZWxmLmZpbGVzX3Rvc2lnbihleHRyYWN0ZWRfZGlyPWV4dHJhY3RlZF9kaXIpOgogICAgICAgICAgICAgICAgICAgIHNlbGYuc3VwcG9ydF9jbGFzcy5hdWRpdCgKICAgICAgICAgICAgICAgICAgICAgICAgIlVuc2lnbmVkLUZpbGUiLCBhdWRpdF9kYXRhPXsiUGF0aCI6IHRvc2lnbl9maWxlLCAiUGFyZW50IjogZXh0cmFjdGVkX2Rpcn0KICAgICAgICAgICAgICAgICAgICApCiAgICAgICAgICAgICAgICAgICAgaWYgc2VsZi5zaWduX2ZpbGUodG9zaWduX2ZpbGUpOgogICAgICAgICAgICAgICAgICAgICAgICBzaWduZWRfZmlsZXMuYWRkKHRvc2lnbl9maWxlKQogICAgICAgICAgICAgICAgICAgICAgICBzZWxmLnN1cHBvcnRfY2xhc3MuYXVkaXQoCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAiU2lnbmVkLUZpbGUiLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgYXVkaXRfZGF0YT17IlBhdGgiOiB0b3NpZ25fZmlsZSwgIlBhcmVudCI6IGV4dHJhY3RlZF9kaXJ9LAogICAgICAgICAgICAgICAgICAgICAgICApCiAgICAgICAgICAgICAgICBzZWxmLmxvZ19hbGxfc2lnbmF0dXJlcyhleHRyYWN0ZWRfZGlyPWV4dHJhY3RlZF9kaXIpCiAgICAgICAgICAgICAgICBpZiBub3Qgc2lnbmVkX2ZpbGVzOgogICAgICAgICAgICAgICAgICAgIHNlbGYubG9nZ2VyLmluZm8oZiJOb3RoaW5nIHNpZ25lZCBmb3Ige2NvbmRhX2ZpbGV9IikKICAgICAgICAgICAgICAgICAgICBjb250aW51ZQogICAgICAgICAgICAgICAgc2VsZi51cGRhdGVfcGF0aHNfanNvbigKICAgICAgICAgICAgICAgICAgICBleHRyYWN0ZWRfZGlyPWV4dHJhY3RlZF9kaXIsCiAgICAgICAgICAgICAgICAgICAgc2lnbmVkX2ZpbGVzPXNpZ25lZF9maWxlcywKICAgICAgICAgICAgICAgICkKICAgICAgICAgICAgICAgIHNlbGYucmVjb21iaW5lX3BhY2thZ2UoCiAgICAgICAgICAgICAgICAgICAgd2luNjRfc2lnbmVkX2Rpcj13aW42NF9zaWduZWRfZGlyLAogICAgICAgICAgICAgICAgICAgIGV4dHJhY3RlZF9kaXI9ZXh0cmFjdGVkX2RpciwKICAgICAgICAgICAgICAgICAgICBjb25kYV9maWxlPWNvbmRhX2ZpbGUsCiAgICAgICAgICAgICAgICApCiAgICAgICAgICAgICAgICBzZWxmLnN1cHBvcnRfY2xhc3MuYXVkaXQoIlNpZ25lZC1Qa2ciLCBhdWRpdF9kYXRhPXsiUGF0aCI6IGNvbmRhX2ZpbGV9KQoKICAgIGRlZiBzaG91bGRfYXR0ZW1wdF9zaWduaW5nKHNlbGYpIC0+IGJvb2w6CiAgICAgICAgIiIiU2hvdWxkIHdlIGV2ZW4gYXR0ZW1wdCBzaWduaW5nIGF0IGFsbCBvbiB0aGlzIGZsb3dydW4KCiAgICAgICAgVHJ1ZSBvbiB3aW5kb3dzLCBmYWxzZSBlbHNld2hlcmUKICAgICAgICAiIiIKICAgICAgICBpZiBub3QgaXNfcGxhdGZvcm1fd2luZG93cygpOgogICAgICAgICAgICByZXR1cm4gRmFsc2UKICAgICAgICAjIFRPRE8gU3VwcG9ydCBTa2lwcGluZyBTaWduaW5nIChzdWNoIGFzIHZpYSBhYnMueWFtbCkKICAgICAgICBza2lwX3NpZ25pbmdfZmxhZyA9IG9zLmdldGVudigiVEhFX1NLSVBQSU5HX1NJR05JTkdfRkxBRyIsICIiKS5sb3dlcigpID09ICJmYWxzZSIKICAgICAgICBpZiBza2lwX3NpZ25pbmdfZmxhZyBhbmQgRmFsc2U6CiAgICAgICAgICAgIHByaW50KCJTa2lwcGluZyBzaWduaW5nIGR1ZSB0byBmbGFnIiwgZmx1c2g9VHJ1ZSkKICAgICAgICAgICAgcmV0dXJuIEZhbHNlCiAgICAgICAgcmV0dXJuIFRydWUKCiAgICBkZWYgdXBkYXRlX3BhdGhzX2pzb24oc2VsZiwgZXh0cmFjdGVkX2Rpcjogc3RyLCBzaWduZWRfZmlsZXM6IHNldFtQYXRoXSkgLT4gTm9uZToKICAgICAgICAiIiJVcGRhdGVzIHRoZSBwYXRocy5qc29uIChpZiBpdCBleGlzdHMpCgogICAgICAgIFRoaXMgdXBkYXRlcyB0aGUgc2l6ZSBhbmQgc2hhc3VtIG9mIHRoZSBmaWxlcyBpbmNsdWRlZAogICAgICAgICIiIgogICAgICAgIHBhdGhzX2pzb24gPSBzZWxmLl9nZXRfcGF0aHNfanNvbihleHRyYWN0ZWRfZGlyKQogICAgICAgIGlmIHBhdGhzX2pzb24gaXMgTm9uZToKICAgICAgICAgICAgc2VsZi5sb2dnZXIuaW5mbygiTm8gcGF0aHMuanNvbiBkZXRlY3RlZCwgbm90IGF0dGVtcHRpbmcgdXBkYXRlIikKICAgICAgICAgICAgcmV0dXJuCiAgICAgICAgZXh0cmFjdGVkX2Rpcl9wdGggPSBQYXRoKGV4dHJhY3RlZF9kaXIpLmFic29sdXRlKCkKICAgICAgICBhbGxfcGF0aHM6IGxpc3RbZGljdFtzdHIsIEFueV1dID0gcGF0aHNfanNvbi5nZXQoInBhdGhzIikKICAgICAgICBmb3IgaWR4LCBjdXJyX3BhdGhfZW50cnkgaW4gZW51bWVyYXRlKGFsbF9wYXRocyk6CiAgICAgICAgICAgIGN1cnJfcGF0aCA9IGN1cnJfcGF0aF9lbnRyeVsiX3BhdGgiXQogICAgICAgICAgICBhYnNfY3Vycl9wYXRoOiBQYXRoID0gZXh0cmFjdGVkX2Rpcl9wdGggLyBjdXJyX3BhdGgKICAgICAgICAgICAgIyBSZXNvbHZlIHN5bWxpbmtzLCBiZWNhdXNlIHRoZXkgY291bGQgYmUgdXNlZCBpbiBwYXRocy5qc29uCiAgICAgICAgICAgIG5vcm1hbGl6ZWRfY3Vycl9wYXRoID0gYWJzX2N1cnJfcGF0aC5yZXNvbHZlKCkKICAgICAgICAgICAgaWYgbm9ybWFsaXplZF9jdXJyX3BhdGggbm90IGluIHNpZ25lZF9maWxlczoKICAgICAgICAgICAgICAgIGNvbnRpbnVlCiAgICAgICAgICAgICMgRm91bmQgZmlsZQogICAgICAgICAgICBzZWxmLmxvZ2dlci5pbmZvKGYiVXBkYXRpbmcgc2l6ZSBhbmQgaGFzaCBvZiB7Y3Vycl9wYXRofSBpbiBtZXRhZGF0YSIpCiAgICAgICAgICAgIGlmIGFsbF9wYXRoc1tpZHhdLmdldCgic2l6ZV9pbl9ieXRlcyIpIGlzIG5vdCBOb25lOgogICAgICAgICAgICAgICAgbmV3X3NpemUgPSBub3JtYWxpemVkX2N1cnJfcGF0aC5zdGF0KCkuc3Rfc2l6ZQogICAgICAgICAgICAgICAgYWxsX3BhdGhzW2lkeF1bInNpemVfaW5fYnl0ZXMiXSA9IG5ld19zaXplCiAgICAgICAgICAgIGlmIGFsbF9wYXRoc1tpZHhdLmdldCgic2hhMjU2IikgaXMgbm90IE5vbmU6CiAgICAgICAgICAgICAgICBuZXdfc2hhc3VtID0gaGFzaGxpYi5zaGEyNTYoYWJzX2N1cnJfcGF0aC5yZWFkX2J5dGVzKCkpLmhleGRpZ2VzdCgpCiAgICAgICAgICAgICAgICBhbGxfcGF0aHNbaWR4XVsic2hhMjU2Il0gPSBuZXdfc2hhc3VtCiAgICAgICAgIyBhbGxfcGF0aHMgd2FzIG11dGFibGUsIHNvIGFsbCB0aGUgY2hhbmdlcyBhYm92ZSB3ZXJlIGluLXBsYWNlIG1vZGlmaWNhdGlvbnMgdG8gcGF0aHNfanNvbgogICAgICAgIHNlbGYuX3dyaXRlX3BhdGhzX2pzb24oZXh0cmFjdGVkX2RpciwgcGF0aHNfanNvbikKCiAgICBkZWYgX2dldF9wYXRoc19qc29uKHNlbGYsIGV4dHJhY3RlZF9kaXI6IHN0cikgLT4gZGljdCB8IE5vbmU6CiAgICAgICAgIiIiR2V0cyB0aGUgZmlsZXMuanNvbiBmcm9tIHRoZSBjb25kYSBtZXRhZGF0YSIiIgogICAgICAgICMgTm8gbmVlZCBmb3IgY2FjaGluZywgdGhpcyBpcyBjYWxsZWQgb25jZSBwZXIgcGFja2FnZQogICAgICAgIHBhdGhzX2pzb25fcHRoID0gUGF0aChleHRyYWN0ZWRfZGlyKS5hYnNvbHV0ZSgpIC8gImluZm8iIC8gInBhdGhzLmpzb24iCiAgICAgICAgaWYgbm90IHBhdGhzX2pzb25fcHRoLmV4aXN0cygpOgogICAgICAgICAgICBzZWxmLmxvZ2dlci5pbmZvKCJObyBwYXRocy5qc29uIGluIHBhY2thZ2UuIikKICAgICAgICAgICAgcmV0dXJuIE5vbmUKICAgICAgICBwYXRoc19qc29uOiBkaWN0ID0ganNvbi5sb2FkcyhwYXRoc19qc29uX3B0aC5yZWFkX3RleHQoKSkKICAgICAgICBpZiBwYXRoc19qc29uLmdldCgicGF0aHNfdmVyc2lvbiIpICE9IDE6CiAgICAgICAgICAgIHJhaXNlIEV4Y2VwdGlvbigKICAgICAgICAgICAgICAgICJPdXIgc2lnbmluZyBsb2dpYyBkb2VzIG5vdCBrbm93IGhvdyB0byBoYW5kbGUgdGhpcyBwYXRocy5qc29uLiAiCiAgICAgICAgICAgICAgICAiKFRoaXMgdmVyc2lvbiBvbmx5IHN1cHBvcnRzIHBhdGhzLmpzb24gc2NoZW1hIHZlcnNpb24gMS4pIgogICAgICAgICAgICApCiAgICAgICAgcmV0dXJuIHBhdGhzX2pzb24KCiAgICBkZWYgX3dyaXRlX3BhdGhzX2pzb24oc2VsZiwgZXh0cmFjdGVkX2Rpcjogc3RyLCBuZXdfanNvbjogZGljdCkgLT4gTm9uZToKICAgICAgICAiIiJXcml0ZSBvdXQgdGhlIG5ldyBwYXRocy5qc29uIiIiCiAgICAgICAgcGF0aHNfanNvbl9wdGggPSBQYXRoKGV4dHJhY3RlZF9kaXIpLmFic29sdXRlKCkgLyAiaW5mbyIgLyAicGF0aHMuanNvbiIKICAgICAgICB3aXRoIHBhdGhzX2pzb25fcHRoLm9wZW4oInciKSBhcyBmOgogICAgICAgICAgICBqc29uLmR1bXAoCiAgICAgICAgICAgICAgICBuZXdfanNvbiwKICAgICAgICAgICAgICAgIGYsCiAgICAgICAgICAgICAgICBzb3J0X2tleXM9VHJ1ZSwKICAgICAgICAgICAgICAgIGluZGVudD0yLAogICAgICAgICAgICAgICAgc2VwYXJhdG9ycz0oIiwiLCAiOiAiKSwKICAgICAgICAgICAgKQogICAgICAgIHNlbGYubG9nZ2VyLmluZm8oIlVwZGF0ZWQgcGF0aHMuanNvbiBmb3IgcGFja2FnZSIpCgogICAgZGVmIF9wcmVmaXhfcmVwbGFjZW1lbnRfaW5mbyhzZWxmLCBleHRyYWN0ZWRfZGlyOiBzdHIpIC0+IGRpY3RbUGF0aCwgZGljdFtzdHIsIHN0cl1dOgogICAgICAgICIiIkdldHMgdGhlIGluZm9ybWF0aW9uIGFzc29jaWF0ZWQgd2l0aCBQcmVmaXggUmVwbGFjZW1lbnRzIGZvciB0aGUgZ2l2ZW4gcGFja2FnZQoKICAgICAgICBUaGlzIGlzIHVzZWZ1bCBmb3IgcHl6emVyIHJlcGxhY2VtZW50IGNoZWNrcywgYW5kIGluIHRoZSBmdXR1cmUgcHMxIHJlcGxhY2VtZW50IGNoZWNrcwogICAgICAgIHJldHVybnMgYSBkaWN0IGtleWVkIHdpdGggYWJzb2x1dGUgUGF0aCBvZiBmaWxlIHRvIHZhbHVlIG9mOgogICAgICAgICAgICAiZmlsZV9tb2RlIjogInRleHQiIG9yICJiaW5hcnkiCiAgICAgICAgICAgICJwcmVmaXhfcmVwbGFjZW1lbnQiOiBleHBlY3RlZCByZXBsYWNlbWVudCBzdHJpbmcgdG8gZmluZCBpbiB0aGUgZmlsZQogICAgICAgICIiIgogICAgICAgIGlmIHNlbGYuX2NhY2hlZF9wcmVmaXhfcmVwbGFjZW1lbnRfaW5mbzoKICAgICAgICAgICAgcmV0dXJuIHNlbGYuX2NhY2hlZF9wcmVmaXhfcmVwbGFjZW1lbnRfaW5mbwogICAgICAgIGhhc19wcmVmaXhfcHRoID0gUGF0aChleHRyYWN0ZWRfZGlyKS5hYnNvbHV0ZSgpIC8gImluZm8iIC8gImhhc19wcmVmaXgiCiAgICAgICAgcmVwbGFjZW1lbnRfaW5mbzogZGljdFtQYXRoLCBkaWN0W3N0ciwgc3RyXV0gPSB7fQogICAgICAgIGlmIGhhc19wcmVmaXhfcHRoLmlzX2ZpbGUoKToKICAgICAgICAgICAgcmVwbGFjZW1lbnRfaW5mbyA9IHNlbGYuX3JlYWRfaGFzX3ByZWZpeCgKICAgICAgICAgICAgICAgIGhhc19wcmVmaXhfZmlsZT1oYXNfcHJlZml4X3B0aCwgcm9vdD1QYXRoKGV4dHJhY3RlZF9kaXIpLmFic29sdXRlKCkKICAgICAgICAgICAgKQogICAgICAgIHNlbGYuX2NhY2hlZF9wcmVmaXhfcmVwbGFjZW1lbnRfaW5mbyA9IHJlcGxhY2VtZW50X2luZm8KICAgICAgICByZXR1cm4gcmVwbGFjZW1lbnRfaW5mbwoKICAgIGRlZiBfcmVhZF9oYXNfcHJlZml4KHNlbGYsIGhhc19wcmVmaXhfZmlsZTogUGF0aCwgcm9vdDogUGF0aCkgLT4gZGljdFtQYXRoLCBkaWN0W3N0ciwgc3RyXV06CiAgICAgICAgIiIiUmVhZHMgdGhlIGhhc19wcmVmaXggZmlsZSBhbmQgcmV0dXJucyBpdHMgcmVwcmVzZW50YXRpb24KCiAgICAgICAgcmV0dXJucyBhIGRpY3Qga2V5ZWQgd2l0aCBhYnNvbHV0ZSBQYXRoIG9mIGZpbGUgdG8gdmFsdWUgb2Y6CiAgICAgICAgICAgICJmaWxlX21vZGUiOiAidGV4dCIgb3IgImJpbmFyeSIKICAgICAgICAgICAgInByZWZpeF9yZXBsYWNlbWVudCI6IGV4cGVjdGVkIHJlcGxhY2VtZW50IHN0cmluZyB0byBmaW5kIGluIHRoZSBmaWxlCiAgICAgICAgQWRhcHRlZCBmcm9tIGh0dHBzOi8vZ2l0aHViLmNvbS9jb25kYS9jb25kYS9ibG9iL2RhODlmMTdiY2ExMDRkODQ2MjdkY2UxMmJlZjI3NTk0MThkMjU5NjUvY29uZGEvZ2F0ZXdheXMvZGlzay9yZWFkLnB5I0wyMTAgICMgbm9xYQogICAgICAgICIiIgogICAgICAgIFBhcnNlUmVzdWx0ID0gbmFtZWR0dXBsZSgiUGFyc2VSZXN1bHQiLCAoInBsYWNlaG9sZGVyIiwgImZpbGVtb2RlIiwgImZpbGVwYXRoIikpCgogICAgICAgIGRlZiBzaGxleF9zcGxpdF91bmljb2RlKHRvX3NwbGl0OiBzdHIsIHBvc2l4PVRydWUpIC0+IGxpc3Rbc3RyXToKICAgICAgICAgICAgIyBzaGxleC5zcGxpdCBkb2VzIGl0cyBvd24gdW4tZXNjYXBpbmcgdGhhdCB3ZSBtdXN0IGNvdW50ZXIuCiAgICAgICAgICAgIGVfdG9fc3BsaXQgPSB0b19zcGxpdC5yZXBsYWNlKCJcXCIsICJcXFxcIikKICAgICAgICAgICAgcmV0dXJuIHNobGV4LnNwbGl0KGVfdG9fc3BsaXQsIHBvc2l4PXBvc2l4KQoKICAgICAgICBkZWYgcGFyc2VfbGluZShsaW5lOiBzdHIpIC0+IFBhcnNlUmVzdWx0OgogICAgICAgICAgICAjIHBsYWNlaG9sZGVyLCBmaWxlbW9kZSwgZmlsZXBhdGgKICAgICAgICAgICAgcGFydHMgPSB0dXBsZSh4LnN0cmlwKCJcIiciKSBmb3IgeCBpbiBzaGxleF9zcGxpdF91bmljb2RlKGxpbmUsIHBvc2l4PUZhbHNlKSkKICAgICAgICAgICAgaWYgbGVuKHBhcnRzKSA9PSAxOgogICAgICAgICAgICAgICAgcmV0dXJuIFBhcnNlUmVzdWx0KFsiL29wdC9hbmFjb25kYTFhbmFjb25kYTJhbmFjb25kYTMiXSwgInRleHQiLCBwYXJ0c1swXSkKICAgICAgICAgICAgZWxpZiBsZW4ocGFydHMpID09IDM6CiAgICAgICAgICAgICAgICByZXR1cm4gUGFyc2VSZXN1bHQocGFydHNbMF0sIHBhcnRzWzFdLCBwYXJ0c1syXSkKICAgICAgICAgICAgZWxzZToKICAgICAgICAgICAgICAgIHJhaXNlIEV4Y2VwdGlvbihmIkludmFsaWQgaGFzX3ByZWZpeCBmaWxlIGF0IHBhdGg6IHtoYXNfcHJlZml4X2ZpbGV9IikKCiAgICAgICAgZGVmIHlpZWxkX2xpbmVzKHBhdGg6IFBhdGgpIC0+IEdlbmVyYXRvcltzdHIsIE5vbmUsIE5vbmVdOgogICAgICAgICAgICAiIiJHZW5lcmF0b3IgZnVuY3Rpb24gZm9yIGxpbmVzIGluIGZpbGUuICBFbXB0eSBnZW5lcmF0b3IgaWYgcGF0aCBkb2VzIG5vdCBleGlzdC4iIiIKICAgICAgICAgICAgdHJ5OgogICAgICAgICAgICAgICAgd2l0aCBwYXRoLm9wZW4oKSBhcyBmaDoKICAgICAgICAgICAgICAgICAgICBmb3IgbGluZSBpbiBmaDoKICAgICAgICAgICAgICAgICAgICAgICAgbGluZSA9IGxpbmUuc3RyaXAoKQogICAgICAgICAgICAgICAgICAgICAgICBpZiBub3QgbGluZSBvciBsaW5lLnN0YXJ0c3dpdGgoIiMiKToKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlCiAgICAgICAgICAgICAgICAgICAgICAgIHlpZWxkIGxpbmUKICAgICAgICAgICAgZXhjZXB0IE9TRXJyb3IgYXMgZToKICAgICAgICAgICAgICAgIGlmIGUuZXJybm8gPT0gZXJybm8uRU5PRU5UOgogICAgICAgICAgICAgICAgICAgIHBhc3MKICAgICAgICAgICAgICAgIGVsc2U6CiAgICAgICAgICAgICAgICAgICAgcmFpc2UKCiAgICAgICAgcGFyc2VkX2xpbmVzID0gKHBhcnNlX2xpbmUobGluZSkgZm9yIGxpbmUgaW4geWllbGRfbGluZXMoaGFzX3ByZWZpeF9maWxlKSkKICAgICAgICByZXR1cm4gewogICAgICAgICAgICAocm9vdCAvIHByLmZpbGVwYXRoKS5hYnNvbHV0ZSgpOiB7CiAgICAgICAgICAgICAgICAicHJlZml4X3JlcGxhY2VtZW50IjogcHIucGxhY2Vob2xkZXIsCiAgICAgICAgICAgICAgICAiZmlsZV9tb2RlIjogcHIuZmlsZW1vZGUsCiAgICAgICAgICAgIH0KICAgICAgICAgICAgZm9yIHByIGluIHBhcnNlZF9saW5lcwogICAgICAgIH0KCiAgICBkZWYgX3NoZWxsX3J1bihzZWxmLCBhbHRlcm5hdGVfY21kX3RvX2xvZzogc3RyID0gTm9uZSwgKiprd2FyZ3MpIC0+IGxpc3Rbc3RyXSB8IHN0ciB8IE5vbmU6CiAgICAgICAgIiIiV3JhcHBlciBhcm91bmQgb3VyIHByZWZlY3QncyBzaGVsbF9ydW4gdGhhdCByYWlzZXMgYW4gZXJyb3Igb24gZmFpbHVyZQoKICAgICAgICBUaGlzIGFsc28gdGFrZXMgY2FyZSBvZiBsb2dnaW5nIHRoZSBjb21tYW5kIGZvciB1cywgaW5jbHVkaW5nIGxvZ2ljIHRvIGxldCB1cwogICAgICAgIG9iZnVzY2F0ZSB0aGUgY29tbWFuZCB3ZSBhcmUgZXhlY3V0aW5nLgogICAgICAgICIiIgogICAgICAgIHJldHVybiBzZWxmLnN1cHBvcnRfY2xhc3Muc2hlbGxfcnVuKGFsdGVybmF0ZV9jbWRfdG9fbG9nPWFsdGVybmF0ZV9jbWRfdG9fbG9nLCAqKmt3YXJncykKCiAgICBkZWYgX3NoZWxsX3J1bl93aXRoX2dpdF9rZXkoc2VsZiwgYWx0ZXJuYXRlX2NtZF90b19sb2c6IHN0ciA9IE5vbmUsICoqa3dhcmdzKSAtPiBOb25lOgogICAgICAgIHJldHVybiBzZWxmLnN1cHBvcnRfY2xhc3Muc2hlbGxfcnVuX3dpdGhfZ2l0X2tleShhbHRlcm5hdGVfY21kX3RvX2xvZz1hbHRlcm5hdGVfY21kX3RvX2xvZywgKiprd2FyZ3MpCgoKY2xhc3MgUGtnQ29udGVudFNpZ25TdXBwb3J0R2l0aHViQWN0aW9uKFBrZ0NvbnRlbnRTaWduU3VwcG9ydEJhc2UpOgogICAgIiIiU3VwcG9ydHMgZGlmZmVyZW5jZXMgdGhhdCBhcmUgbmVjZXNzYXJ5IGZvciBHaXRodWJBY3Rpb24tYmFzZWQgc2lnbmluZy4iIiIKCiAgICBfcGFyZW50OiAiUGtnQ29udGVudFNpZ24iCiAgICBfYXVkaXRfaW5mbzogZGljdFtzdHIsIEFueV0KICAgIF9jdXJyZW50X2F1ZGl0X3BrZzogZGljdFtzdHIsIEFueV0KICAgIF9jdXJyZW50X2F1ZGl0X2ZpbGU6IGRpY3Rbc3RyLCBBbnldCiAgICBfY3VycmVudF9hdWRpdF9maWxlczogZGljdFtzdHIsIEFueV0KCiAgICBkZWYgX19pbml0X18oc2VsZikgLT4gTm9uZToKICAgICAgICBzdXBlcigpLl9faW5pdF9fKCkKICAgICAgICBzZWxmLl9hdWRpdF9pbmZvID0ge30KICAgICAgICBzZWxmLl9jdXJyZW50X2F1ZGl0X3BrZyA9IHt9CiAgICAgICAgc2VsZi5fY3VycmVudF9hdWRpdF9maWxlID0ge30KICAgICAgICBzZWxmLl9jdXJyZW50X2F1ZGl0X2ZpbGVzID0ge30KCiAgICBkZWYgYXVkaXQoc2VsZiwgYXVkaXRfdHlwZTogc3RyLCBhdWRpdF9kYXRhOiBkaWN0W3N0ciwgQW55XSA9IE5vbmUpIC0+IE5vbmU6CiAgICAgICAgIiIiUHJvdmlkZXMgYSBob29rIHRvIGF1ZGl0IHRoZSBzaWduaW5nIHRoYXQgb2NjdXJyZWQKCiAgICAgICAgQXVkaXQgVHlwZXM6CiAgICAgICAgICAtIFVzZXIgLSBSZWNvcmRzIHRoZSB0cmlnZ2VyaW5nIHVzZXIKICAgICAgICAgICAgICAgIC0gRG9lcyBub3QgdXNlIGF1ZGl0X2RhdGEgYXJndW1lbnQKICAgICAgICAgIC0gVW5zaWduZWQtUGtnIC0gUGFja2FnZSB3ZSBtaWdodCBzaWduLgogICAgICAgICAgICAgICAgLSBhdWRpdF9kYXRhIHNob3VsZCBoYXZlIGEgUGF0aCBrZXkgd2hpY2ggaXMgYSBQYXRoIG9iamVjdCBmb3IgdGhlIGFic3BhdGgKICAgICAgICAgICAgICAgICAgb2YgdGhlIGZpbGUKICAgICAgICAgIC0gU2lnbmVkLVBrZyAtIFBhY2thZ2Ugd2UgZGlkIHNpZ24uCiAgICAgICAgICAgICAgICAtIGF1ZGl0X2RhdGEgc2hvdWxkIGhhdmUgYSBQYXRoIGtleSB3aGljaCBpcyBhIFBhdGggb2JqZWN0IGZvciB0aGUgYWJzcGF0aAogICAgICAgICAgICAgICAgICBvZiB0aGUgZmlsZQogICAgICAgICAgLSBVbnNpZ25lZC1GaWxlIC0gRmlsZSB3ZSBtaWdodCBzaWduLgogICAgICAgICAgICAgICAgLSBhdWRpdF9kYXRhIHNob3VsZCBoYXZlIGEgUGF0aCBrZXkgKHJlbGF0aXZlIHRvIHBhY2thZ2UgZXh0cmFjdGVkIGZvbGRlcikKICAgICAgICAgICAgICAgICAgZm9yIHRoZSBmaWxlCiAgICAgICAgIiIiCiAgICAgICAgaWYgYXVkaXRfdHlwZSA9PSAiVXNlciI6CiAgICAgICAgICAgIHNlbGYuX2F1ZGl0X2luZm9bIkdpdGh1Yi1BY3RvciJdID0gb3MuZ2V0ZW52KCJHSVRIVUJfQUNUT1IiKQogICAgICAgICAgICByZXR1cm4KICAgICAgICBmaWxlOiBQYXRoID0gYXVkaXRfZGF0YS5nZXQoIlBhdGgiLCBOb25lKQogICAgICAgIGlmIG5vdCBmaWxlOgogICAgICAgICAgICByZXR1cm4KICAgICAgICBzaGEyNTYgPSBoYXNobGliLnNoYTI1NihmaWxlLnJlYWRfYnl0ZXMoKSkuaGV4ZGlnZXN0KCkKICAgICAgICBkYXRhID0gewogICAgICAgICAgICAiU0hBMjU2U1VNIjogc2hhMjU2LAogICAgICAgICAgICAiU2l6ZSI6IGZpbGUubHN0YXQoKS5zdF9zaXplLAogICAgICAgIH0KICAgICAgICBpZiAiLVBrZyIgaW4gYXVkaXRfdHlwZToKICAgICAgICAgICAgZGF0YVsiRmlsZW5hbWUiXSA9IGZpbGUubmFtZQogICAgICAgIGlmICItRmlsZSIgaW4gYXVkaXRfdHlwZToKICAgICAgICAgICAgZGF0YVsiUGF0aCJdID0gc3RyKGZpbGUucmVsYXRpdmVfdG8oYXVkaXRfZGF0YS5nZXQoIlBhcmVudCIpKSkKICAgICAgICBpZiBhdWRpdF90eXBlID09ICJVbnNpZ25lZC1Qa2ciOgogICAgICAgICAgICBjb25kYV9jaGFubmVsID0gb3MuZ2V0ZW52KCJVU0VEX0NPTkRBX0NIQU5ORUwiKQogICAgICAgICAgICBkYXRhWyJVUkwiXSA9IGYiaHR0cHM6Ly9jb25kYS5hbmFjb25kYS5vcmcve2NvbmRhX2NoYW5uZWx9L3dpbi02NC97ZmlsZS5uYW1lfSIKICAgICAgICAgICAgIyBJZiB3ZSBuZXZlciBzaWduIHRoaXMgcGFja2FnZSwgd2Ugb3ZlcndyaXRlIGl0IG9uIHRoZSBuZXh0IHBhc3MKICAgICAgICAgICAgc2VsZi5fY3VycmVudF9hdWRpdF9wa2cgPSBkYXRhCiAgICAgICAgICAgICMgUmVzZXQgY3VycmVudGx5IGF1ZGl0ZWQgZmlsZXMKICAgICAgICAgICAgc2VsZi5fY3VycmVudF9hdWRpdF9maWxlcyA9IHt9CiAgICAgICAgICAgIHJldHVybgogICAgICAgIGlmIGF1ZGl0X3R5cGUgPT0gIlNpZ25lZC1Qa2ciOgogICAgICAgICAgICAjIE9ubHkgb25jZSBzaWduZWQsIGRvIHdlIHN0b3JlIHRoZSB1bnNpZ25lZCBhbmQgc2lnbmVkIGNvcHkgaGVyZS4KICAgICAgICAgICAgdW5zaWduZWRfcGtnczogbGlzdFtkaWN0XSA9IHNlbGYuX2F1ZGl0X2luZm8uc2V0ZGVmYXVsdCgiVW5zaWduZWQtUGFja2FnZXMiLCBbXSkKICAgICAgICAgICAgc2lnbmVkX3BrZ3M6IGxpc3RbZGljdF0gPSBzZWxmLl9hdWRpdF9pbmZvLnNldGRlZmF1bHQoIlNpZ25lZC1QYWNrYWdlcyIsIFtdKQoKICAgICAgICAgICAgIyBBdHRhY2ggaW5kaXZpZHVhbCBmaWxlcwogICAgICAgICAgICBzZWxmLl9jdXJyZW50X2F1ZGl0X3BrZ1siRmlsZXMiXSA9IHNlbGYuX2N1cnJlbnRfYXVkaXRfZmlsZXMuc2V0ZGVmYXVsdCgiVW5zaWduZWQiLCBbXSkKICAgICAgICAgICAgZGF0YVsiRmlsZXMiXSA9IHNlbGYuX2N1cnJlbnRfYXVkaXRfZmlsZXMuc2V0ZGVmYXVsdCgiU2lnbmVkIiwgW10pCgogICAgICAgICAgICB1bnNpZ25lZF9wa2dzLmFwcGVuZChzZWxmLl9jdXJyZW50X2F1ZGl0X3BrZykKICAgICAgICAgICAgc2lnbmVkX3BrZ3MuYXBwZW5kKGRhdGEpCiAgICAgICAgICAgIHJldHVybgogICAgICAgIGlmIGF1ZGl0X3R5cGUgPT0gIlVuc2lnbmVkLUZpbGUiOgogICAgICAgICAgICBzZWxmLl9jdXJyZW50X2F1ZGl0X2ZpbGUgPSBkYXRhCiAgICAgICAgICAgIHJldHVybgogICAgICAgIGlmIGF1ZGl0X3R5cGUgPT0gIlNpZ25lZC1GaWxlIjoKICAgICAgICAgICAgdW5zaWduZWRfZmlsZXM6IGxpc3RbZGljdF0gPSBzZWxmLl9jdXJyZW50X2F1ZGl0X2ZpbGVzLnNldGRlZmF1bHQoIlVuc2lnbmVkIiwgW10pCiAgICAgICAgICAgIHNpZ25lZF9maWxlczogbGlzdFtkaWN0XSA9IHNlbGYuX2N1cnJlbnRfYXVkaXRfZmlsZXMuc2V0ZGVmYXVsdCgiU2lnbmVkIiwgW10pCgogICAgICAgICAgICAjIEZpbGVzIGFkZGVkIHRvIF9jdXJyZW50X2F1ZGl0X3BrZyBpbiBTaWduZWQtUGtnIGF1ZGl0CiAgICAgICAgICAgIHVuc2lnbmVkX2ZpbGVzLmFwcGVuZChzZWxmLl9jdXJyZW50X2F1ZGl0X2ZpbGUpCiAgICAgICAgICAgIHNpZ25lZF9maWxlcy5hcHBlbmQoZGF0YSkKICAgICAgICAgICAgcmV0dXJuCgogICAgZGVmIGR1bXBfYXVkaXRfaW5mbyhzZWxmKSAtPiBOb25lOgogICAgICAgIHlhbWwgPSBZQU1MKCkKICAgICAgICBvdXRwdXRfcHRoID0gc2VsZi5fcGFyZW50LmZsb3dydW5fZGlyIC8gImF1ZGl0ZWRfZGF0YS55YW1sIgogICAgICAgIHlhbWwuZHVtcChzZWxmLl9hdWRpdF9pbmZvLCBzdHJlYW09b3V0cHV0X3B0aCkKICAgICAgICBzZWxmLl9wYXJlbnQubG9nZ2VyLmluZm8oIkFVRElUIElORk86IikKICAgICAgICBzZWxmLl9wYXJlbnQubG9nZ2VyLmluZm8ob3V0cHV0X3B0aC5yZWFkX3RleHQoKSkKCiAgICBkZWYgZ2V0X2F6dXJlX2NyZWRlbnRpYWxzKHNlbGYsIHVwbG9hZDogYm9vbCkgLT4gZGljdDoKICAgICAgICAjIFZhbHVlcyBjb21lIGZyb20gZ2l0aHViLiBzbyBpZ25vcmUgJ3VwbG9hZCcKICAgICAgICAjIEV4cGVjdGluZyBSZXR1cm46CiAgICAgICAgIyB7CiAgICAgICAgIyAgICdBc3NlcnRpb25UaHVtYnByaW50JzogPFRodW1icHJpbnQgb2YgQ2VydGlmaWNhdGU+LAogICAgICAgICMgICAnQ2VydGlmaWNhdGVOYW1lJzogPE5hbWUgb2YgY2VydCBhcyBzdG9yZWQgaW4gQXp1cmU+LAogICAgICAgICMgICAnS2V5VmF1bHRVUkwnOiA8VVJMIGZvciBBenVyZSBLZXl2YXVsdCBTZXJ2aWNlPiwKICAgICAgICAjIH0KICAgICAgICAjIFdlIGRvbid0IHNldCB0aGUgZm9sbG93aW5nIHZhbHVlcywgdXNlZCBpbiBQcmVmZWN0IHB5IGltcGxlbWVudGF0aW9uIE9ubHkKICAgICAgICAjICAgJ0NsaWVudElEJzogPENsaWVudCBJRCBmb3IgQXp1cmUgVXNlcj4sCiAgICAgICAgIyAgICdUZW5hbnRJRCc6IDxJRCBvZiB0aGUgb3JnYW5pemF0aW9uPiwKICAgICAgICAjICAgJ1NlY3JldCc6IDxTZWNyZXQgdG8gYXV0aGVudGljYXRlPiwKICAgICAgICByZXR1cm4gewogICAgICAgICAgICAiQXNzZXJ0aW9uVGh1bWJwcmludCI6IG9zLmdldGVudigiQVpVUkVfU0lHTklOR19FWFBFQ1RFRF9USFVNQlBSSU5UIiksCiAgICAgICAgICAgICJDZXJ0aWZpY2F0ZU5hbWUiOiBvcy5nZXRlbnYoIkFaVVJFX1NJR05JTkdfQ0VSVF9OQU1FIiksCiAgICAgICAgICAgICJLZXlWYXVsdFVSTCI6IG9zLmdldGVudigiQVpVUkVfU0lHTklOR19LRVlWQVVMVF9VUkwiKSwKICAgICAgICB9CgogICAgZGVmIGF6dXJlc2lnbl9jb21tYW5kKHNlbGYsIHNpZ25pbmdfc2VjcmV0czogZGljdFtzdHIsIHN0cl0sIHRvc2lnbjogUGF0aCkgLT4gc3RyOgogICAgICAgICMgSGVyZSB3ZSB1c2UgQXp1cmVTaWduVG9vbCB3aXRoIHRoZSBnaXRodWIgb2F1dGggZmVkZXJhdGVkIGNyZWRlbnRpYWxzIHdpdGggQXp1cmUKICAgICAgICBjb21tYW5kID0gKAogICAgICAgICAgICAiQXp1cmVTaWduVG9vbCAiCiAgICAgICAgICAgICJzaWduICIKICAgICAgICAgICAgIi0tYXp1cmUta2V5LXZhdWx0LW1hbmFnZWQtaWRlbnRpdHkgIgogICAgICAgICAgICBmIi0tYXp1cmUta2V5LXZhdWx0LXVybD17c2lnbmluZ19zZWNyZXRzWydLZXlWYXVsdFVSTCddfSAiCiAgICAgICAgICAgIGYiLS1henVyZS1rZXktdmF1bHQtY2VydGlmaWNhdGU9e3NpZ25pbmdfc2VjcmV0c1snQ2VydGlmaWNhdGVOYW1lJ119ICIKICAgICAgICAgICAgIi0tdGltZXN0YW1wLXJmYzMxNjE9aHR0cDovL3RpbWVzdGFtcC5kaWdpY2VydC5jb20gIgogICAgICAgICAgICAiLXYgIgogICAgICAgICAgICBmInt0b3NpZ259IgogICAgICAgICkKICAgICAgICByZXR1cm4gY29tbWFuZAoKICAgIGRlZiBzaGVsbF9ydW4oc2VsZiwgYWx0ZXJuYXRlX2NtZF90b19sb2c6IHN0ciA9IE5vbmUsICoqa3dhcmdzKSAtPiBsaXN0W3N0cl0gfCBzdHIgfCBOb25lOgogICAgICAgICIiIlJ1bnMgaW4gYSBzaGVsbCIiIgogICAgICAgIGlmIGFsdGVybmF0ZV9jbWRfdG9fbG9nOgogICAgICAgICAgICBzZWxmLl9wYXJlbnQubG9nZ2VyLmluZm8oZiJSdW5uaW5nIGNvbW1hbmQ6IHthbHRlcm5hdGVfY21kX3RvX2xvZ30iKQogICAgICAgIGVsc2U6CiAgICAgICAgICAgIHNlbGYuX3BhcmVudC5sb2dnZXIuaW5mbyhmIlJ1bm5pbmcgY29tbWFuZDoge2t3YXJnc1snY29tbWFuZCddfSIpCgogICAgICAgIHJlc3VsdCwgcmV0dXJuX2NvZGUgPSBXaW5kb3dzU2hlbGxSdW4oKiprd2FyZ3MpCiAgICAgICAgaWYgcmV0dXJuX2NvZGUgIT0gMDoKICAgICAgICAgICAgcmFpc2UgRXhjZXB0aW9uKGYiQ29tbWFuZCBGYWlsZWQsIHJldHVybmNvZGUge3JldHVybl9jb2RlfSIpCiAgICAgICAgcmV0dXJuIHJlc3VsdAoKICAgIGRlZiBzaGVsbF9ydW5fd2l0aF9naXRfa2V5KHNlbGYsIGFsdGVybmF0ZV9jbWRfdG9fbG9nOiBzdHIgPSBOb25lLCAqKmt3YXJncykgLT4gTm9uZToKICAgICAgICAiIiJSdW5zIGluIGEgc2hlbGwgd2l0aCBhbiBhY3RpdmUgZ2l0IHNzaCBrZXkiIiIKICAgICAgICBHSVRfU1NIX0NPTU1BTkQgPSAic3NoIC1vIFN0cmljdEhvc3RLZXlDaGVja2luZz1ubyAtbyBVc2VyS25vd25Ib3N0c0ZpbGU9L2Rldi9udWxsIgogICAgICAgIGVudjogZGljdCA9IGt3YXJncy5nZXQoImVudiIsIHt9KQogICAgICAgIGVudi51cGRhdGUoeyJHSVRfU1NIX0NPTU1BTkQiOiBHSVRfU1NIX0NPTU1BTkR9KQogICAgICAgIGt3YXJncy51cGRhdGUoCiAgICAgICAgICAgIGVudj1lbnYsCiAgICAgICAgICAgIHVzZV9zc2hfa2V5PVRydWUsCiAgICAgICAgKQogICAgICAgIHNlbGYuc2hlbGxfcnVuKGFsdGVybmF0ZV9jbWRfdG9fbG9nPWFsdGVybmF0ZV9jbWRfdG9fbG9nLCAqKmt3YXJncykKCgpjbGFzcyBQa2dDb250ZW50U2lnblN1cHBvcnRUYXNrY2x1c3RlcihQa2dDb250ZW50U2lnblN1cHBvcnRCYXNlKToKICAgICIiIlN1cHBvcnRpbmcgY2xhc3MgZm9yIFRhc2tjbHVzdGVyIFNwZWNpZmljIGZ1bmN0aW9uYWxpdHkKCiAgICBOZWNlc3NhcnkgdG8gc3VwcG9ydCBEdXBsaWNhdGluZyB0aGUgYWJvdmUgZnVuY3Rpb25hbGl0eSBiZXR3ZWVuCiAgICBUYXNrY2x1c3RlciBhbmQgR2l0aHViIEFjdGlvbgogICAgIiIiCgogICAgZGVmIGdldF9henVyZV9jcmVkZW50aWFscyhzZWxmLCB1cGxvYWQ6IGJvb2wpIC0+IGRpY3Q6CiAgICAgICAgIiIiR2V0IHRoZSBBenVyZSBjcmVkZW50aWFscyBmcm9tIFRDIFNlY3JldHMiIiIKICAgICAgICAjIEV4cGVjdGluZzoKICAgICAgICAjIHsKICAgICAgICAjICAgJ0Fzc2VydGlvblRodW1icHJpbnQnOiA8VGh1bWJwcmludCBvZiBDZXJ0aWZpY2F0ZT4sCiAgICAgICAgIyAgICdDZXJ0aWZpY2F0ZU5hbWUnOiA8TmFtZSBvZiBjZXJ0IGFzIHN0b3JlZCBpbiBBenVyZT4sCiAgICAgICAgIyAgICdDbGllbnRJRCc6IDxDbGllbnQgSUQgZm9yIEF6dXJlIFVzZXI+LAogICAgICAgICMgICAnS2V5VmF1bHRVUkwnOiA8VVJMIGZvciBBenVyZSBLZXl2YXVsdCBTZXJ2aWNlPiwKICAgICAgICAjICAgJ1NlY3JldCc6IDxTZWNyZXQgdG8gYXV0aGVudGljYXRlPiwKICAgICAgICAjICAgJ1RlbmFudElEJzogPElEIG9mIHRoZSBvcmdhbml6YXRpb24+LAogICAgICAgICMgfQogICAgICAgIGlmIG5vdCB1cGxvYWQ6CiAgICAgICAgICAgIHNlY3JldF9uYW1lc3BhY2UgPSAiZGV2IiAgIyBub3NlYwogICAgICAgIGVsc2U6CiAgICAgICAgICAgIHNlY3JldF9uYW1lc3BhY2UgPSAicHJvZCIgICMgbm9zZWMKICAgICAgICBzZWNyZXRfcHJlZml4ID0gZiJjb2Rlc2lnbmluZzp3aW5kb3dzOntzZWNyZXRfbmFtZXNwYWNlfSIKICAgICAgICBzaWduaW5nX3NlY3JldHMgPSB7CiAgICAgICAgICAgICJBc3NlcnRpb25UaHVtYnByaW50IjogU2VjcmV0KGYie3NlY3JldF9wcmVmaXh9OkFzc2VydGlvblRodW1icHJpbnQiKS5nZXQoKSwKICAgICAgICAgICAgIkNlcnRpZmljYXRlTmFtZSI6IFNlY3JldChmIntzZWNyZXRfcHJlZml4fTpDZXJ0aWZpY2F0ZU5hbWUiKS5nZXQoKSwKICAgICAgICAgICAgIkNsaWVudElEIjogU2VjcmV0KGYie3NlY3JldF9wcmVmaXh9OkNsaWVudElEIikuZ2V0KCksCiAgICAgICAgICAgICJLZXlWYXVsdFVSTCI6IFNlY3JldChmIntzZWNyZXRfcHJlZml4fTpLZXlWYXVsdFVSTCIpLmdldCgpLAogICAgICAgICAgICAiU2VjcmV0IjogU2VjcmV0KGYie3NlY3JldF9wcmVmaXh9OlNlY3JldCIpLmdldCgpLAogICAgICAgICAgICAiVGVuYW50SUQiOiBTZWNyZXQoZiJ7c2VjcmV0X3ByZWZpeH06VGVuYW50SUQiKS5nZXQoKSwKICAgICAgICB9CiAgICAgICAgcmV0dXJuIHNpZ25pbmdfc2VjcmV0cwoKICAgIGRlZiBhenVyZXNpZ25fY29tbWFuZChzZWxmLCBzaWduaW5nX3NlY3JldHM6IGRpY3Rbc3RyLCBzdHJdLCB0b3NpZ246IFBhdGgpIC0+IHN0cjoKICAgICAgICAjIEF6dXJlU2lnblRvb2wgZG9lc24ndCB5ZXQgc3VwcG9ydCBFbnZpcm9uIHNlY3JldCBoYW5kbGluZwogICAgICAgICMgUnVubmluZyBhdXRoIHRoaXMgd2F5IHdhcyBzdWdnZXN0ZWQgYnkgdGhlIFNlY3VyaXR5IHRlYW0KICAgICAgICAjIEZ1dHVyZSBtaWdodCBhbGxvdyB1cyB0byBkbyB0aGlzIGluIGEgbW9yZSBzZWN1cmUgYXV0aGVudGljYXRpb24KICAgICAgICAjIG1hbm5lcgogICAgICAgIGNvbW1hbmQgPSAoCiAgICAgICAgICAgICJBenVyZVNpZ25Ub29sICIKICAgICAgICAgICAgInNpZ24gIgogICAgICAgICAgICBmIi0tYXp1cmUta2V5LXZhdWx0LXVybD17c2lnbmluZ19zZWNyZXRzWydLZXlWYXVsdFVSTCddfSAiCiAgICAgICAgICAgIGYiLS1henVyZS1rZXktdmF1bHQtY2xpZW50LWlkPXtzaWduaW5nX3NlY3JldHNbJ0NsaWVudElEJ119ICIKICAgICAgICAgICAgZiItLWF6dXJlLWtleS12YXVsdC10ZW5hbnQtaWQ9e3NpZ25pbmdfc2VjcmV0c1snVGVuYW50SUQnXX0gIgogICAgICAgICAgICBmIi0tYXp1cmUta2V5LXZhdWx0LWNsaWVudC1zZWNyZXQ9e3NpZ25pbmdfc2VjcmV0c1snU2VjcmV0J119ICIKICAgICAgICAgICAgZiItLWF6dXJlLWtleS12YXVsdC1jZXJ0aWZpY2F0ZT17c2lnbmluZ19zZWNyZXRzWydDZXJ0aWZpY2F0ZU5hbWUnXX0gIgogICAgICAgICAgICAiLS10aW1lc3RhbXAtcmZjMzE2MT1odHRwOi8vdGltZXN0YW1wLmRpZ2ljZXJ0LmNvbSAiCiAgICAgICAgICAgICItdiAiCiAgICAgICAgICAgIGYie3Rvc2lnbn0iCiAgICAgICAgKQogICAgICAgIHJldHVybiBjb21tYW5kCgogICAgZGVmIHNoZWxsX3J1bihzZWxmLCBhbHRlcm5hdGVfY21kX3RvX2xvZzogc3RyID0gTm9uZSwgKiprd2FyZ3MpIC0+IGxpc3Rbc3RyXSB8IHN0ciB8IE5vbmU6CiAgICAgICAgIiIiV3JhcHBlciBhcm91bmQgb3VyIHByZWZlY3QncyBzaGVsbF9ydW4gdGhhdCByYWlzZXMgYW4gZXJyb3Igb24gZmFpbHVyZQogICAgICAgIFRoaXMgYWxzbyB0YWtlcyBjYXJlIG9mIGxvZ2dpbmcgdGhlIGNvbW1hbmQgZm9yIHVzLCBpbmNsdWRpbmcgbG9naWMgdG8gbGV0IHVzCiAgICAgICAgb2JmdXNjYXRlIHRoZSBjb21tYW5kIHdlIGFyZSBleGVjdXRpbmcuCiAgICAgICAgIiIiCiAgICAgICAgaWYgYWx0ZXJuYXRlX2NtZF90b19sb2c6CiAgICAgICAgICAgIHNlbGYuX3BhcmVudC5sb2dnZXIuaW5mbyhmIlJ1bm5pbmcgY29tbWFuZDoge2FsdGVybmF0ZV9jbWRfdG9fbG9nfSIpCiAgICAgICAgZWxzZToKICAgICAgICAgICAgc2VsZi5fcGFyZW50LmxvZ2dlci5pbmZvKGYiUnVubmluZyBjb21tYW5kOiB7a3dhcmdzWydjb21tYW5kJ119IikKCiAgICAgICAgcmVzdWx0LCByZXR1cm5fY29kZSA9IFdpbmRvd3NTaGVsbFJ1bigqKmt3YXJncykKICAgICAgICBpZiByZXR1cm5fY29kZSAhPSAwOgogICAgICAgICAgICByYWlzZSBFeGNlcHRpb24oZiJDb21tYW5kIEZhaWxlZCwgcmV0dXJuY29kZSB7cmV0dXJuX2NvZGV9LCB7cmVwcihyZXN1bHQpfSIpCiAgICAgICAgcmV0dXJuIHJlc3VsdAoKICAgIGRlZiBzaGVsbF9ydW5fd2l0aF9naXRfa2V5KHNlbGYsIGFsdGVybmF0ZV9jbWRfdG9fbG9nOiBzdHIgPSBOb25lLCAqKmt3YXJncykgLT4gTm9uZToKICAgICAgICB0cmVhdF9hc19wcml2YXRlX3JlcG8gPSBib29sKG9zLmVudmlyb24uZ2V0KCJUUkVBVF9BU19QUklWQVRFIiwgVHJ1ZSkpCiAgICAgICAgIyBDaG9vc2UgY29udGV4dCBtYW5hZ2VyCiAgICAgICAgaWYgdHJlYXRfYXNfcHJpdmF0ZV9yZXBvOgogICAgICAgICAgICBjbSA9IGluaXRfZ2l0X2Fza3Bhc3MoU2VjcmV0KCJHSF9BQ0NFU1NfVE9LRU4iKSkKICAgICAgICBlbHNlOgogICAgICAgICAgICBjbSA9IG51bGxjb250ZXh0KG9zLmVudmlyb24uY29weSgpKQoKICAgICAgICB3aXRoIGNtIGFzIGdpdF9lbnY6CiAgICAgICAgICAgIHNlbGYuc2hlbGxfcnVuKGFsdGVybmF0ZV9jbWRfdG9fbG9nPWFsdGVybmF0ZV9jbWRfdG9fbG9nLCBlbnY9Z2l0X2VudiwgKiprd2FyZ3MpCgogICAgZGVmIGF1ZGl0KHNlbGYsIGF1ZGl0X3R5cGU6IHN0ciwgYXVkaXRfZGF0YTogZGljdFtzdHIsIEFueV0gPSBOb25lKSAtPiBOb25lOgogICAgICAgICMgSWdub3JlZCBmb3Igbm93CiAgICAgICAgcGFzcwoKICAgIGRlZiBkdW1wX2F1ZGl0X2luZm8oc2VsZikgLT4gTm9uZToKICAgICAgICAjIElnbm9yZWQgZm9yIG5vdwogICAgICAgIHBhc3MKCgpkZWYgcGFja2FnZXNfZXhjbHVkZV9maWx0ZXIodGFyaW5mbzogdGFyZmlsZS5UYXJJbmZvKSAtPiB0YXJmaWxlLlRhckluZm8gfCBOb25lOgogICAgaWYgdGFyaW5mby5uYW1lID09ICJzb3VyY2VfY2FjaGVkLnRneiI6CiAgICAgICAgcmV0dXJuIE5vbmUKICAgIGlmIHRhcmluZm8ubmFtZSA9PSAic291cmNlX2NhY2hlIiBvciB0YXJpbmZvLm5hbWUuc3RhcnRzd2l0aCgic291cmNlX2NhY2hlLyIpOgogICAgICAgIHJldHVybiBOb25lCiAgICByZXR1cm4gdGFyaW5mbwoKCmlmIF9fbmFtZV9fID09ICJfX21haW5fXyI6CiAgICBwa2dzaWduZXI6IFBrZ0NvbnRlbnRTaWduCiAgICBsb2dnaW5nLmJhc2ljQ29uZmlnKGZvcm1hdD0iJShhc2N0aW1lKXMgLSAlKGxldmVsbmFtZSlzIC0gJShtZXNzYWdlKXMiLCBsZXZlbD1sb2dnaW5nLklORk8pCgogICAgcHVibGljX2RpciA9IFBhdGgoInB1YmxpYyIpLnJlc29sdmUoKQoKICAgICMgdXBsb2FkPVRydWUgaXMgZm9yIHByb2QgY2VydHMKICAgIHNob3VsZF91c2VfcHJvZF9jZXJ0ID0gb3MuZW52aXJvbi5nZXQoIlBCUF9DT0RFU0lHTl9DRVJUIiwgImRldiIpID09ICJwcm9kIgoKICAgIHBrZ3NpZ25lciA9IFBrZ0NvbnRlbnRTaWduKAogICAgICAgIHVwbG9hZF9mb2xkZXI9cHVibGljX2RpciwgICMgb3MuZ2V0ZW52KCJVUExPQURfRElSIiksCiAgICAgICAgZmxvd3J1bl9kaXI9V09SS1NQQUNFX0RJUiwKICAgICAgICB1cGxvYWQ9c2hvdWxkX3VzZV9wcm9kX2NlcnQsCiAgICAgICAgbG9nZ2VyPWxvZ2dpbmcuZ2V0TG9nZ2VyKF9fbmFtZV9fKSwKICAgICAgICBzcmNfY2FjaGVfZm9sZGVyPSJfc3JjX2NhY2hlIiwKICAgICAgICBjcmVhdGVfcmVwb2RhdGE9RmFsc2UsICAjIFdlIGV4cGxpY2l0bHkgcmVtb3ZlIHJlcG9kYXRhIGluIGJ1aWxkLnB5CiAgICAgICAgc3VwcG9ydF9jbGFzcz1Qa2dDb250ZW50U2lnblN1cHBvcnRUYXNrY2x1c3RlcigpLAogICAgICAgICMgRG9uJ3Qgc3VwcG9ydCBHaXRodWJBY3Rpb24oKSB5ZXQKICAgICAgICAjIHN1cHBvcnRfY2xhc3M9UGtnQ29udGVudFNpZ25TdXBwb3J0R2l0aHViQWN0aW9uKCksCiAgICApCgogICAgcGtnc2lnbmVyLm1heWJlX2RvX3NpZ25pbmcoKQogICAgcHJpbnQoIkFyY2hpdmluZyB0aGUgY29uZGEgcGFja2FnZXMgaW4gdGhlIHB1YmxpYyBmb2xkZXIuLi4iKQogICAgd2l0aCB0YXJmaWxlLm9wZW4oInBhY2thZ2VzLnRneiIsICJ3Omd6IiwgZm9ybWF0PXRhcmZpbGUuUEFYX0ZPUk1BVCkgYXMgdGFyOgogICAgICAgIHRhci5hZGQocHVibGljX2RpciwgYXJjbmFtZT0iLiIsIHJlY3Vyc2l2ZT1UcnVlLCBmaWx0ZXI9cGFja2FnZXNfZXhjbHVkZV9maWx0ZXIpCgogICAgc2h1dGlsLm1vdmUoInBhY2thZ2VzLnRneiIsIHB1YmxpY19kaXIgLyAicGFja2FnZXMudGd6IikKICAgIHByaW50KCJDb25kYSBwYWNrYWdlcyBhcmNoaXZlZCBzdWNjZXNzZnVsbHkuIikK",
      "download_dependencies.py": "IyEvdXNyL2Jpbi9lbnYgcHl0aG9uMwoKaW1wb3J0IG9zCmltcG9ydCBzeXMKZnJvbSBwYXRobGliIGltcG9ydCBQYXRoCgpmcm9tIHNoYXJlZF91dGlscyBpbXBvcnQgY2xlYW5fY29uZGFfY2FjaGUsIGRvd25sb2FkX2RlcGVuZGVuY2llc19jb25kYSwgZ2V0X2RlcGVuZGVuY2llcwoKdGVtcF9jaGFubmVsID0gUGF0aCgidGVtcF9jaGFubmVsIikKCnVzZV9zaGVsbCA9IEZhbHNlCmlmIG9zLm5hbWUgPT0gIm50IjoKICAgIHVzZV9zaGVsbCA9IFRydWUKCgpkZWYgbWFpbigpIC0+IGludDoKICAgIHByb3h5X3VybCA9IG9zLmVudmlyb24uZ2V0KCJUQVNLQ0xVU1RFUl9QUk9YWV9VUkwiKQogICAgaWYgbm90IHByb3h5X3VybDoKICAgICAgICBwcmludCgiRXJyb3I6IFRoZSBlbnZpcm9ubWVudCB2YXJpYWJsZSBUQVNLQ0xVU1RFUl9QUk9YWV9VUkwgaXMgbm90IHNldC4iKQogICAgICAgIHJldHVybiAxCgogICAgcnVuX2Zyb21fZGVwcyA9IG9zLmVudmlyb24uZ2V0KCJSVU5fRlJPTV9ERVBFTkRFTkNJRVMiLCAiIikKICAgIGlmIHJ1bl9mcm9tX2RlcHMgPT0gIiI6CiAgICAgICAgcHJpbnQoIkVycm9yOiBUaGUgZW52aXJvbm1lbnQgdmFyaWFibGUgUlVOX0ZST01fREVQRU5ERU5DSUVTIGlzIG5vdCBzZXQuIikKICAgICAgICBwcmludCgiUGxlYXNlIHByb3ZpZGUgYSBib29sZWFuIGZsYWcgKHRydWUvZmFsc2UpIHRvIGluZGljYXRlIHdoZXRoZXIgdG8gdGVzdCBmcm9tIGRlcGVuZGVuY2llcy4iKQogICAgICAgIHJldHVybiAxCgogICAgdHJ5OgogICAgICAgIGlmIHJ1bl9mcm9tX2RlcHMubG93ZXIoKSA9PSAidHJ1ZSI6CiAgICAgICAgICAgIGRlcGVuZGVuY2llcyA9IGdldF9kZXBlbmRlbmNpZXMoKQogICAgICAgICAgICBpZiBub3QgZGVwZW5kZW5jaWVzOgogICAgICAgICAgICAgICAgcHJpbnQoIkVycm9yOiBSVU5fRlJPTV9ERVBFTkRFTkNJRVMgaXMgc2V0IHRvIHRydWUgYnV0IERFUEVOREVOQ0lFUyBsaXN0IGlzIGVtcHR5LiIpCiAgICAgICAgICAgICAgICByZXR1cm4gMQogICAgICAgIGVsc2U6CiAgICAgICAgICAgIGRlcGVuZGVuY2llcyA9IFtdCgogICAgICAgIGNsZWFuX2NvbmRhX2NhY2hlKHVzZV9zaGVsbD11c2Vfc2hlbGwpCgogICAgICAgIGRvd25sb2FkX2RlcGVuZGVuY2llc19jb25kYSgKICAgICAgICAgICAgdGVtcF9jaGFubmVsLCBkZXBlbmRlbmNpZXMsIHByb3h5X3VybCwgeyIqLmNvbmRhIn0sIGZhaWxfaWZfbm90X2ZvdW5kPVRydWUKICAgICAgICApCiAgICAgICAgbm9hcmNoX2RpciA9IFBhdGgob3MucGF0aC5qb2luKHRlbXBfY2hhbm5lbCwgIm5vYXJjaCIpKQogICAgICAgIG5vYXJjaF9kaXIubWtkaXIocGFyZW50cz1UcnVlLCBleGlzdF9vaz1UcnVlKQoKICAgIGV4Y2VwdCBFeGNlcHRpb24gYXMgZToKICAgICAgICBwcmludChmIkVycm9yOiB7c3RyKGUpfSIpCiAgICAgICAgcmV0dXJuIDEKCgppZiBfX25hbWVfXyA9PSAiX19tYWluX18iOgogICAgc3lzLmV4aXQobWFpbigpKQo=",
      "download_conda_build_config.py": "IyEvdXNyL2Jpbi9lbnYgcHl0aG9uMwoKaW1wb3J0IG9zCmltcG9ydCBzeXMKCmltcG9ydCByZXF1ZXN0cwppbXBvcnQgeWFtbAoKdGFza2NsdXN0ZXJfcHJveHlfdXJsID0gb3MuZW52aXJvbi5nZXQoIlRBU0tDTFVTVEVSX1BST1hZX1VSTCIpCnRhc2tfaWQgPSBvcy5lbnZpcm9uLmdldCgiVEFTS19JRCIpCgoKZGVmIGRvd25sb2FkX2NvbmRhX2J1aWxkX2NvbmZpZyh0YXNrY2x1c3Rlcl9wcm94eV91cmw6IHN0ciwgdGFza19pZDogc3RyKSAtPiBOb25lOgoKICAgIGlmIG5vdCB0YXNrY2x1c3Rlcl9wcm94eV91cmwgb3Igbm90IHRhc2tfaWQ6CiAgICAgICAgcmFpc2UgT1NFcnJvcigiVEFTS0NMVVNURVJfUFJPWFlfVVJMIGFuZCBUQVNLX0lEIG11c3QgYmUgc2V0IGluIHRoZSBlbnZpcm9ubWVudC4iKQoKICAgIHVybCA9IGYie3Rhc2tjbHVzdGVyX3Byb3h5X3VybH0vYXBpL3F1ZXVlL3YxL3Rhc2sve3Rhc2tfaWR9IgogICAgcmVzcG9uc2UgPSByZXF1ZXN0cy5nZXQodXJsKSAgIyBub3NlYwogICAgcmVzcG9uc2UucmFpc2VfZm9yX3N0YXR1cygpCiAgICBkYXRhID0gcmVzcG9uc2UuanNvbigpCgogICAgY29uZGFfYnVpbGRfY29uZmlnOiBkaWN0ID0gZGF0YS5nZXQoImV4dHJhIiwge30pLmdldCgiZmlsZXMiLCB7fSkuZ2V0KCJjb25kYV9idWlsZF9jb25maWciKQogICAgaWYgY29uZGFfYnVpbGRfY29uZmlnIGlzIE5vbmU6CiAgICAgICAgcmFpc2UgS2V5RXJyb3IoImNvbmRhX2J1aWxkX2NvbmZpZyBub3QgZm91bmQgaW4gdGFzayBkZWZpbml0aW9uLiIpCgogICAgd2l0aCBvcGVuKCJjb25kYV9idWlsZF9jb25maWdfcGJwX2dlbmVyYXRlZC55YW1sIiwgInciKSBhcyBmOgogICAgICAgIHlhbWwuZHVtcChjb25kYV9idWlsZF9jb25maWcsIGYsIGRlZmF1bHRfZmxvd19zdHlsZT1GYWxzZSkKCgpkZWYgbWFpbigpIC0+IGludDoKICAgIHRyeToKICAgICAgICBkb3dubG9hZF9jb25kYV9idWlsZF9jb25maWcodGFza2NsdXN0ZXJfcHJveHlfdXJsLCB0YXNrX2lkKQogICAgICAgIHByaW50KCJjb25kYV9idWlsZF9jb25maWdfcGJwX2dlbmVyYXRlZC55YW1sIGRvd25sb2FkZWQgc3VjY2Vzc2Z1bGx5LiIpCiAgICAgICAgcmV0dXJuIDAKICAgIGV4Y2VwdCBFeGNlcHRpb24gYXMgZToKICAgICAgICBwcmludChmIkVycm9yIGRvd25sb2FkaW5nIGNvbmRhX2J1aWxkX2NvbmZpZ19wYnBfZ2VuZXJhdGVkLnlhbWw6IHtlfSIpCiAgICAgICAgcmV0dXJuIDEKCgppZiBfX25hbWVfXyA9PSAiX19tYWluX18iOgogICAgc3lzLmV4aXQobWFpbigpKQo="
    },
    "files": {
      "conda_build_config": {
        "python": "3.11",
        "c_stdlib": "vs",
        "platform": "win-64",
        "c_compiler": "vs2022",
        "channel_targets": "defaults",
        "target_platform": "win-64",
        "c_stdlib_version": "2022.14"
      }
    }
  }
}
[taskcluster 2026-01-22T14:17:43.196Z]                        Exit Code: 0
[taskcluster 2026-01-22T14:17:43.196Z]                        User Time: 15.625ms
[taskcluster 2026-01-22T14:17:43.196Z]                      Kernel Time: 15.625ms
[taskcluster 2026-01-22T14:17:43.196Z]                        Wall Time: 331.2121ms
[taskcluster 2026-01-22T14:17:43.196Z]                           Result: SUCCEEDED
[taskcluster 2026-01-22T14:17:43.196Z] Executing command 5: C:\miniconda3\python.exe download_conda_build_config.py

C:\Users\task_176909145145160>C:\miniconda3\python.exe download_conda_build_config.py 
conda_build_config_pbp_generated.yaml downloaded successfully.
[taskcluster 2026-01-22T14:17:43.541Z]                        Exit Code: 0
[taskcluster 2026-01-22T14:17:43.541Z]                        User Time: 15.625ms
[taskcluster 2026-01-22T14:17:43.541Z]                      Kernel Time: 0s
[taskcluster 2026-01-22T14:17:43.541Z]                        Wall Time: 342.7456ms
[taskcluster 2026-01-22T14:17:43.541Z]                           Result: SUCCEEDED
[taskcluster 2026-01-22T14:17:43.541Z] Executing command 6: C:\miniconda3\python.exe download_dependencies.py

C:\Users\task_176909145145160>C:\miniconda3\python.exe download_dependencies.py 
Will remove 1 package cache(s).
[taskcluster 2026-01-22T14:17:45.652Z]                        Exit Code: 0
[taskcluster 2026-01-22T14:17:45.652Z]                        User Time: 31.25ms
[taskcluster 2026-01-22T14:17:45.652Z]                      Kernel Time: 15.625ms
[taskcluster 2026-01-22T14:17:45.652Z]                        Wall Time: 2.1093236s
[taskcluster 2026-01-22T14:17:45.652Z]  Average Available System Memory: 61.05 GiB
[taskcluster 2026-01-22T14:17:45.652Z]       Average System Memory Used: 2.24 GiB
[taskcluster 2026-01-22T14:17:45.652Z]          Peak System Memory Used: 2.26 GiB
[taskcluster 2026-01-22T14:17:45.652Z]              Total System Memory: 63.30 GiB
[taskcluster 2026-01-22T14:17:45.652Z]                           Result: SUCCEEDED
[taskcluster 2026-01-22T14:17:45.653Z] Executing command 7: C:\miniconda3\python.exe build.py

C:\Users\task_176909145145160>C:\miniconda3\python.exe build.py 
3 channel Terms of Service accepted
Channels:
 - defaults
Platform: win-64
Collecting package metadata (repodata.json): - \ | / - \ | / - \ | / - \ done
Solving environment: / done


==> WARNING: A newer version of conda exists. <==
    current version: 25.9.1
    latest version: 25.11.1

Please update conda by running

    $ conda update -n base -c defaults conda



## Package Plan ##

  environment location: C:\miniconda3

  removed specs:
    - git


The following packages will be REMOVED:

  git-2.51.0-haa95532_1



Downloading and Extracting Packages: ...working... done
Preparing transaction: \ done
Verifying transaction: / done
Executing transaction: \ | / - \ | / - \ | / - \ | / - \ | / - \ | / - \ | / - \ | / - \ | / - \ | done
3 channel Terms of Service accepted
Retrieving notices: - \ | / - \ | / - \ | / - \ | / - \ | done
Channels:
 - defaults
Platform: win-64
Collecting package metadata (repodata.json): - \ | / done
Solving environment: \ | done

## Package Plan ##

  environment location: C:\miniconda3

  added / updated specs:
    - git


The following packages will be downloaded:

    package                    |            build
    ---------------------------|-----------------
    ca-certificates-2025.12.2  |       haa95532_0         125 KB  defaults
    certifi-2026.01.04         |  py312haa95532_0         148 KB  defaults
    conda-25.11.1              |  py312haa95532_0         1.2 MB  defaults
    git-2.51.0                 |       haa95532_1       117.7 MB  defaults
    ------------------------------------------------------------
                                           Total:       119.1 MB

The following NEW packages will be INSTALLED:

  git                pkgs/main/win-64::git-2.51.0-haa95532_1 

The following packages will be UPDATED:

  ca-certificates                      2025.11.4-haa95532_0 --> 2025.12.2-haa95532_0 
  certifi                        2025.11.12-py312haa95532_0 --> 2026.01.04-py312haa95532_0 
  conda                              25.9.1-py312haa95532_0 --> 25.11.1-py312haa95532_0 



Downloading and Extracting Packages: ...working...git-2.51.0           | 117.7 MB  |            |   0% 
conda-25.11.1        | 1.2 MB    |            |   0% [A

certifi-2026.01.04   | 148 KB    |            |   0% [A[A


ca-certificates-2025 | 125 KB    |            |   0% [A[A[A

certifi-2026.01.04   | 148 KB    | #          |  11% [A[A

certifi-2026.01.04   | 148 KB    | ########## | 100% [A[A


ca-certificates-2025 | 125 KB    | #2         |  13% [A[A[A


ca-certificates-2025 | 125 KB    | ########## | 100% [A[A[Agit-2.51.0           | 117.7 MB  |            |   0% 
conda-25.11.1        | 1.2 MB    | 1          |   1% [A


ca-certificates-2025 | 125 KB    | ########## | 100% [A[A[A

certifi-2026.01.04   | 148 KB    | ########## | 100% [A[A
conda-25.11.1        | 1.2 MB    | ########## | 100% [Agit-2.51.0           | 117.7 MB  | 8          |   9% git-2.51.0           | 117.7 MB  | #4         |  15% git-2.51.0           | 117.7 MB  | ##         |  20% git-2.51.0           | 117.7 MB  | ##5        |  25% git-2.51.0           | 117.7 MB  | ###1       |  31% git-2.51.0           | 117.7 MB  | ###9       |  40% 
conda-25.11.1        | 1.2 MB    | ########## | 100% [A
conda-25.11.1        | 1.2 MB    | ########## | 100% [Agit-2.51.0           | 117.7 MB  | ####9      |  50% git-2.51.0           | 117.7 MB  | #####6     |  57% git-2.51.0           | 117.7 MB  | ######4    |  64% git-2.51.0           | 117.7 MB  | #######    |  70% git-2.51.0           | 117.7 MB  | #######6   |  76% git-2.51.0           | 117.7 MB  | ########1  |  82% git-2.51.0           | 117.7 MB  | ########8  |  89% git-2.51.0           | 117.7 MB  | #########4 |  95% git-2.51.0           | 117.7 MB  | ########## | 100% git-2.51.0           | 117.7 MB  | ########## | 100%                                                      
                                                     [A

                                                     [A[A


                                                     [A[A[A done
Preparing transaction: - \ | done
Verifying transaction: - \ | / - \ | / - \ | / done
Executing transaction: \ | / - \ | / - \ | / - \ | / - \ | / - \ | / - \ | / - \ | / - \ | / - \ | / - \ | / - \ | / - \ | / - \ | / - \ | / - \ done
git version 2.51.0.windows.1
Debug:Cloning feedstock from https://github.com/AnacondaRecipes/sphinx-feedstock.git...
Cloning into 'sphinx-feedstock'...
From https://github.com/AnacondaRecipes/sphinx-feedstock
 * branch            50203d9ac8ed7246e6f645a22eafc7f50960edd8 -> FETCH_HEAD
Note: switching to '50203d9ac8ed7246e6f645a22eafc7f50960edd8'.

You are in 'detached HEAD' state. You can look around, make experimental
changes and commit them, and you can discard any commits you make in this
state without impacting any branches by switching back to a branch.

If you want to create a new branch to retain commits you create, you may
do so (now or later) by using -c with the switch command. Example:

  git switch -c <new-branch-name>

Or undo this operation with:

  git switch -

Turn off this advice by setting config variable advice.detachedHead to false

HEAD is now at 50203d9 Revert "add libarchive to build"
Renormalizing line endings in sphinx-feedstock...
Found conda config sources: ['C:\\miniconda3\\.condarc']
Debug:Found home directory: C:\Users\task_176909145145160
Executing command: C:\miniconda3\condabin\conda.bat create --prefix C:\Users\task_176909145145160\cph conda-package-handling -y --quiet
3 channel Terms of Service accepted
Channels:
 - defaults
Platform: win-64
Collecting package metadata (repodata.json): ...working... done
Solving environment: ...working... done

## Package Plan ##

  environment location: C:\Users\task_176909145145160\cph

  added / updated specs:
    - conda-package-handling


The following packages will be downloaded:

    package                    |            build
    ---------------------------|-----------------
    brotlicffi-1.2.0.0         |  py314h885b0b7_0         348 KB  defaults
    bzip2-1.0.8                |       h2bbff1b_6          90 KB  defaults
    certifi-2026.01.04         |  py314haa95532_0         148 KB  defaults
    cffi-2.0.0                 |  py314h02ab6af_1         294 KB  defaults
    charset-normalizer-3.4.4   |  py314haa95532_0         127 KB  defaults
    conda-package-handling-2.4.0|  py314haa95532_1         304 KB  defaults
    conda-package-streaming-0.12.0|  py314haa95532_1          39 KB  defaults
    idna-3.11                  |  py314haa95532_0         209 KB  defaults
    libexpat-2.7.3             |       h885b0b7_4         119 KB  defaults
    libffi-3.4.4               |       hd77b12b_1         122 KB  defaults
    libmpdec-4.0.0             |       h827c3e9_0          95 KB  defaults
    libzlib-1.3.1              |       h02ab6af_0          64 KB  defaults
    lz4-c-1.9.4                |       h2bbff1b_1         152 KB  defaults
    openssl-3.0.18             |       h543e019_0         6.8 MB  defaults
    pycparser-2.23             |  py314haa95532_0         374 KB  defaults
    pysocks-1.7.1              |  py314haa95532_1          35 KB  defaults
    python-3.14.2              |h3bc0a5a_101_cp314        16.1 MB  defaults
    python_abi-3.14            |          2_cp314           6 KB  defaults
    requests-2.32.5            |  py314haa95532_1         168 KB  defaults
    sqlite-3.51.1              |       hda9a48d_0         917 KB  defaults
    tk-8.6.15                  |       hf199647_0         3.5 MB  defaults
    tzdata-2025c               |       he532380_0         118 KB  defaults
    ucrt-10.0.22621.0          |       haa95532_0         620 KB  defaults
    urllib3-2.6.3              |  py314haa95532_0         360 KB  defaults
    vc-14.3                    |      h2df5915_10          19 KB  defaults
    vc14_runtime-14.44.35208   |      h4927774_10         825 KB  defaults
    vs2015_runtime-14.44.35208 |      ha6b5a95_10          19 KB  defaults
    win_inet_pton-1.1.0        |  py314haa95532_1          10 KB  defaults
    xz-5.6.4                   |       h4754444_1         280 KB  defaults
    zlib-1.3.1                 |       h02ab6af_0         113 KB  defaults
    zstandard-0.24.0           |  py314he335c29_0         332 KB  defaults
    zstd-1.5.7                 |       h56299aa_0         645 KB  defaults
    ------------------------------------------------------------
                                           Total:        33.3 MB

The following NEW packages will be INSTALLED:

  brotlicffi         pkgs/main/win-64::brotlicffi-1.2.0.0-py314h885b0b7_0 
  bzip2              pkgs/main/win-64::bzip2-1.0.8-h2bbff1b_6 
  ca-certificates    pkgs/main/win-64::ca-certificates-2025.12.2-haa95532_0 
  certifi            pkgs/main/win-64::certifi-2026.01.04-py314haa95532_0 
  cffi               pkgs/main/win-64::cffi-2.0.0-py314h02ab6af_1 
  charset-normalizer pkgs/main/win-64::charset-normalizer-3.4.4-py314haa95532_0 
  conda-package-han~ pkgs/main/win-64::conda-package-handling-2.4.0-py314haa95532_1 
  conda-package-str~ pkgs/main/win-64::conda-package-streaming-0.12.0-py314haa95532_1 
  idna               pkgs/main/win-64::idna-3.11-py314haa95532_0 
  libexpat           pkgs/main/win-64::libexpat-2.7.3-h885b0b7_4 
  libffi             pkgs/main/win-64::libffi-3.4.4-hd77b12b_1 
  libmpdec           pkgs/main/win-64::libmpdec-4.0.0-h827c3e9_0 
  libzlib            pkgs/main/win-64::libzlib-1.3.1-h02ab6af_0 
  lz4-c              pkgs/main/win-64::lz4-c-1.9.4-h2bbff1b_1 
  openssl            pkgs/main/win-64::openssl-3.0.18-h543e019_0 
  pycparser          pkgs/main/win-64::pycparser-2.23-py314haa95532_0 
  pysocks            pkgs/main/win-64::pysocks-1.7.1-py314haa95532_1 
  python             pkgs/main/win-64::python-3.14.2-h3bc0a5a_101_cp314 
  python_abi         pkgs/main/win-64::python_abi-3.14-2_cp314 
  requests           pkgs/main/win-64::requests-2.32.5-py314haa95532_1 
  sqlite             pkgs/main/win-64::sqlite-3.51.1-hda9a48d_0 
  tk                 pkgs/main/win-64::tk-8.6.15-hf199647_0 
  tzdata             pkgs/main/noarch::tzdata-2025c-he532380_0 
  ucrt               pkgs/main/win-64::ucrt-10.0.22621.0-haa95532_0 
  urllib3            pkgs/main/win-64::urllib3-2.6.3-py314haa95532_0 
  vc                 pkgs/main/win-64::vc-14.3-h2df5915_10 
  vc14_runtime       pkgs/main/win-64::vc14_runtime-14.44.35208-h4927774_10 
  vs2015_runtime     pkgs/main/win-64::vs2015_runtime-14.44.35208-ha6b5a95_10 
  win_inet_pton      pkgs/main/win-64::win_inet_pton-1.1.0-py314haa95532_1 
  xz                 pkgs/main/win-64::xz-5.6.4-h4754444_1 
  zlib               pkgs/main/win-64::zlib-1.3.1-h02ab6af_0 
  zstandard          pkgs/main/win-64::zstandard-0.24.0-py314he335c29_0 
  zstd               pkgs/main/win-64::zstd-1.5.7-h56299aa_0 


Preparing transaction: ...working... done
Verifying transaction: ...working... done
Executing transaction: ...working... done
Debug:Found home directory: C:\Users\task_176909145145160
Executing command: C:\miniconda3\condabin\conda.bat create --prefix C:\Users\task_176909145145160\bld conda-build==25.1.2 -y --quiet -c pbp_src_multichannel
3 channel Terms of Service accepted
Channels:
 - pbp_src_multichannel
 - defaults
Platform: win-64
Collecting package metadata (repodata.json): ...working... done
Solving environment: ...working... done

## Package Plan ##

  environment location: C:\Users\task_176909145145160\bld

  added / updated specs:
    - conda-build==25.1.2


The following packages will be downloaded:

    package                    |            build
    ---------------------------|-----------------
    archspec-0.2.5             |     pyhd3eb1b0_0          50 KB  pbp_src_multichannel
    attrs-25.4.0               |  py312haa95532_2         163 KB  pbp_src_multichannel
    beautifulsoup4-4.14.2      |  py312haa95532_0         243 KB  pbp_src_multichannel
    boltons-25.0.0             |  py312haa95532_0         492 KB  pbp_src_multichannel
    brotlicffi-1.2.0.0         |  py312h885b0b7_0         390 KB  pbp_src_multichannel
    bzip2-1.0.8                |       h2bbff1b_6         110 KB  pbp_src_multichannel
    ca-certificates-2025.12.2  |       haa95532_0         164 KB  pbp_src_multichannel
    certifi-2026.01.04         |  py312haa95532_0         151 KB  pbp_src_multichannel
    cffi-2.0.0                 |  py312h02ab6af_1         294 KB  pbp_src_multichannel
    chardet-5.2.0              |  py312haa95532_0         1.9 MB  pbp_src_multichannel
    charset-normalizer-3.4.4   |  py312haa95532_0         128 KB  pbp_src_multichannel
    click-8.2.1                |  py312haa95532_1         321 KB  pbp_src_multichannel
    colorama-0.4.6             |  py312haa95532_0          52 KB  pbp_src_multichannel
    conda-25.7.0               |  py312haa95532_0         1.2 MB  pbp_src_multichannel
    conda-build-25.1.2         |  py312haa95532_0         815 KB  pbp_src_multichannel
    conda-index-0.7.0          |  py312haa95532_0         259 KB  pbp_src_multichannel
    conda-libmamba-solver-25.4.0|     pyhdf14ebd_1          37 KB  pbp_src_multichannel
    conda-package-handling-2.4.0|  py312haa95532_1         314 KB  pbp_src_multichannel
    conda-package-streaming-0.12.0|  py312haa95532_1          36 KB  pbp_src_multichannel
    cpp-expected-1.1.0         |       h214f63a_0         118 KB  pbp_src_multichannel
    distro-1.9.0               |  py312haa95532_0          66 KB  pbp_src_multichannel
    expat-2.7.3                |       h885b0b7_4          34 KB  pbp_src_multichannel
    filelock-3.20.0            |  py312haa95532_0          36 KB  pbp_src_multichannel
    fmt-11.2.0                 |       h58b7f6e_0         198 KB  pbp_src_multichannel
    frozendict-2.4.6           |  py312h02ab6af_0          38 KB  pbp_src_multichannel
    idna-3.11                  |  py312haa95532_0         240 KB  pbp_src_multichannel
    jinja2-3.1.6               |  py312haa95532_0         343 KB  pbp_src_multichannel
    jsonpatch-1.33             |  py312haa95532_1          71 KB  pbp_src_multichannel
    jsonpointer-3.0.0          |  py312haa95532_0          49 KB  pbp_src_multichannel
    jsonschema-4.25.1          |  py312haa95532_0         212 KB  pbp_src_multichannel
    jsonschema-specifications-2025.9.1|  py312haa95532_0          16 KB  pbp_src_multichannel
    libarchive-3.8.2           |       h6c023e8_0         2.7 MB  pbp_src_multichannel
    libcurl-8.17.0             |       h97e0424_0         405 KB  pbp_src_multichannel
    libexpat-2.7.3             |       h885b0b7_4         145 KB  pbp_src_multichannel
    libffi-3.4.4               |       hd77b12b_1         152 KB  pbp_src_multichannel
    libiconv-1.16              |       h2bbff1b_3         727 KB  pbp_src_multichannel
    liblief-0.12.3             |       hd77b12b_0         2.6 MB  pbp_src_multichannel
    libmamba-2.3.2             |       hc213065_1         4.8 MB  pbp_src_multichannel
    libmambapy-2.3.2           |  py312h364efb6_1         547 KB  pbp_src_multichannel
    libsolv-0.7.30             |       h23a355e_2         469 KB  pbp_src_multichannel
    libssh2-1.11.1             |       h2addb87_0         303 KB  pbp_src_multichannel
    libxml2-2.13.9             |       h6201b9f_0         3.4 MB  pbp_src_multichannel
    libzlib-1.3.1              |       h02ab6af_0          83 KB  pbp_src_multichannel
    lz4-c-1.9.4                |       h2bbff1b_1         155 KB  pbp_src_multichannel
    m2-msys2-runtime-2.5.0.17080.65c939c|                3         3.0 MB  defaults
    m2-patch-2.7.5             |                2          89 KB  defaults
    markupsafe-3.0.2           |  py312h827c3e9_0          41 KB  pbp_src_multichannel
    menuinst-2.4.2             |  py312h885b0b7_1         253 KB  pbp_src_multichannel
    msgpack-python-1.1.1       |  py312h5da7b33_0         113 KB  pbp_src_multichannel
    msys2-conda-epoch-20160418 |                1           2 KB  defaults
    nlohmann_json-3.11.2       |       h6c2663c_0         113 KB  pbp_src_multichannel
    openssl-3.0.18             |       h543e019_0         8.0 MB  pbp_src_multichannel
    packaging-25.0             |  py312haa95532_1         185 KB  pbp_src_multichannel
    pcre2-10.46                |       h5740b90_0         2.9 MB  pbp_src_multichannel
    pkginfo-1.12.1.2           |  py312haa95532_0          92 KB  pbp_src_multichannel
    platformdirs-4.5.0         |  py312haa95532_0          39 KB  pbp_src_multichannel
    pluggy-1.5.0               |  py312haa95532_0          46 KB  pbp_src_multichannel
    psutil-7.0.0               |  py312h02ab6af_1         569 KB  pbp_src_multichannel
    py-lief-0.12.3             |  py312hd77b12b_0         2.4 MB  pbp_src_multichannel
    pybind11-abi-5             |       hd3eb1b0_0          13 KB  pbp_src_multichannel
    pycosat-0.6.6              |  py312h827c3e9_2         113 KB  pbp_src_multichannel
    pycparser-2.23             |  py312haa95532_0         273 KB  pbp_src_multichannel
    pysocks-1.7.1              |  py312haa95532_1          34 KB  pbp_src_multichannel
    python-3.12.12             |       h716150d_1        16.9 MB  pbp_src_multichannel
    python-libarchive-c-5.1    |     pyhd3eb1b0_0          51 KB  pbp_src_multichannel
    pytz-2025.2                |  py312haa95532_0         281 KB  pbp_src_multichannel
    pyyaml-6.0.3               |  py312hb9a58be_0         231 KB  pbp_src_multichannel
    referencing-0.37.0         |  py312haa95532_0          75 KB  pbp_src_multichannel
    reproc-14.2.4              |       hd77b12b_2          43 KB  pbp_src_multichannel
    reproc-cpp-14.2.4          |       hd77b12b_2          37 KB  pbp_src_multichannel
    requests-2.32.5            |  py312haa95532_1         162 KB  pbp_src_multichannel
    rpds-py-0.28.0             |  py312h114bc41_0         253 KB  pbp_src_multichannel
    ruamel.yaml-0.18.16        |  py312hb9a58be_0         255 KB  pbp_src_multichannel
    ruamel.yaml.clib-0.2.14    |  py312hb9a58be_0         120 KB  pbp_src_multichannel
    setuptools-80.9.0          |  py312haa95532_0         2.2 MB  pbp_src_multichannel
    simdjson-3.10.1            |       h214f63a_0         528 KB  pbp_src_multichannel
    soupsieve-2.5              |  py312haa95532_0          84 KB  pbp_src_multichannel
    sqlite-3.51.1              |       hda9a48d_0         1.4 MB  pbp_src_multichannel
    tk-8.6.15                  |       hf199647_0         3.7 MB  pbp_src_multichannel
    tqdm-4.67.1                |  py312h4442805_1         177 KB  pbp_src_multichannel
    truststore-0.10.1          |  py312haa95532_1          47 KB  pbp_src_multichannel
    typing-extensions-4.15.0   |  py312haa95532_0          12 KB  pbp_src_multichannel
    typing_extensions-4.15.0   |  py312haa95532_0          94 KB  pbp_src_multichannel
    tzdata-2025c               |       he532380_0         126 KB  pbp_src_multichannel
    ucrt-10.0.22621.0          |       haa95532_0         1.2 MB  pbp_src_multichannel
    urllib3-2.6.3              |  py312haa95532_0         341 KB  pbp_src_multichannel
    vc-14.3                    |      h2df5915_10          19 KB  pbp_src_multichannel
    vc14_runtime-14.44.35208   |      h4927774_10         1.5 MB  pbp_src_multichannel
    vs2015_runtime-14.44.35208 |      ha6b5a95_10          19 KB  pbp_src_multichannel
    win_inet_pton-1.1.0        |  py312haa95532_1          10 KB  pbp_src_multichannel
    xz-5.6.4                   |       h4754444_1         283 KB  pbp_src_multichannel
    yaml-0.2.5                 |       he774522_0          65 KB  pbp_src_multichannel
    yaml-cpp-0.8.0             |       hd77b12b_1         2.4 MB  pbp_src_multichannel
    zlib-1.3.1                 |       h02ab6af_0         116 KB  pbp_src_multichannel
    zstandard-0.24.0           |  py312he335c29_0         383 KB  pbp_src_multichannel
    zstd-1.5.7                 |       h56299aa_0         1.9 MB  pbp_src_multichannel
    ------------------------------------------------------------
                                           Total:        78.0 MB

The following NEW packages will be INSTALLED:

  archspec           main/noarch::archspec-0.2.5-pyhd3eb1b0_0 
  attrs              main/win-64::attrs-25.4.0-py312haa95532_2 
  beautifulsoup4     main/win-64::beautifulsoup4-4.14.2-py312haa95532_0 
  boltons            main/win-64::boltons-25.0.0-py312haa95532_0 
  brotlicffi         main/win-64::brotlicffi-1.2.0.0-py312h885b0b7_0 
  bzip2              main/win-64::bzip2-1.0.8-h2bbff1b_6 
  ca-certificates    main/win-64::ca-certificates-2025.12.2-haa95532_0 
  certifi            main/win-64::certifi-2026.01.04-py312haa95532_0 
  cffi               main/win-64::cffi-2.0.0-py312h02ab6af_1 
  chardet            main/win-64::chardet-5.2.0-py312haa95532_0 
  charset-normalizer main/win-64::charset-normalizer-3.4.4-py312haa95532_0 
  click              main/win-64::click-8.2.1-py312haa95532_1 
  colorama           main/win-64::colorama-0.4.6-py312haa95532_0 
  conda              main/win-64::conda-25.7.0-py312haa95532_0 
  conda-build        main/win-64::conda-build-25.1.2-py312haa95532_0 
  conda-index        main/win-64::conda-index-0.7.0-py312haa95532_0 
  conda-libmamba-so~ main/noarch::conda-libmamba-solver-25.4.0-pyhdf14ebd_1 
  conda-package-han~ main/win-64::conda-package-handling-2.4.0-py312haa95532_1 
  conda-package-str~ main/win-64::conda-package-streaming-0.12.0-py312haa95532_1 
  cpp-expected       main/win-64::cpp-expected-1.1.0-h214f63a_0 
  distro             main/win-64::distro-1.9.0-py312haa95532_0 
  expat              main/win-64::expat-2.7.3-h885b0b7_4 
  filelock           main/win-64::filelock-3.20.0-py312haa95532_0 
  fmt                main/win-64::fmt-11.2.0-h58b7f6e_0 
  frozendict         main/win-64::frozendict-2.4.6-py312h02ab6af_0 
  idna               main/win-64::idna-3.11-py312haa95532_0 
  jinja2             main/win-64::jinja2-3.1.6-py312haa95532_0 
  jsonpatch          main/win-64::jsonpatch-1.33-py312haa95532_1 
  jsonpointer        main/win-64::jsonpointer-3.0.0-py312haa95532_0 
  jsonschema         main/win-64::jsonschema-4.25.1-py312haa95532_0 
  jsonschema-specif~ main/win-64::jsonschema-specifications-2025.9.1-py312haa95532_0 
  libarchive         main/win-64::libarchive-3.8.2-h6c023e8_0 
  libcurl            main/win-64::libcurl-8.17.0-h97e0424_0 
  libexpat           main/win-64::libexpat-2.7.3-h885b0b7_4 
  libffi             main/win-64::libffi-3.4.4-hd77b12b_1 
  libiconv           main/win-64::libiconv-1.16-h2bbff1b_3 
  liblief            main/win-64::liblief-0.12.3-hd77b12b_0 
  libmamba           main/win-64::libmamba-2.3.2-hc213065_1 
  libmambapy         main/win-64::libmambapy-2.3.2-py312h364efb6_1 
  libsolv            main/win-64::libsolv-0.7.30-h23a355e_2 
  libssh2            main/win-64::libssh2-1.11.1-h2addb87_0 
  libxml2            main/win-64::libxml2-2.13.9-h6201b9f_0 
  libzlib            main/win-64::libzlib-1.3.1-h02ab6af_0 
  lz4-c              main/win-64::lz4-c-1.9.4-h2bbff1b_1 
  m2-msys2-runtime   pkgs/msys2/win-64::m2-msys2-runtime-2.5.0.17080.65c939c-3 
  m2-patch           pkgs/msys2/win-64::m2-patch-2.7.5-2 
  markupsafe         main/win-64::markupsafe-3.0.2-py312h827c3e9_0 
  menuinst           main/win-64::menuinst-2.4.2-py312h885b0b7_1 
  msgpack-python     main/win-64::msgpack-python-1.1.1-py312h5da7b33_0 
  msys2-conda-epoch  pkgs/msys2/win-64::msys2-conda-epoch-20160418-1 
  nlohmann_json      main/win-64::nlohmann_json-3.11.2-h6c2663c_0 
  openssl            main/win-64::openssl-3.0.18-h543e019_0 
  packaging          main/win-64::packaging-25.0-py312haa95532_1 
  pcre2              main/win-64::pcre2-10.46-h5740b90_0 
  pkginfo            main/win-64::pkginfo-1.12.1.2-py312haa95532_0 
  platformdirs       main/win-64::platformdirs-4.5.0-py312haa95532_0 
  pluggy             main/win-64::pluggy-1.5.0-py312haa95532_0 
  psutil             main/win-64::psutil-7.0.0-py312h02ab6af_1 
  py-lief            main/win-64::py-lief-0.12.3-py312hd77b12b_0 
  pybind11-abi       main/noarch::pybind11-abi-5-hd3eb1b0_0 
  pycosat            main/win-64::pycosat-0.6.6-py312h827c3e9_2 
  pycparser          main/win-64::pycparser-2.23-py312haa95532_0 
  pysocks            main/win-64::pysocks-1.7.1-py312haa95532_1 
  python             main/win-64::python-3.12.12-h716150d_1 
  python-libarchive~ main/noarch::python-libarchive-c-5.1-pyhd3eb1b0_0 
  pytz               main/win-64::pytz-2025.2-py312haa95532_0 
  pyyaml             main/win-64::pyyaml-6.0.3-py312hb9a58be_0 
  referencing        main/win-64::referencing-0.37.0-py312haa95532_0 
  reproc             main/win-64::reproc-14.2.4-hd77b12b_2 
  reproc-cpp         main/win-64::reproc-cpp-14.2.4-hd77b12b_2 
  requests           main/win-64::requests-2.32.5-py312haa95532_1 
  rpds-py            main/win-64::rpds-py-0.28.0-py312h114bc41_0 
  ruamel.yaml        main/win-64::ruamel.yaml-0.18.16-py312hb9a58be_0 
  ruamel.yaml.clib   main/win-64::ruamel.yaml.clib-0.2.14-py312hb9a58be_0 
  setuptools         main/win-64::setuptools-80.9.0-py312haa95532_0 
  simdjson           main/win-64::simdjson-3.10.1-h214f63a_0 
  soupsieve          main/win-64::soupsieve-2.5-py312haa95532_0 
  sqlite             main/win-64::sqlite-3.51.1-hda9a48d_0 
  tk                 main/win-64::tk-8.6.15-hf199647_0 
  tqdm               main/win-64::tqdm-4.67.1-py312h4442805_1 
  truststore         main/win-64::truststore-0.10.1-py312haa95532_1 
  typing-extensions  main/win-64::typing-extensions-4.15.0-py312haa95532_0 
  typing_extensions  main/win-64::typing_extensions-4.15.0-py312haa95532_0 
  tzdata             main/noarch::tzdata-2025c-he532380_0 
  ucrt               main/win-64::ucrt-10.0.22621.0-haa95532_0 
  urllib3            main/win-64::urllib3-2.6.3-py312haa95532_0 
  vc                 main/win-64::vc-14.3-h2df5915_10 
  vc14_runtime       main/win-64::vc14_runtime-14.44.35208-h4927774_10 
  vs2015_runtime     main/win-64::vs2015_runtime-14.44.35208-ha6b5a95_10 
  win_inet_pton      main/win-64::win_inet_pton-1.1.0-py312haa95532_1 
  xz                 main/win-64::xz-5.6.4-h4754444_1 
  yaml               main/win-64::yaml-0.2.5-he774522_0 
  yaml-cpp           main/win-64::yaml-cpp-0.8.0-hd77b12b_1 
  zlib               main/win-64::zlib-1.3.1-h02ab6af_0 
  zstandard          main/win-64::zstandard-0.24.0-py312he335c29_0 
  zstd               main/win-64::zstd-1.5.7-h56299aa_0 


Preparing transaction: ...working... done
Verifying transaction: ...working... done
Executing transaction: ...working... done
Debug:Found home directory: C:\Users\task_176909145145160
Debug:Found home directory: C:\Users\task_176909145145160
Using the following build time options: ['--error-overlinking', '--suppress-variables', '--skip-existing']
Executing command: C:\miniconda3\condabin\conda.bat run --live-stream --prefix C:\Users\task_176909145145160\bld conda build sphinx-feedstock\recipe --cache-dir C:\Users\task_176909145145160\src_cache --output-folder public --croot C:\Users\task_176909145145160\croot -m ./conda_build_config_pbp_generated.yaml --clobber-file ./conda_build_config_pbp_generated.yaml --override-channels --no-test --no-verify -c pbp_src_multichannel --error-overlinking --suppress-variables --skip-existing
WARNING: No numpy version specified in conda_build_config.yaml.  Falling back to default numpy value of 1.26
Adding in variants from internal_defaults
Adding in variants from C:\Users\task_176909145145160\conda_build_config_pbp_generated.yaml
WARNING: Number of parsed outputs does not match detected raw metadata blocks. Identified output block may be wrong! If you are using Jinja conditionals to include or exclude outputs, consider using `skip: true  # [condition]` instead.
Attempting to finalize metadata for sphinx
Reloading output folder: ...working... done
Getting pinned dependencies: ...working... done
Reloading output folder: ...working... done
Getting pinned dependencies: ...working... done
Indexing ['win-64'] does not include 'noarch'

Indexing ['win-64'] does not include 'noarch'

BUILD START: ['sphinx-9.0.0-py311h1c6eee0_0.conda']
Reloading output folder: ...working... done
Solving environment (_h_env): ...working... done

## Package Plan ##

  environment location: C:\Users\task_176909145145160\croot\sphinx_1769091582261\_h_env


The following NEW packages will be INSTALLED:

    bzip2:           1.0.8-h2bbff1b_6        pbp_src_multichannel
    ca-certificates: 2025.12.2-haa95532_0    pbp_src_multichannel
    expat:           2.7.3-h885b0b7_4        pbp_src_multichannel
    flit-core:       3.12.0-py311he100be2_1  pbp_src_multichannel
    libexpat:        2.7.3-h885b0b7_4        pbp_src_multichannel
    libffi:          3.4.4-hd77b12b_1        pbp_src_multichannel
    libzlib:         1.3.1-h02ab6af_0        pbp_src_multichannel
    openssl:         3.0.18-h543e019_0       pbp_src_multichannel
    pip:             25.3-pyhc872135_0       pbp_src_multichannel
    python:          3.11.14-h981015d_0      pbp_src_multichannel
    setuptools:      80.9.0-py311haa95532_0  pbp_src_multichannel
    sqlite:          3.51.1-hda9a48d_0       pbp_src_multichannel
    tk:              8.6.15-hf199647_0       pbp_src_multichannel
    tzdata:          2025c-he532380_0        pbp_src_multichannel
    ucrt:            10.0.22621.0-haa95532_0 pbp_src_multichannel
    vc:              14.3-h2df5915_10        pbp_src_multichannel
    vc14_runtime:    14.44.35208-h4927774_10 pbp_src_multichannel
    vs2015_runtime:  14.44.35208-ha6b5a95_10 pbp_src_multichannel
    wheel:           0.45.1-py311haa95532_0  pbp_src_multichannel
    xz:              5.6.4-h4754444_1        pbp_src_multichannel
    zlib:            1.3.1-h02ab6af_0        pbp_src_multichannel

Preparing transaction: ...working... done
Verifying transaction: ...working... done
Executing transaction: ...working... done
Source cache directory is: C:\Users\task_176909145145160\src_cache\src_cache
Downloading source to cache: sphinx-9.0.0_dc75216d69.tar.gz
Downloading https://pypi.org/packages/source/s/sphinx/sphinx-9.0.0.tar.gz
Success
checking file pyproject.toml
patching file pyproject.toml
WARNING: Using legacy MSVC compiler setup.  This will be removed in conda-build 4.0. If this recipe does not use a compiler, this message is safe to ignore.  Otherwise, use {{compiler('<language>')}} jinja2 in requirements/build.
Extracting download
Applying patch: C:\Users\task_176909145145160\sphinx-feedstock\recipe\0001-reverting-pyproject-changes.patch
Applying patch: C:\Users\task_176909145145160\sphinx-feedstock\recipe\0001-reverting-pyproject-changes.patch with args:
['-Np1', '-i', 'C:\\Users\\TASK_1~2\\AppData\\Local\\Temp\\tmp9qgwvqz9\\0001-reverting-pyproject-changes.patch.native', '--binary']
Patch analysis gives:
[[ RA-MD1LOVE ]] - [[                                  0001-reverting-pyproject-changes.patch ]]

Key:

R :: Reversible                       A :: Applicable
Y :: Build-prefix patch in use        M :: Minimal, non-amalgamated
D :: Dry-runnable                     N :: Patch level (1 is preferred)
L :: Patch level not-ambiguous        O :: Patch applies without offsets
V :: Patch applies without fuzz       E :: Patch applies without emitting to stderr


Rendered as:
```yaml
package:
  name: sphinx
  version: 9.0.0
source:
  url: https://pypi.org/packages/source/s/sphinx/sphinx-9.0.0.tar.gz
  sha256: dc75216d69e00f170cb236eee17e66bcd89c4c2b5fe938ca8532fd7fe5abb23f
  patches:
    - 0001-reverting-pyproject-changes.patch
build:
  number: '0'
  script: C:\\Users\\task_176909145145160\\croot\\sphinx_1769091582261\\_h_env\\python.exe
    -m pip install . --no-deps --no-build-isolation --ignore-installed --no-cache-dir
    -vv
  entry_points:
    - sphinx-build = sphinx.cmd.build:main
    - sphinx-quickstart = sphinx.cmd.quickstart:main
    - sphinx-apidoc = sphinx.ext.apidoc:main
    - sphinx-autogen = sphinx.ext.autosummary.generate:main
requirements:
  host:
    - ca-certificates 2025.12.2 haa95532_0
    - tzdata 2025c he532380_0
    - ucrt 10.0.22621.0 haa95532_0
    - vc14_runtime 14.44.35208 h4927774_10
    - vc 14.3 h2df5915_10
    - vs2015_runtime 14.44.35208 ha6b5a95_10
    - bzip2 1.0.8 h2bbff1b_6
    - libexpat 2.7.3 h885b0b7_4
    - libffi 3.4.4 hd77b12b_1
    - libzlib 1.3.1 h02ab6af_0
    - openssl 3.0.18 h543e019_0
    - sqlite 3.51.1 hda9a48d_0
    - xz 5.6.4 h4754444_1
    - expat 2.7.3 h885b0b7_4
    - zlib 1.3.1 h02ab6af_0
    - tk 8.6.15 hf199647_0
    - python 3.11.14 h981015d_0
    - flit-core 3.12.0 py311he100be2_1
    - setuptools 80.9.0 py311haa95532_0
    - wheel 0.45.1 py311haa95532_0
    - pip 25.3 pyhc872135_0
  run:
    - colorama >=0.4.6
    - docutils >=0.20,<0.23
    - babel >=2.13
    - python >=3.11,<3.12.0a0
    - packaging >=23.0
    - sphinxcontrib-applehelp >=1.0.7
    - alabaster >=0.7.14
    - requests >=2.30.0
    - roman-numerals >=1.0.0
    - jinja2 >=3.1
    - sphinxcontrib-devhelp >=1.0.6
    - sphinxcontrib-htmlhelp >=2.0.6
    - sphinxcontrib-serializinghtml >=1.1.9
    - imagesize >=1.3
    - snowballstemmer >=2.2
    - pygments >=2.17
    - sphinxcontrib-qthelp >=1.0.6
    - sphinxcontrib-jsmath >=1.0.1
test:
  imports:
    - sphinx
    - sphinx.builders
  source_files:
    - tests
  requires:
    - pip
    - psutil
    - cython >=3.0
    - setuptools >=70.0
    - pytest >=8.0
    - defusedxml >=0.7.1
    - typing-extensions >=4.9
    - vs2022_win-64
    - pytest-xdist >=3.4
    - vs_win-64 2022.14.*
  commands:
    - pip check
    - sphinx-build --help
    - sphinx-quickstart --help
    - sphinx-apidoc --help
    - sphinx-autogen --help
    - pytest -v -k "not (test_autodoc_type_aliases or test_ModuleAnalyzer_for_module
      or test_cython or test_duration_limit)"
about:
  home: https://www.sphinx-doc.org
  license: BSD-2-Clause
  license_file: LICENSE.rst
  license_family: BSD
  summary: Sphinx is a tool that makes it easy to create intelligent and beautiful
    documentation
  description: 'Sphinx is a tool that makes it easy to create intelligent and beautiful
    documentation,

    written by Georg Brandl and licensed under the BSD license.

    It was originally created for the new Python documentation, and it has excellent

    facilities for the documentation of Python projects, but C/C++ is already supported

    as well, and it is planned to add special support for other languages as well.

    '
  doc_url: https://www.sphinx-doc.org
  dev_url: https://github.com/sphinx-doc/sphinx
extra:
  recipe-maintainers:
    - chohner
    - jakirkham
    - ocefpaf
    - blink1073
  final: true
  copy_test_source_files: true
```

source tree in: C:\Users\task_176909145145160\croot\sphinx_1769091582261\work
Rewriting env in output: {'BUILD_PREFIX': 'C:\\Users\\task_176909145145160\\croot\\sphinx_1769091582261\\_build_env',
 'PREFIX': 'C:\\Users\\task_176909145145160\\croot\\sphinx_1769091582261\\_h_env',
 'SRC_DIR': 'C:\\Users\\task_176909145145160\\croot\\sphinx_1769091582261\\work'}

(C:\Users\task_176909145145160\bld) %SRC_DIR%>IF "" == "" (call %SRC_DIR%\build_env_setup.bat ) 

(C:\Users\task_176909145145160\bld) %SRC_DIR%>set "CONDA_BUILD=1" 

(C:\Users\task_176909145145160\bld) %SRC_DIR%>set "PYTHONNOUSERSITE=1" 

(C:\Users\task_176909145145160\bld) %SRC_DIR%>set "CONDA_DEFAULT_ENV=%PREFIX%" 

(C:\Users\task_176909145145160\bld) %SRC_DIR%>set "ARCH=64" 

(C:\Users\task_176909145145160\bld) %SRC_DIR%>set "PREFIX=%PREFIX%" 

(C:\Users\task_176909145145160\bld) %SRC_DIR%>set "BUILD_PREFIX=%BUILD_PREFIX%" 

(C:\Users\task_176909145145160\bld) %SRC_DIR%>set "SYS_PREFIX=C:\miniconda3" 

(C:\Users\task_176909145145160\bld) %SRC_DIR%>set "SYS_PYTHON=C:\miniconda3\python.exe" 

(C:\Users\task_176909145145160\bld) %SRC_DIR%>set "SUBDIR=win-64" 

(C:\Users\task_176909145145160\bld) %SRC_DIR%>set "build_platform=win-64" 

(C:\Users\task_176909145145160\bld) %SRC_DIR%>set "SRC_DIR=%SRC_DIR%" 

(C:\Users\task_176909145145160\bld) %SRC_DIR%>set "ROOT=C:\miniconda3" 

(C:\Users\task_176909145145160\bld) %SRC_DIR%>set "CONDA_PY=311" 

(C:\Users\task_176909145145160\bld) %SRC_DIR%>set "PY3K=1" 

(C:\Users\task_176909145145160\bld) %SRC_DIR%>set "PY_VER=3.11" 

(C:\Users\task_176909145145160\bld) %SRC_DIR%>set "STDLIB_DIR=%PREFIX%\Lib" 

(C:\Users\task_176909145145160\bld) %SRC_DIR%>set "SP_DIR=%PREFIX%\Lib\site-packages" 

(C:\Users\task_176909145145160\bld) %SRC_DIR%>set "PYTHON=%PREFIX%\python.exe" 

(C:\Users\task_176909145145160\bld) %SRC_DIR%>set "NPY_VER=1.26" 

(C:\Users\task_176909145145160\bld) %SRC_DIR%>set "CONDA_NPY=1.26" 

(C:\Users\task_176909145145160\bld) %SRC_DIR%>set "NPY_DISTUTILS_APPEND_FLAGS=1" 

(C:\Users\task_176909145145160\bld) %SRC_DIR%>set "PERL_VER=5.26" 

(C:\Users\task_176909145145160\bld) %SRC_DIR%>set "CONDA_PERL=5.26.2" 

(C:\Users\task_176909145145160\bld) %SRC_DIR%>set "LUA_VER=5" 

(C:\Users\task_176909145145160\bld) %SRC_DIR%>set "CONDA_LUA=5" 

(C:\Users\task_176909145145160\bld) %SRC_DIR%>set "R_VER=3.4" 

(C:\Users\task_176909145145160\bld) %SRC_DIR%>set "CONDA_R=3.4" 

(C:\Users\task_176909145145160\bld) %SRC_DIR%>set "PKG_NAME=sphinx" 

(C:\Users\task_176909145145160\bld) %SRC_DIR%>set "PKG_VERSION=9.0.0" 

(C:\Users\task_176909145145160\bld) %SRC_DIR%>set "PKG_BUILDNUM=0" 

(C:\Users\task_176909145145160\bld) %SRC_DIR%>set "PKG_BUILD_STRING=placeholder" 

(C:\Users\task_176909145145160\bld) %SRC_DIR%>set "PKG_HASH=1234567" 

(C:\Users\task_176909145145160\bld) %SRC_DIR%>set "RECIPE_DIR=C:\Users\task_176909145145160\sphinx-feedstock\recipe" 

(C:\Users\task_176909145145160\bld) %SRC_DIR%>set "CPU_COUNT=8" 

(C:\Users\task_176909145145160\bld) %SRC_DIR%>set "SHLIB_EXT=.dll" 

(C:\Users\task_176909145145160\bld) %SRC_DIR%>set "PATH=%BUILD_PREFIX%;%BUILD_PREFIX%\Library\mingw-w64\bin;%BUILD_PREFIX%\Library\usr\bin;%BUILD_PREFIX%\Library\bin;%BUILD_PREFIX%\Scripts;%BUILD_PREFIX%\bin;%PREFIX%;%PREFIX%\Library\mingw-w64\bin;%PREFIX%\Library\usr\bin;%PREFIX%\Library\bin;%PREFIX%\Scripts;%PREFIX%\bin;C:\Users\task_176909145145160\bld;C:\Users\task_176909145145160\bld\Library\mingw-w64\bin;C:\Users\task_176909145145160\bld\Library\usr\bin;C:\Users\task_176909145145160\bld\Library\bin;C:\Users\task_176909145145160\bld\Scripts;C:\Users\task_176909145145160\bld\bin;C:\miniconda3\condabin;C:\Program Files (x86)\Intel\oneAPI\mpi\latest\bin;C:\Program Files (x86)\Intel\oneAPI\mpi\latest\bin\release;C:\Program Files (x86)\Intel\oneAPI\mpi\latest\libfabric\bin;C:\Program Files (x86)\Intel\oneAPI\mpi\latest\libfabric\bin\utils;C:\Program Files (x86)\Intel\oneAPI\tbb\latest\redist\intel64\vc_mt;C:\Program Files (x86)\Intel\oneAPI\tbb\latest\redist\ia32\vc_mt;C:\Program Files (x86)\Intel\oneAPI\compiler\latest\windows\redist\intel64_win\compiler;C:\Program Files (x86)\Intel\oneAPI\compiler\latest\windows\redist\ia32_win\compiler;C:\Windows\system32;C:\Windows;C:\Windows\System32\Wbem;C:\Windows\System32\WindowsPowerShell\v1.0;C:\Windows\System32\OpenSSH;C:\Program Files\Amazon\cfn-bootstrap;C:\Program Files\PowerShell\7;C:\Program Files\Microsoft\AzureSignTool;C:\Program Files\nssm;C:\Users\task_176909145145160\AppData\Local\Microsoft\WindowsApps" 

(C:\Users\task_176909145145160\bld) %SRC_DIR%>set "SCRIPTS=%PREFIX%\Scripts" 

(C:\Users\task_176909145145160\bld) %SRC_DIR%>set "LIBRARY_PREFIX=%PREFIX%\Library" 

(C:\Users\task_176909145145160\bld) %SRC_DIR%>set "LIBRARY_BIN=%PREFIX%\Library\bin" 

(C:\Users\task_176909145145160\bld) %SRC_DIR%>set "LIBRARY_INC=%PREFIX%\Library\include" 

(C:\Users\task_176909145145160\bld) %SRC_DIR%>set "LIBRARY_LIB=%PREFIX%\Library\lib" 

(C:\Users\task_176909145145160\bld) %SRC_DIR%>set "CYGWIN_PREFIX=/cygdrive/c/Users/task_176909145145160/croot/sphinx_1769091582261/_h_env" 

(C:\Users\task_176909145145160\bld) %SRC_DIR%>set "ALLUSERSPROFILE=C:\ProgramData" 

(C:\Users\task_176909145145160\bld) %SRC_DIR%>set "APPDATA=C:\Users\task_176909145145160\AppData\Roaming" 

(C:\Users\task_176909145145160\bld) %SRC_DIR%>set "CommonProgramFiles=C:\Program Files\Common Files" 

(C:\Users\task_176909145145160\bld) %SRC_DIR%>set "CommonProgramFiles(x86)=C:\Program Files (x86)\Common Files" 

(C:\Users\task_176909145145160\bld) %SRC_DIR%>set "CommonProgramW6432=C:\Program Files\Common Files" 

(C:\Users\task_176909145145160\bld) %SRC_DIR%>set "COMPUTERNAME=EC2AMAZ-LGD69SJ" 

(C:\Users\task_176909145145160\bld) %SRC_DIR%>set "ComSpec=C:\Windows\system32\cmd.exe" 

(C:\Users\task_176909145145160\bld) %SRC_DIR%>set "LOCALAPPDATA=C:\Users\task_176909145145160\AppData\Local" 

(C:\Users\task_176909145145160\bld) %SRC_DIR%>set "NUMBER_OF_PROCESSORS=8" 

(C:\Users\task_176909145145160\bld) %SRC_DIR%>set "PATHEXT=.COM;.EXE;.BAT;.CMD;.VBS;.VBE;.JS;.JSE;.WSF;.WSH;.MSC" 

(C:\Users\task_176909145145160\bld) %SRC_DIR%>set "ProgramData=C:\ProgramData" 

(C:\Users\task_176909145145160\bld) %SRC_DIR%>set "ProgramFiles=C:\Program Files" 

(C:\Users\task_176909145145160\bld) %SRC_DIR%>set "ProgramFiles(x86)=C:\Program Files (x86)" 

(C:\Users\task_176909145145160\bld) %SRC_DIR%>set "ProgramW6432=C:\Program Files" 

(C:\Users\task_176909145145160\bld) %SRC_DIR%>set "PROMPT=(C:\Users\task_176909145145160\bld) $P$G" 

(C:\Users\task_176909145145160\bld) %SRC_DIR%>set "PSModulePath=C:\Windows\system32\WindowsPowerShell\v1.0\Modules;C:\Program Files\WindowsPowerShell\Modules" 

(C:\Users\task_176909145145160\bld) %SRC_DIR%>set "PUBLIC=C:\Users\Public" 

(C:\Users\task_176909145145160\bld) %SRC_DIR%>set "SystemDrive=C:" 

(C:\Users\task_176909145145160\bld) %SRC_DIR%>set "SystemRoot=C:\Windows" 

(C:\Users\task_176909145145160\bld) %SRC_DIR%>set "TEMP=C:\Users\TASK_1~2\AppData\Local\Temp" 

(C:\Users\task_176909145145160\bld) %SRC_DIR%>set "TMP=C:\Users\TASK_1~2\AppData\Local\Temp" 

(C:\Users\task_176909145145160\bld) %SRC_DIR%>set "USERDOMAIN=EC2AMAZ-LGD69SJ" 

(C:\Users\task_176909145145160\bld) %SRC_DIR%>set "USERNAME=task_176909145145160" 

(C:\Users\task_176909145145160\bld) %SRC_DIR%>set "USERPROFILE=C:\Users\task_176909145145160" 

(C:\Users\task_176909145145160\bld) %SRC_DIR%>set "windir=C:\Windows" 

(C:\Users\task_176909145145160\bld) %SRC_DIR%>set "PROCESSOR_ARCHITECTURE=AMD64" 

(C:\Users\task_176909145145160\bld) %SRC_DIR%>set "PROCESSOR_IDENTIFIER=Intel64 Family 6 Model 85 Stepping 4, GenuineIntel" 

(C:\Users\task_176909145145160\bld) %SRC_DIR%>set "BUILD=amd64-pc-windows-19.0.0" 

(C:\Users\task_176909145145160\bld) %SRC_DIR%>set "VS2017INSTALLDIR=C:\Program Files (x86)\Microsoft Visual Studio\2017\BuildTools" 

(C:\Users\task_176909145145160\bld) %SRC_DIR%>set "VS2019INSTALLDIR=C:\Program Files (x86)\Microsoft Visual Studio\2019\BuildTools" 

(C:\Users\task_176909145145160\bld) %SRC_DIR%>set "VS2022INSTALLDIR=C:\Program Files (x86)\Microsoft Visual Studio\2022\BuildTools" 

(C:\Users\task_176909145145160\bld) %SRC_DIR%>set "pin_run_as_build=OrderedDict({'python': {'min_pin': 'x.x', 'max_pin': 'x.x'}, 'r-base': {'min_pin': 'x.x', 'max_pin': 'x.x'}})" 

(C:\Users\task_176909145145160\bld) %SRC_DIR%>set "ignore_build_only_deps={'numpy', 'python'}" 

(C:\Users\task_176909145145160\bld) %SRC_DIR%>set "extend_keys={'pin_run_as_build', 'ignore_version', 'extend_keys', 'ignore_build_only_deps'}" 

(C:\Users\task_176909145145160\bld) %SRC_DIR%>set "fortran_compiler=gfortran" 

(C:\Users\task_176909145145160\bld) %SRC_DIR%>set "platform=win-64" 

(C:\Users\task_176909145145160\bld) %SRC_DIR%>set "target_platform=win-64" 

(C:\Users\task_176909145145160\bld) %SRC_DIR%>set "c_stdlib_version=2022.14" 

(C:\Users\task_176909145145160\bld) %SRC_DIR%>set "r_base=3.4" 

(C:\Users\task_176909145145160\bld) %SRC_DIR%>set "cxx_compiler=vs2017" 

(C:\Users\task_176909145145160\bld) %SRC_DIR%>set "channel_targets=defaults" 

(C:\Users\task_176909145145160\bld) %SRC_DIR%>set "c_compiler=vs2022" 

(C:\Users\task_176909145145160\bld) %SRC_DIR%>set "cran_mirror=https://cran.r-project.org" 

(C:\Users\task_176909145145160\bld) %SRC_DIR%>set "vc=14" 

(C:\Users\task_176909145145160\bld) %SRC_DIR%>set "c_stdlib=vs" 

(C:\Users\task_176909145145160\bld) %SRC_DIR%>set "cpu_optimization_target=nocona" 

(C:\Users\task_176909145145160\bld) %SRC_DIR%>set "CONDA_BUILD_STATE=BUILD" 

(C:\Users\task_176909145145160\bld) %SRC_DIR%>set "PIP_NO_BUILD_ISOLATION=False" 

(C:\Users\task_176909145145160\bld) %SRC_DIR%>set "PIP_NO_DEPENDENCIES=True" 

(C:\Users\task_176909145145160\bld) %SRC_DIR%>set "PIP_IGNORE_INSTALLED=True" 

(C:\Users\task_176909145145160\bld) %SRC_DIR%>set "PIP_CACHE_DIR=C:\Users\task_176909145145160\croot\sphinx_1769091582261\pip_cache" 

(C:\Users\task_176909145145160\bld) %SRC_DIR%>set "PIP_NO_INDEX=True" 

(C:\Users\task_176909145145160\bld) %SRC_DIR%>set DISTUTILS_USE_SDK=1 

(C:\Users\task_176909145145160\bld) %SRC_DIR%>set MSSdk=1 

(C:\Users\task_176909145145160\bld) %SRC_DIR%>set PY_VCRUNTIME_REDIST=%PREFIX%\Library\bin\vcruntime170.dll 

(C:\Users\task_176909145145160\bld) %SRC_DIR%>set "VS_VERSION=17.0" 

(C:\Users\task_176909145145160\bld) %SRC_DIR%>set "VS_MAJOR=17" 

(C:\Users\task_176909145145160\bld) %SRC_DIR%>set "VS_YEAR=2022" 

(C:\Users\task_176909145145160\bld) %SRC_DIR%>set "CMAKE_GENERATOR=Visual Studio 17 2022" 

(C:\Users\task_176909145145160\bld) %SRC_DIR%>set "MSYS2_ARG_CONV_EXCL=/AI;/AL;/OUT;/out" 

(C:\Users\task_176909145145160\bld) %SRC_DIR%>set "MSYS2_ENV_CONV_EXCL=CL" 

(C:\Users\task_176909145145160\bld) %SRC_DIR%>if exist "C:\Program Files (x86)\Microsoft Visual Studio\2022\BuildTools\VC\Auxiliary\Build\vcvarsall.bat" (call "C:\Program Files (x86)\Microsoft Visual Studio\2022\BuildTools\VC\Auxiliary\Build\vcvarsall.bat" amd64 )  else (echo "Warning: Visual Studio not found at C:\Program Files (x86)\Microsoft Visual Studio\2022\BuildTools\VC\Auxiliary\Build\vcvarsall.bat" ) 
**********************************************************************
** Visual Studio 2022 Developer Command Prompt v17.14.20
** Copyright (c) 2025 Microsoft Corporation
**********************************************************************
[vcvarsall.bat] Environment initialized for: 'x64'

(C:\Users\task_176909145145160\bld) %SRC_DIR%>set "INCLUDE=%PREFIX%\Library\include;C:\Program Files (x86)\Microsoft Visual Studio\2022\BuildTools\VC\Tools\MSVC\14.42.34433\include;C:\Program Files (x86)\Microsoft Visual Studio\2022\BuildTools\VC\Tools\MSVC\14.42.34433\ATLMFC\include;C:\Program Files (x86)\Microsoft Visual Studio\2022\BuildTools\VC\Auxiliary\VS\include;C:\Program Files (x86)\Windows Kits\10\include\10.0.26100.0\ucrt;C:\Program Files (x86)\Windows Kits\10\\include\10.0.26100.0\\um;C:\Program Files (x86)\Windows Kits\10\\include\10.0.26100.0\\shared;C:\Program Files (x86)\Windows Kits\10\\include\10.0.26100.0\\winrt;C:\Program Files (x86)\Windows Kits\10\\include\10.0.26100.0\\cppwinrt" 

(C:\Users\task_176909145145160\bld) %SRC_DIR%>set "LIB=%PREFIX%\Library\lib;C:\Program Files (x86)\Microsoft Visual Studio\2022\BuildTools\VC\Tools\MSVC\14.42.34433\ATLMFC\lib\x64;C:\Program Files (x86)\Microsoft Visual Studio\2022\BuildTools\VC\Tools\MSVC\14.42.34433\lib\x64;C:\Program Files (x86)\Windows Kits\10\lib\10.0.26100.0\ucrt\x64;C:\Program Files (x86)\Windows Kits\10\\lib\10.0.26100.0\\um\x64" 

(C:\Users\task_176909145145160\bld) %SRC_DIR%>call "C:\miniconda3\condabin\conda_hook.bat" 

EnvironmentLocationNotFound: Not a conda environment: C:\Users\task_176909145145160\croot\sphinx_1769091582261\_build_env

  Running command Preparing metadata (pyproject.toml)
  Running command Building wheel for Sphinx (pyproject.toml)
Indexing ['win-64'] does not include 'noarch'

Indexing ['win-64'] does not include 'noarch'


(C:\Users\task_176909145145160\bld) %SRC_DIR%>set "CONDA_EXE=C:\miniconda3\Scripts\conda.exe" 

(C:\Users\task_176909145145160\bld) %SRC_DIR%>set "_CONDA_EXE=C:\miniconda3\Scripts\conda.exe" 

(C:\Users\task_176909145145160\bld) %SRC_DIR%>set "_CE_M=" 

(C:\Users\task_176909145145160\bld) %SRC_DIR%>set "_CE_CONDA=" 

(C:\Users\task_176909145145160\bld) %SRC_DIR%>set "CONDA_PYTHON_EXE=C:\miniconda3\python.exe" 

(C:\Users\task_176909145145160\bld) %SRC_DIR%>set "_CONDA_ROOT=C:\miniconda3" 

(C:\Users\task_176909145145160\bld) %SRC_DIR%>call "C:\miniconda3\condabin\conda.bat" activate "%PREFIX%" 
Failed to run 'conda activate --stack "%BUILD_PREFIX%"'.
Using pip 25.3 from %PREFIX%\Lib\site-packages\pip (python 3.11)
Non-user install because user site-packages disabled
Ignoring indexes: https://pypi.org/simple
Created temporary directory: C:\Users\task_176909145145160\AppData\Local\Temp\pip-build-tracker-r9u9m8cz
Initialized build tracking at C:\Users\task_176909145145160\AppData\Local\Temp\pip-build-tracker-r9u9m8cz
Created build tracker: C:\Users\task_176909145145160\AppData\Local\Temp\pip-build-tracker-r9u9m8cz
Entered build tracker: C:\Users\task_176909145145160\AppData\Local\Temp\pip-build-tracker-r9u9m8cz
Created temporary directory: C:\Users\task_176909145145160\AppData\Local\Temp\pip-install-1nobacsj
Created temporary directory: C:\Users\task_176909145145160\AppData\Local\Temp\pip-ephem-wheel-cache-lhtjf7tg
Processing c:\users\task_176909145145160\croot\sphinx_1769091582261\work
  Added file:///C:/Users/task_176909145145160/croot/sphinx_1769091582261/work to build tracker 'C:\\Users\\task_176909145145160\\AppData\\Local\\Temp\\pip-build-tracker-r9u9m8cz'
  Created temporary directory: C:\Users\task_176909145145160\AppData\Local\Temp\pip-modern-metadata-xs0u95q5
  Preparing metadata (pyproject.toml): started
  Preparing metadata (pyproject.toml): finished with status 'done'
  Source in c:\users\task_176909145145160\croot\sphinx_1769091582261\work has version 9.0.0, which satisfies requirement Sphinx==9.0.0 from file:///C:/Users/task_176909145145160/croot/sphinx_1769091582261/work
  Removed Sphinx==9.0.0 from file:///C:/Users/task_176909145145160/croot/sphinx_1769091582261/work from build tracker 'C:\\Users\\task_176909145145160\\AppData\\Local\\Temp\\pip-build-tracker-r9u9m8cz'
Created temporary directory: C:\Users\task_176909145145160\AppData\Local\Temp\pip-unpack-kqwuq40i
Building wheels for collected packages: Sphinx
  Destination directory: C:\Users\task_176909145145160\AppData\Local\Temp\pip-ephem-wheel-cache-lhtjf7tg\wheels\64\b2\4f\76be6d8001bbc27572dd5e5b13872770230421703e3597c36f\tmpxi0fb4tb
  Building wheel for Sphinx (pyproject.toml): started
  Building wheel for Sphinx (pyproject.toml): finished with status 'done'
  Created wheel for Sphinx: filename=sphinx-9.0.0-py3-none-any.whl size=3762793 sha256=95087f7661c7fe6a1ec6fa4c13b82a742455bfce5fc652fb32d00ec3b523e1d6
  Stored in directory: C:\Users\task_176909145145160\AppData\Local\Temp\pip-ephem-wheel-cache-lhtjf7tg\wheels\64\b2\4f\76be6d8001bbc27572dd5e5b13872770230421703e3597c36f
Successfully built Sphinx
Installing collected packages: Sphinx

Successfully installed Sphinx-9.0.0
Removed build tracker: 'C:\\Users\\task_176909145145160\\AppData\\Local\\Temp\\pip-build-tracker-r9u9m8cz'

Resource usage statistics from building sphinx:
   Process count: 4
   CPU time: Sys=0:00:02.0, User=0:00:03.4
   Memory: 141.4M
   Disk usage: 21.4M
   Time elapsed: 0:00:16.1


Packaging sphinx
Packaging sphinx-9.0.0-py311h1c6eee0_0
WARNING: Importing conda-verify failed.  Please be sure to test your packages.  conda install conda-verify to make this message go away.
compiling .pyc files...
number of files: 942
   INFO: sysroot: 'C:/Windows/' files: '['win.ini', 'twain_32/wiatwain.ds', 'twain_32.dll', 'system.ini']'
   INFO (sphinx,Scripts/sphinx-build.exe): Needed DSO C:/Windows/System32/ADVAPI32.dll found in $SYSROOT
   INFO (sphinx,Scripts/sphinx-build.exe): Needed DSO C:/Windows/System32/KERNEL32.dll found in $SYSROOT
   INFO (sphinx,Scripts/sphinx-build.exe): Needed DSO C:/Windows/System32/msvcrt.dll found in $SYSROOT
   INFO (sphinx,Scripts/sphinx-build.exe): Needed DSO C:/Windows/System32/SHELL32.dll found in $SYSROOT
   INFO (sphinx,Scripts/sphinx-quickstart.exe): Needed DSO C:/Windows/System32/ADVAPI32.dll found in $SYSROOT
   INFO (sphinx,Scripts/sphinx-quickstart.exe): Needed DSO C:/Windows/System32/KERNEL32.dll found in $SYSROOT
   INFO (sphinx,Scripts/sphinx-quickstart.exe): Needed DSO C:/Windows/System32/msvcrt.dll found in $SYSROOT
   INFO (sphinx,Scripts/sphinx-quickstart.exe): Needed DSO C:/Windows/System32/SHELL32.dll found in $SYSROOT
   INFO (sphinx,Scripts/sphinx-apidoc.exe): Needed DSO C:/Windows/System32/ADVAPI32.dll found in $SYSROOT
   INFO (sphinx,Scripts/sphinx-apidoc.exe): Needed DSO C:/Windows/System32/KERNEL32.dll found in $SYSROOT
   INFO (sphinx,Scripts/sphinx-apidoc.exe): Needed DSO C:/Windows/System32/msvcrt.dll found in $SYSROOT
   INFO (sphinx,Scripts/sphinx-apidoc.exe): Needed DSO C:/Windows/System32/SHELL32.dll found in $SYSROOT
   INFO (sphinx,Scripts/sphinx-autogen.exe): Needed DSO C:/Windows/System32/ADVAPI32.dll found in $SYSROOT
   INFO (sphinx,Scripts/sphinx-autogen.exe): Needed DSO C:/Windows/System32/KERNEL32.dll found in $SYSROOT
   INFO (sphinx,Scripts/sphinx-autogen.exe): Needed DSO C:/Windows/System32/msvcrt.dll found in $SYSROOT
   INFO (sphinx,Scripts/sphinx-autogen.exe): Needed DSO C:/Windows/System32/SHELL32.dll found in $SYSROOT
   INFO (sphinx): Interpreted package 'sphinx' is interpreted by 'python'
Fixing permissions
Packaged license file/s.
INFO :: Time taken to mark (prefix)
        0 replacements in 0 files was 0.24 seconds
Renaming work directory 'C:\Users\task_176909145145160\croot\sphinx_1769091582261\work' to 'C:\Users\task_176909145145160\croot\sphinx_1769091582261\work_moved_sphinx-9.0.0-py311h1c6eee0_0_win-64_main_build_loop'
shutil.move(work)=C:\Users\task_176909145145160\croot\sphinx_1769091582261\work, dest=C:\Users\task_176909145145160\croot\sphinx_1769091582261\work_moved_sphinx-9.0.0-py311h1c6eee0_0_win-64_main_build_loop)
# Automatic uploading is disabled
# If you want to upload package(s) to anaconda.org later, type:


# To have conda build upload to anaconda.org automatically, use
# $ conda config --set anaconda_upload yes
anaconda upload ^
    public\win-64\sphinx-9.0.0-py311h1c6eee0_0.conda
anaconda_upload is not set.  Not uploading wheels: []

INFO :: The inputs making up the hashes for the built packages are as follows:
{
  "sphinx-9.0.0-py311h1c6eee0_0.conda": {
    "recipe": {
      "c_compiler": "vs2022",
      "c_stdlib": "vs",
      "c_stdlib_version": "2022.14",
      "channel_targets": "defaults",
      "target_platform": "win-64"
    }
  }
}


####################################################################################
Resource usage summary:

Total time: 0:03:24.7
CPU usage: sys=0:00:02.0, user=0:00:03.4
Maximum memory usage observed: 141.4M
Total disk usage observed (not including envs): 21.4M
Transmuting file: public\win-64\sphinx-9.0.0-py311h1c6eee0_0.conda
Debug:Found home directory: C:\Users\task_176909145145160
File transmuted: public\win-64\sphinx-9.0.0-py311h1c6eee0_0.conda.
Deleted: public\channeldata.json
Deleted: public\index.html
Deleted: public\noarch\current_repodata.json
Deleted: public\noarch\index.html
Deleted: public\noarch\repodata.json
Deleted: public\noarch\repodata_from_packages.json
Deleted: public\noarch\.cache\cache.db
Deleted: public\win-64\current_repodata.json
Deleted: public\win-64\index.html
Deleted: public\win-64\repodata.json
Deleted: public\win-64\repodata_from_packages.json
Deleted: public\win-64\.cache\cache.db
Archiving the used source inputs...
Source cache archived successfully.
Archiving the conda packages in the public folder...
...Skipped so we can sign the files
===== Package build and processing completed! =====
[taskcluster 2026-01-22T14:23:16.700Z]                        Exit Code: 0
[taskcluster 2026-01-22T14:23:16.700Z]                        User Time: 31.25ms
[taskcluster 2026-01-22T14:23:16.700Z]                      Kernel Time: 31.25ms
[taskcluster 2026-01-22T14:23:16.700Z]                        Wall Time: 5m31.0456673s
[taskcluster 2026-01-22T14:23:16.700Z]  Average Available System Memory: 60.40 GiB
[taskcluster 2026-01-22T14:23:16.700Z]       Average System Memory Used: 2.90 GiB
[taskcluster 2026-01-22T14:23:16.700Z]          Peak System Memory Used: 3.91 GiB
[taskcluster 2026-01-22T14:23:16.700Z]              Total System Memory: 63.30 GiB
[taskcluster 2026-01-22T14:23:16.700Z]                           Result: SUCCEEDED
[taskcluster 2026-01-22T14:23:16.700Z] Executing command 8: C:\miniconda3\python.exe sign_conda_pkgs.py

C:\Users\task_176909145145160>C:\miniconda3\python.exe sign_conda_pkgs.py 
2026-01-22 14:23:17,145 - INFO - Creating environment to run 'cph' in...
Debug:Found home directory: C:\Users\task_176909145145160
2026-01-22 14:23:17,146 - INFO - Executing command: C:\miniconda3\condabin\conda.bat create --prefix C:\Users\task_176909145145160\cph conda-package-handling libarchive -y --quiet
3 channel Terms of Service accepted
Channels:
 - defaults
Platform: win-64
Collecting package metadata (repodata.json): ...working... done
Solving environment: ...working... done

## Package Plan ##

  environment location: C:\Users\task_176909145145160\cph

  added / updated specs:
    - conda-package-handling
    - libarchive


The following packages will be downloaded:

    package                    |            build
    ---------------------------|-----------------
    bzip2-1.0.8                |       h2bbff1b_6          90 KB  defaults
    ca-certificates-2025.12.2  |       haa95532_0         125 KB  defaults
    libarchive-3.8.2           |       h6c023e8_0         1.8 MB  defaults
    libexpat-2.7.3             |       h885b0b7_4         119 KB  defaults
    libffi-3.4.4               |       hd77b12b_1         122 KB  defaults
    libiconv-1.16              |       h2bbff1b_3         685 KB  defaults
    libxml2-2.13.9             |       h6201b9f_0         1.5 MB  defaults
    libzlib-1.3.1              |       h02ab6af_0          64 KB  defaults
    lz4-c-1.9.4                |       h2bbff1b_1         152 KB  defaults
    openssl-3.0.18             |       h543e019_0         6.8 MB  defaults
    sqlite-3.51.1              |       hda9a48d_0         917 KB  defaults
    tk-8.6.15                  |       hf199647_0         3.5 MB  defaults
    tzdata-2025c               |       he532380_0         118 KB  defaults
    ucrt-10.0.22621.0          |       haa95532_0         620 KB  defaults
    vc-14.3                    |      h2df5915_10          19 KB  defaults
    vc14_runtime-14.44.35208   |      h4927774_10         825 KB  defaults
    vs2015_runtime-14.44.35208 |      ha6b5a95_10          19 KB  defaults
    xz-5.6.4                   |       h4754444_1         280 KB  defaults
    zlib-1.3.1                 |       h02ab6af_0         113 KB  defaults
    zstd-1.5.7                 |       h56299aa_0         645 KB  defaults
    ------------------------------------------------------------
                                           Total:        18.4 MB

The following NEW packages will be INSTALLED:

  brotlicffi         pkgs/main/win-64::brotlicffi-1.2.0.0-py314h885b0b7_0 
  bzip2              pkgs/main/win-64::bzip2-1.0.8-h2bbff1b_6 
  ca-certificates    pkgs/main/win-64::ca-certificates-2025.12.2-haa95532_0 
  certifi            pkgs/main/win-64::certifi-2026.01.04-py314haa95532_0 
  cffi               pkgs/main/win-64::cffi-2.0.0-py314h02ab6af_1 
  charset-normalizer pkgs/main/win-64::charset-normalizer-3.4.4-py314haa95532_0 
  conda-package-han~ pkgs/main/win-64::conda-package-handling-2.4.0-py314haa95532_1 
  conda-package-str~ pkgs/main/win-64::conda-package-streaming-0.12.0-py314haa95532_1 
  idna               pkgs/main/win-64::idna-3.11-py314haa95532_0 
  libarchive         pkgs/main/win-64::libarchive-3.8.2-h6c023e8_0 
  libexpat           pkgs/main/win-64::libexpat-2.7.3-h885b0b7_4 
  libffi             pkgs/main/win-64::libffi-3.4.4-hd77b12b_1 
  libiconv           pkgs/main/win-64::libiconv-1.16-h2bbff1b_3 
  libmpdec           pkgs/main/win-64::libmpdec-4.0.0-h827c3e9_0 
  libxml2            pkgs/main/win-64::libxml2-2.13.9-h6201b9f_0 
  libzlib            pkgs/main/win-64::libzlib-1.3.1-h02ab6af_0 
  lz4-c              pkgs/main/win-64::lz4-c-1.9.4-h2bbff1b_1 
  openssl            pkgs/main/win-64::openssl-3.0.18-h543e019_0 
  pycparser          pkgs/main/win-64::pycparser-2.23-py314haa95532_0 
  pysocks            pkgs/main/win-64::pysocks-1.7.1-py314haa95532_1 
  python             pkgs/main/win-64::python-3.14.2-h3bc0a5a_101_cp314 
  python_abi         pkgs/main/win-64::python_abi-3.14-2_cp314 
  requests           pkgs/main/win-64::requests-2.32.5-py314haa95532_1 
  sqlite             pkgs/main/win-64::sqlite-3.51.1-hda9a48d_0 
  tk                 pkgs/main/win-64::tk-8.6.15-hf199647_0 
  tzdata             pkgs/main/noarch::tzdata-2025c-he532380_0 
  ucrt               pkgs/main/win-64::ucrt-10.0.22621.0-haa95532_0 
  urllib3            pkgs/main/win-64::urllib3-2.6.3-py314haa95532_0 
  vc                 pkgs/main/win-64::vc-14.3-h2df5915_10 
  vc14_runtime       pkgs/main/win-64::vc14_runtime-14.44.35208-h4927774_10 
  vs2015_runtime     pkgs/main/win-64::vs2015_runtime-14.44.35208-ha6b5a95_10 
  win_inet_pton      pkgs/main/win-64::win_inet_pton-1.1.0-py314haa95532_1 
  xz                 pkgs/main/win-64::xz-5.6.4-h4754444_1 
  zlib               pkgs/main/win-64::zlib-1.3.1-h02ab6af_0 
  zstandard          pkgs/main/win-64::zstandard-0.24.0-py314he335c29_0 
  zstd               pkgs/main/win-64::zstd-1.5.7-h56299aa_0 


Preparing transaction: ...working... done
Verifying transaction: ...working... done
Executing transaction: ...working... done
2026-01-22 14:23:31,512 - INFO - cph env created
2026-01-22 14:23:31,512 - INFO - Starting Package Content Signing Process...
Debug:Found home directory: C:\Users\task_176909145145160
2026-01-22 14:23:31,515 - INFO - Running command: C:\miniconda3\condabin\conda.bat run --prefix C:\Users\task_176909145145160\cph cph extract --dest C:\Users\task_176909145145160\tmp-pkg-extracted_td4l1qp4 C:\Users\task_176909145145160\public\win-64\sphinx-9.0.0-py311h1c6eee0_0.conda
2026-01-22 14:23:35,777 - INFO - Running command: Powershell -c "$sig = Get-AuthenticodeSignature -LiteralPath C:\Users\task_176909145145160\tmp-pkg-extracted_td4l1qp4\info\test\tests\roots\test-ext-apidoc-duplicates\fish_licence\halibut.pyd; $sig.SignerCertificate.Thumbprint"
Debug:Found home directory: C:\Users\task_176909145145160
Executing command: C:\miniconda3\condabin\conda.bat create --prefix C:\Users\task_176909145145160\bld conda-build==25.1.2 libarchive -y --quiet
3 channel Terms of Service accepted
Channels:
 - defaults
Platform: win-64
Collecting package metadata (repodata.json): ...working... done
Solving environment: ...working... done

## Package Plan ##

  environment location: C:\Users\task_176909145145160\bld

  added / updated specs:
    - conda-build==25.1.2
    - libarchive


The following packages will be downloaded:

    package                    |            build
    ---------------------------|-----------------
    archspec-0.2.5             |     pyhd3eb1b0_0          48 KB  defaults
    attrs-25.4.0               |  py312haa95532_2         170 KB  defaults
    beautifulsoup4-4.14.2      |  py312haa95532_0         243 KB  defaults
    boltons-25.0.0             |  py312haa95532_0         495 KB  defaults
    brotlicffi-1.2.0.0         |  py312h885b0b7_0         348 KB  defaults
    certifi-2026.01.04         |  py312haa95532_0         148 KB  defaults
    cffi-2.0.0                 |  py312h02ab6af_1         291 KB  defaults
    chardet-5.2.0              |  py312haa95532_0         1.9 MB  defaults
    charset-normalizer-3.4.4   |  py312haa95532_0         121 KB  defaults
    click-8.2.1                |  py312haa95532_1         314 KB  defaults
    colorama-0.4.6             |  py312haa95532_0          53 KB  defaults
    conda-25.7.0               |  py312haa95532_0         1.2 MB  defaults
    conda-build-25.1.2         |  py312haa95532_0         769 KB  defaults
    conda-index-0.7.0          |  py312haa95532_0         259 KB  defaults
    conda-libmamba-solver-25.4.0|     pyhdf14ebd_1          39 KB  defaults
    conda-package-handling-2.4.0|  py312haa95532_1         303 KB  defaults
    conda-package-streaming-0.12.0|  py312haa95532_1          37 KB  defaults
    cpp-expected-1.1.0         |       h214f63a_0         131 KB  defaults
    distro-1.9.0               |  py312haa95532_0          61 KB  defaults
    expat-2.7.3                |       h885b0b7_4          31 KB  defaults
    filelock-3.20.0            |  py312haa95532_0          37 KB  defaults
    fmt-11.2.0                 |       h58b7f6e_0         204 KB  defaults
    frozendict-2.4.6           |  py312h02ab6af_0          38 KB  defaults
    idna-3.11                  |  py312haa95532_0         199 KB  defaults
    jinja2-3.1.6               |  py312haa95532_0         354 KB  defaults
    jsonpatch-1.33             |  py312haa95532_1          61 KB  defaults
    jsonpointer-3.0.0          |  py312haa95532_0          46 KB  defaults
    jsonschema-4.25.1          |  py312haa95532_0         216 KB  defaults
    jsonschema-specifications-2025.9.1|  py312haa95532_0          17 KB  defaults
    libcurl-8.17.0             |       h97e0424_0         376 KB  defaults
    liblief-0.12.3             |       hd77b12b_0         2.4 MB  defaults
    libmamba-2.3.2             |       hc213065_1         4.4 MB  defaults
    libmambapy-2.3.2           |  py312h364efb6_1         444 KB  defaults
    libsolv-0.7.30             |       h23a355e_2         434 KB  defaults
    libssh2-1.11.1             |       h2addb87_0         312 KB  defaults
    markupsafe-3.0.2           |  py312h827c3e9_0          38 KB  defaults
    menuinst-2.4.2             |  py312h885b0b7_1         244 KB  defaults
    msgpack-python-1.1.1       |  py312h5da7b33_0         111 KB  defaults
    nlohmann_json-3.11.2       |       h6c2663c_0         126 KB  defaults
    packaging-25.0             |  py312haa95532_1         188 KB  defaults
    pcre2-10.46                |       h5740b90_0         1.3 MB  defaults
    pkginfo-1.12.1.2           |  py312haa95532_0          90 KB  defaults
    platformdirs-4.5.0         |  py312haa95532_0          41 KB  defaults
    pluggy-1.5.0               |  py312haa95532_0          47 KB  defaults
    psutil-7.0.0               |  py312h02ab6af_1         555 KB  defaults
    py-lief-0.12.3             |  py312hd77b12b_0         1.8 MB  defaults
    pybind11-abi-5             |       hd3eb1b0_0          14 KB  defaults
    pycosat-0.6.6              |  py312h827c3e9_2          90 KB  defaults
    pycparser-2.23             |  py312haa95532_0         258 KB  defaults
    pysocks-1.7.1              |  py312haa95532_1          35 KB  defaults
    python-3.12.12             |       h716150d_1        15.1 MB  defaults
    python-libarchive-c-5.1    |     pyhd3eb1b0_0          50 KB  defaults
    pytz-2025.2                |  py312haa95532_0         234 KB  defaults
    pyyaml-6.0.3               |  py312hb9a58be_0         226 KB  defaults
    referencing-0.37.0         |  py312haa95532_0          79 KB  defaults
    reproc-14.2.4              |       hd77b12b_2          40 KB  defaults
    reproc-cpp-14.2.4          |       hd77b12b_2          34 KB  defaults
    requests-2.32.5            |  py312haa95532_1         164 KB  defaults
    rpds-py-0.28.0             |  py312h114bc41_0         215 KB  defaults
    ruamel.yaml-0.18.16        |  py312hb9a58be_0         262 KB  defaults
    ruamel.yaml.clib-0.2.14    |  py312hb9a58be_0         106 KB  defaults
    setuptools-80.9.0          |  py312haa95532_0         1.8 MB  defaults
    simdjson-3.10.1            |       h214f63a_0         275 KB  defaults
    soupsieve-2.5              |  py312haa95532_0          86 KB  defaults
    tqdm-4.67.1                |  py312h4442805_1         180 KB  defaults
    truststore-0.10.1          |  py312haa95532_1          48 KB  defaults
    typing-extensions-4.15.0   |  py312haa95532_0          12 KB  defaults
    typing_extensions-4.15.0   |  py312haa95532_0          98 KB  defaults
    urllib3-2.6.3              |  py312haa95532_0         344 KB  defaults
    win_inet_pton-1.1.0        |  py312haa95532_1          10 KB  defaults
    yaml-0.2.5                 |       he774522_0          62 KB  defaults
    yaml-cpp-0.8.0             |       hd77b12b_1         2.1 MB  defaults
    zstandard-0.24.0           |  py312he335c29_0         324 KB  defaults
    ------------------------------------------------------------
                                           Total:        43.0 MB

The following NEW packages will be INSTALLED:

  archspec           pkgs/main/noarch::archspec-0.2.5-pyhd3eb1b0_0 
  attrs              pkgs/main/win-64::attrs-25.4.0-py312haa95532_2 
  beautifulsoup4     pkgs/main/win-64::beautifulsoup4-4.14.2-py312haa95532_0 
  boltons            pkgs/main/win-64::boltons-25.0.0-py312haa95532_0 
  brotlicffi         pkgs/main/win-64::brotlicffi-1.2.0.0-py312h885b0b7_0 
  bzip2              pkgs/main/win-64::bzip2-1.0.8-h2bbff1b_6 
  ca-certificates    pkgs/main/win-64::ca-certificates-2025.12.2-haa95532_0 
  certifi            pkgs/main/win-64::certifi-2026.01.04-py312haa95532_0 
  cffi               pkgs/main/win-64::cffi-2.0.0-py312h02ab6af_1 
  chardet            pkgs/main/win-64::chardet-5.2.0-py312haa95532_0 
  charset-normalizer pkgs/main/win-64::charset-normalizer-3.4.4-py312haa95532_0 
  click              pkgs/main/win-64::click-8.2.1-py312haa95532_1 
  colorama           pkgs/main/win-64::colorama-0.4.6-py312haa95532_0 
  conda              pkgs/main/win-64::conda-25.7.0-py312haa95532_0 
  conda-build        pkgs/main/win-64::conda-build-25.1.2-py312haa95532_0 
  conda-index        pkgs/main/win-64::conda-index-0.7.0-py312haa95532_0 
  conda-libmamba-so~ pkgs/main/noarch::conda-libmamba-solver-25.4.0-pyhdf14ebd_1 
  conda-package-han~ pkgs/main/win-64::conda-package-handling-2.4.0-py312haa95532_1 
  conda-package-str~ pkgs/main/win-64::conda-package-streaming-0.12.0-py312haa95532_1 
  cpp-expected       pkgs/main/win-64::cpp-expected-1.1.0-h214f63a_0 
  distro             pkgs/main/win-64::distro-1.9.0-py312haa95532_0 
  expat              pkgs/main/win-64::expat-2.7.3-h885b0b7_4 
  filelock           pkgs/main/win-64::filelock-3.20.0-py312haa95532_0 
  fmt                pkgs/main/win-64::fmt-11.2.0-h58b7f6e_0 
  frozendict         pkgs/main/win-64::frozendict-2.4.6-py312h02ab6af_0 
  idna               pkgs/main/win-64::idna-3.11-py312haa95532_0 
  jinja2             pkgs/main/win-64::jinja2-3.1.6-py312haa95532_0 
  jsonpatch          pkgs/main/win-64::jsonpatch-1.33-py312haa95532_1 
  jsonpointer        pkgs/main/win-64::jsonpointer-3.0.0-py312haa95532_0 
  jsonschema         pkgs/main/win-64::jsonschema-4.25.1-py312haa95532_0 
  jsonschema-specif~ pkgs/main/win-64::jsonschema-specifications-2025.9.1-py312haa95532_0 
  libarchive         pkgs/main/win-64::libarchive-3.8.2-h6c023e8_0 
  libcurl            pkgs/main/win-64::libcurl-8.17.0-h97e0424_0 
  libexpat           pkgs/main/win-64::libexpat-2.7.3-h885b0b7_4 
  libffi             pkgs/main/win-64::libffi-3.4.4-hd77b12b_1 
  libiconv           pkgs/main/win-64::libiconv-1.16-h2bbff1b_3 
  liblief            pkgs/main/win-64::liblief-0.12.3-hd77b12b_0 
  libmamba           pkgs/main/win-64::libmamba-2.3.2-hc213065_1 
  libmambapy         pkgs/main/win-64::libmambapy-2.3.2-py312h364efb6_1 
  libsolv            pkgs/main/win-64::libsolv-0.7.30-h23a355e_2 
  libssh2            pkgs/main/win-64::libssh2-1.11.1-h2addb87_0 
  libxml2            pkgs/main/win-64::libxml2-2.13.9-h6201b9f_0 
  libzlib            pkgs/main/win-64::libzlib-1.3.1-h02ab6af_0 
  lz4-c              pkgs/main/win-64::lz4-c-1.9.4-h2bbff1b_1 
  m2-msys2-runtime   pkgs/msys2/win-64::m2-msys2-runtime-2.5.0.17080.65c939c-3 
  m2-patch           pkgs/msys2/win-64::m2-patch-2.7.5-2 
  markupsafe         pkgs/main/win-64::markupsafe-3.0.2-py312h827c3e9_0 
  menuinst           pkgs/main/win-64::menuinst-2.4.2-py312h885b0b7_1 
  msgpack-python     pkgs/main/win-64::msgpack-python-1.1.1-py312h5da7b33_0 
  msys2-conda-epoch  pkgs/msys2/win-64::msys2-conda-epoch-20160418-1 
  nlohmann_json      pkgs/main/win-64::nlohmann_json-3.11.2-h6c2663c_0 
  openssl            pkgs/main/win-64::openssl-3.0.18-h543e019_0 
  packaging          pkgs/main/win-64::packaging-25.0-py312haa95532_1 
  pcre2              pkgs/main/win-64::pcre2-10.46-h5740b90_0 
  pkginfo            pkgs/main/win-64::pkginfo-1.12.1.2-py312haa95532_0 
  platformdirs       pkgs/main/win-64::platformdirs-4.5.0-py312haa95532_0 
  pluggy             pkgs/main/win-64::pluggy-1.5.0-py312haa95532_0 
  psutil             pkgs/main/win-64::psutil-7.0.0-py312h02ab6af_1 
  py-lief            pkgs/main/win-64::py-lief-0.12.3-py312hd77b12b_0 
  pybind11-abi       pkgs/main/noarch::pybind11-abi-5-hd3eb1b0_0 
  pycosat            pkgs/main/win-64::pycosat-0.6.6-py312h827c3e9_2 
  pycparser          pkgs/main/win-64::pycparser-2.23-py312haa95532_0 
  pysocks            pkgs/main/win-64::pysocks-1.7.1-py312haa95532_1 
  python             pkgs/main/win-64::python-3.12.12-h716150d_1 
  python-libarchive~ pkgs/main/noarch::python-libarchive-c-5.1-pyhd3eb1b0_0 
  pytz               pkgs/main/win-64::pytz-2025.2-py312haa95532_0 
  pyyaml             pkgs/main/win-64::pyyaml-6.0.3-py312hb9a58be_0 
  referencing        pkgs/main/win-64::referencing-0.37.0-py312haa95532_0 
  reproc             pkgs/main/win-64::reproc-14.2.4-hd77b12b_2 
  reproc-cpp         pkgs/main/win-64::reproc-cpp-14.2.4-hd77b12b_2 
  requests           pkgs/main/win-64::requests-2.32.5-py312haa95532_1 
  rpds-py            pkgs/main/win-64::rpds-py-0.28.0-py312h114bc41_0 
  ruamel.yaml        pkgs/main/win-64::ruamel.yaml-0.18.16-py312hb9a58be_0 
  ruamel.yaml.clib   pkgs/main/win-64::ruamel.yaml.clib-0.2.14-py312hb9a58be_0 
  setuptools         pkgs/main/win-64::setuptools-80.9.0-py312haa95532_0 
  simdjson           pkgs/main/win-64::simdjson-3.10.1-h214f63a_0 
  soupsieve          pkgs/main/win-64::soupsieve-2.5-py312haa95532_0 
  sqlite             pkgs/main/win-64::sqlite-3.51.1-hda9a48d_0 
  tk                 pkgs/main/win-64::tk-8.6.15-hf199647_0 
  tqdm               pkgs/main/win-64::tqdm-4.67.1-py312h4442805_1 
  truststore         pkgs/main/win-64::truststore-0.10.1-py312haa95532_1 
  typing-extensions  pkgs/main/win-64::typing-extensions-4.15.0-py312haa95532_0 
  typing_extensions  pkgs/main/win-64::typing_extensions-4.15.0-py312haa95532_0 
  tzdata             pkgs/main/noarch::tzdata-2025c-he532380_0 
  ucrt               pkgs/main/win-64::ucrt-10.0.22621.0-haa95532_0 
  urllib3            pkgs/main/win-64::urllib3-2.6.3-py312haa95532_0 
  vc                 pkgs/main/win-64::vc-14.3-h2df5915_10 
  vc14_runtime       pkgs/main/win-64::vc14_runtime-14.44.35208-h4927774_10 
  vs2015_runtime     pkgs/main/win-64::vs2015_runtime-14.44.35208-ha6b5a95_10 
  win_inet_pton      pkgs/main/win-64::win_inet_pton-1.1.0-py312haa95532_1 
  xz                 pkgs/main/win-64::xz-5.6.4-h4754444_1 
  yaml               pkgs/main/win-64::yaml-0.2.5-he774522_0 
  yaml-cpp           pkgs/main/win-64::yaml-cpp-0.8.0-hd77b12b_1 
  zlib               pkgs/main/win-64::zlib-1.3.1-h02ab6af_0 
  zstandard          pkgs/main/win-64::zstandard-0.24.0-py312he335c29_0 
  zstd               pkgs/main/win-64::zstd-1.5.7-h56299aa_0 


Preparing transaction: ...working... done
Verifying transaction: ...working... done
Executing transaction: ...working... done
2026-01-22 14:24:01,984 - INFO - Running command: C:\miniconda3\condabin\conda.bat run --prefix C:\Users\task_176909145145160\bld C:\miniconda3\condabin\conda.bat build --cache-dir "_src_cache" --croot "C:\Users\task_176909145145160\tmp-pkg-extracted_za7zujpr" --build-id-pat="" --source "C:\Users\task_176909145145160\tmp-pkg-extracted_td4l1qp4\info\recipe" --debug
2026-01-22 14:24:02,798 - INFO - DEBUG conda.gateways.logging:set_log_level(216): log_level set to 10
2026-01-22 14:24:02,801 - INFO - DEBUG conda.gateways.subprocess:subprocess_call(97): executing>> C:\Windows\system32\cmd.exe /d /c C:\Users\TASK_1~2\AppData\Local\Temp\tmpxd6zqzl5.bat
2026-01-22 14:24:07,271 - INFO - DEBUG conda.gateways.logging:set_log_level(216): log_level set to 10
2026-01-22 14:24:07,271 - INFO - WARNING: No numpy version specified in conda_build_config.yaml.  Falling back to default numpy value of 1.26
2026-01-22 14:24:07,271 - INFO - WARNING: Number of parsed outputs does not match detected raw metadata blocks. Identified output block may be wrong! If you are using Jinja conditionals to include or exclude outputs, consider using `skip: true  # [condition]` instead.
2026-01-22 14:24:07,271 - INFO - 
2026-01-22 14:24:07,271 - INFO - Adding in variants from internal_defaults
2026-01-22 14:24:07,271 - INFO - Adding in variants from C:\Users\task_176909145145160\tmp-pkg-extracted_td4l1qp4\info\recipe\conda_build_config.yaml
2026-01-22 14:24:07,271 - INFO - Source cache directory is: C:\Users\task_176909145145160\_src_cache\src_cache
2026-01-22 14:24:07,271 - INFO - Downloading source to cache: sphinx-9.0.0_dc75216d69.tar.gz
2026-01-22 14:24:07,271 - INFO - Downloading https://pypi.org/packages/source/s/sphinx/sphinx-9.0.0.tar.gz
2026-01-22 14:24:07,271 - INFO - Success
2026-01-22 14:24:07,272 - INFO - checking file pyproject.toml
2026-01-22 14:24:07,272 - INFO - patching file pyproject.toml
2026-01-22 14:24:07,272 - INFO - Extracting download
2026-01-22 14:24:07,272 - INFO - Applying patch: C:\Users\task_176909145145160\tmp-pkg-extracted_td4l1qp4\info\recipe\0001-reverting-pyproject-changes.patch
2026-01-22 14:24:07,272 - INFO - Applying patch: C:\Users\task_176909145145160\tmp-pkg-extracted_td4l1qp4\info\recipe\0001-reverting-pyproject-changes.patch with args:
2026-01-22 14:24:07,272 - INFO - ['-Np1', '-i', 'C:\\Users\\TASK_1~2\\AppData\\Local\\Temp\\tmpm6ni6etk\\0001-reverting-pyproject-changes.patch.native', '--binary']
2026-01-22 14:24:07,272 - INFO - Patch analysis gives:
2026-01-22 14:24:07,272 - INFO - [[ RA-MD1LOVE ]] - [[                                  0001-reverting-pyproject-changes.patch ]]
2026-01-22 14:24:07,272 - INFO - 
2026-01-22 14:24:07,272 - INFO - Key:
2026-01-22 14:24:07,272 - INFO - 
2026-01-22 14:24:07,272 - INFO - R :: Reversible                       A :: Applicable
2026-01-22 14:24:07,272 - INFO - Y :: Build-prefix patch in use        M :: Minimal, non-amalgamated
2026-01-22 14:24:07,272 - INFO - D :: Dry-runnable                     N :: Patch level (1 is preferred)
2026-01-22 14:24:07,272 - INFO - L :: Patch level not-ambiguous        O :: Patch applies without offsets
2026-01-22 14:24:07,273 - INFO - V :: Patch applies without fuzz       E :: Patch applies without emitting to stderr
2026-01-22 14:24:07,273 - INFO - 
2026-01-22 14:24:07,273 - INFO - Source tree in: C:\Users\task_176909145145160\tmp-pkg-extracted_za7zujpr\sphinx-9.0.0_1769091844876\work
2026-01-22 14:24:07,273 - INFO - 
2026-01-22 14:24:07,273 - INFO - 
2026-01-22 14:24:07,273 - INFO - ####################################################################################
2026-01-22 14:24:07,273 - INFO - Source and build intermediates have been left in C:\Users\task_176909145145160\tmp-pkg-extracted_za7zujpr.
2026-01-22 14:24:07,273 - INFO - There are currently 1 accumulated.
2026-01-22 14:24:07,273 - INFO - To remove them, you can run the ```conda build purge``` command
2026-01-22 14:24:07,273 - INFO - 
2026-01-22 14:24:07,673 - INFO - Skipping signing of C:\Users\task_176909145145160\tmp-pkg-extracted_td4l1qp4\info\test\tests\roots\test-ext-apidoc-duplicates\fish_licence\halibut.pyd. Found identical file at sphinx-9.0.0_1769091844876\work\sphinx\py.typed.
2026-01-22 14:24:07,708 - INFO - Running command: Powershell -c "$sig = Get-AuthenticodeSignature -LiteralPath C:\Users\task_176909145145160\tmp-pkg-extracted_td4l1qp4\Scripts\sphinx-apidoc.exe; $sig.SignerCertificate.Thumbprint"
2026-01-22 14:24:08,813 - INFO - F48A1BF45E2E91311F0F927111AF04C30DEB9AB7
2026-01-22 14:24:08,839 - INFO - Skipping signing of C:\Users\task_176909145145160\tmp-pkg-extracted_td4l1qp4\Scripts\sphinx-apidoc.exe. Already signed.
2026-01-22 14:24:08,839 - INFO - Running command: Powershell -c "$sig = Get-AuthenticodeSignature -LiteralPath C:\Users\task_176909145145160\tmp-pkg-extracted_td4l1qp4\Scripts\sphinx-autogen.exe; $sig.SignerCertificate.Thumbprint"
2026-01-22 14:24:09,925 - INFO - F48A1BF45E2E91311F0F927111AF04C30DEB9AB7
2026-01-22 14:24:09,948 - INFO - Skipping signing of C:\Users\task_176909145145160\tmp-pkg-extracted_td4l1qp4\Scripts\sphinx-autogen.exe. Already signed.
2026-01-22 14:24:09,948 - INFO - Running command: Powershell -c "$sig = Get-AuthenticodeSignature -LiteralPath C:\Users\task_176909145145160\tmp-pkg-extracted_td4l1qp4\Scripts\sphinx-build.exe; $sig.SignerCertificate.Thumbprint"
2026-01-22 14:24:11,027 - INFO - F48A1BF45E2E91311F0F927111AF04C30DEB9AB7
2026-01-22 14:24:11,051 - INFO - Skipping signing of C:\Users\task_176909145145160\tmp-pkg-extracted_td4l1qp4\Scripts\sphinx-build.exe. Already signed.
2026-01-22 14:24:11,051 - INFO - Running command: Powershell -c "$sig = Get-AuthenticodeSignature -LiteralPath C:\Users\task_176909145145160\tmp-pkg-extracted_td4l1qp4\Scripts\sphinx-quickstart.exe; $sig.SignerCertificate.Thumbprint"
2026-01-22 14:24:12,155 - INFO - F48A1BF45E2E91311F0F927111AF04C30DEB9AB7
2026-01-22 14:24:12,176 - INFO - Skipping signing of C:\Users\task_176909145145160\tmp-pkg-extracted_td4l1qp4\Scripts\sphinx-quickstart.exe. Already signed.
2026-01-22 14:24:12,600 - INFO - Running command: powershell -c "cd 'C:\Users\task_176909145145160\tmp-pkg-extracted_td4l1qp4'; Get-ChildItem -Path . -Recurse -Include *.exe, *.dll, *.pyd, *.ps1 | ForEach-Object {      Get-AuthenticodeSignature -LiteralPath $_  } |  ForEach-Object {    [pscustomobject]@{      SignerCertificate = $_.SignerCertificate.Thumbprint;     Status = $_.status;     Path = Resolve-Path -Relative $_.Path;     SignatureType = $_.SignatureType;     Message = $_.StatusMessage;   }} | Format-List"
2026-01-22 14:24:14,047 - INFO - 
2026-01-22 14:24:14,051 - INFO - 
2026-01-22 14:24:14,067 - INFO - SignerCertificate :
2026-01-22 14:24:14,067 - INFO - Status            : UnknownError
2026-01-22 14:24:14,067 - INFO - Path              : .\info\test\tests\roots\test-ext-apidoc-duplicates\fish_licence\halibut.pyd
2026-01-22 14:24:14,068 - INFO - SignatureType     : None
2026-01-22 14:24:14,068 - INFO - Message           : The form specified for the subject is not one supported or known by the specified trust provider
2026-01-22 14:24:14,068 - INFO - 
2026-01-22 14:24:14,258 - INFO - SignerCertificate : F48A1BF45E2E91311F0F927111AF04C30DEB9AB7
2026-01-22 14:24:14,258 - INFO - Status            : Valid
2026-01-22 14:24:14,258 - INFO - Path              : .\Scripts\sphinx-apidoc.exe
2026-01-22 14:24:14,258 - INFO - SignatureType     : Authenticode
2026-01-22 14:24:14,258 - INFO - Message           : Signature verified.
2026-01-22 14:24:14,258 - INFO - 
2026-01-22 14:24:14,287 - INFO - SignerCertificate : F48A1BF45E2E91311F0F927111AF04C30DEB9AB7
2026-01-22 14:24:14,287 - INFO - Status            : Valid
2026-01-22 14:24:14,287 - INFO - Path              : .\Scripts\sphinx-autogen.exe
2026-01-22 14:24:14,287 - INFO - SignatureType     : Authenticode
2026-01-22 14:24:14,287 - INFO - Message           : Signature verified.
2026-01-22 14:24:14,287 - INFO - 
2026-01-22 14:24:14,317 - INFO - SignerCertificate : F48A1BF45E2E91311F0F927111AF04C30DEB9AB7
2026-01-22 14:24:14,317 - INFO - Status            : Valid
2026-01-22 14:24:14,317 - INFO - Path              : .\Scripts\sphinx-build.exe
2026-01-22 14:24:14,317 - INFO - SignatureType     : Authenticode
2026-01-22 14:24:14,317 - INFO - Message           : Signature verified.
2026-01-22 14:24:14,317 - INFO - 
2026-01-22 14:24:14,347 - INFO - SignerCertificate : F48A1BF45E2E91311F0F927111AF04C30DEB9AB7
2026-01-22 14:24:14,347 - INFO - Status            : Valid
2026-01-22 14:24:14,347 - INFO - Path              : .\Scripts\sphinx-quickstart.exe
2026-01-22 14:24:14,347 - INFO - SignatureType     : Authenticode
2026-01-22 14:24:14,347 - INFO - Message           : Signature verified.
2026-01-22 14:24:14,347 - INFO - 
2026-01-22 14:24:14,348 - INFO - 
2026-01-22 14:24:14,348 - INFO - 
2026-01-22 14:24:14,372 - INFO - Nothing signed for C:\Users\task_176909145145160\public\win-64\sphinx-9.0.0-py311h1c6eee0_0.conda
Debug:Found home directory: C:\Users\task_176909145145160
2026-01-22 14:24:14,844 - INFO - Running command: C:\miniconda3\condabin\conda.bat run --prefix C:\Users\task_176909145145160\cph cph extract --dest C:\Users\task_176909145145160\tmp-pkg-extracted_bi8nvlys C:\Users\task_176909145145160\public\win-64\sphinx-9.0.0-py311h1c6eee0_0.tar.bz2
2026-01-22 14:24:19,757 - INFO - Running command: Powershell -c "$sig = Get-AuthenticodeSignature -LiteralPath C:\Users\task_176909145145160\tmp-pkg-extracted_bi8nvlys\info\test\tests\roots\test-ext-apidoc-duplicates\fish_licence\halibut.pyd; $sig.SignerCertificate.Thumbprint"
Debug:Found home directory: C:\Users\task_176909145145160
Executing command: C:\miniconda3\condabin\conda.bat create --prefix C:\Users\task_176909145145160\bld conda-build==25.1.2 libarchive -y --quiet
3 channel Terms of Service accepted
Channels:
 - defaults
Platform: win-64
Collecting package metadata (repodata.json): ...working... done
Solving environment: ...working... done

## Package Plan ##

  environment location: C:\Users\task_176909145145160\bld

  added / updated specs:
    - conda-build==25.1.2
    - libarchive


The following NEW packages will be INSTALLED:

  archspec           pkgs/main/noarch::archspec-0.2.5-pyhd3eb1b0_0 
  attrs              pkgs/main/win-64::attrs-25.4.0-py312haa95532_2 
  beautifulsoup4     pkgs/main/win-64::beautifulsoup4-4.14.2-py312haa95532_0 
  boltons            pkgs/main/win-64::boltons-25.0.0-py312haa95532_0 
  brotlicffi         pkgs/main/win-64::brotlicffi-1.2.0.0-py312h885b0b7_0 
  bzip2              pkgs/main/win-64::bzip2-1.0.8-h2bbff1b_6 
  ca-certificates    pkgs/main/win-64::ca-certificates-2025.12.2-haa95532_0 
  certifi            pkgs/main/win-64::certifi-2026.01.04-py312haa95532_0 
  cffi               pkgs/main/win-64::cffi-2.0.0-py312h02ab6af_1 
  chardet            pkgs/main/win-64::chardet-5.2.0-py312haa95532_0 
  charset-normalizer pkgs/main/win-64::charset-normalizer-3.4.4-py312haa95532_0 
  click              pkgs/main/win-64::click-8.2.1-py312haa95532_1 
  colorama           pkgs/main/win-64::colorama-0.4.6-py312haa95532_0 
  conda              pkgs/main/win-64::conda-25.7.0-py312haa95532_0 
  conda-build        pkgs/main/win-64::conda-build-25.1.2-py312haa95532_0 
  conda-index        pkgs/main/win-64::conda-index-0.7.0-py312haa95532_0 
  conda-libmamba-so~ pkgs/main/noarch::conda-libmamba-solver-25.4.0-pyhdf14ebd_1 
  conda-package-han~ pkgs/main/win-64::conda-package-handling-2.4.0-py312haa95532_1 
  conda-package-str~ pkgs/main/win-64::conda-package-streaming-0.12.0-py312haa95532_1 
  cpp-expected       pkgs/main/win-64::cpp-expected-1.1.0-h214f63a_0 
  distro             pkgs/main/win-64::distro-1.9.0-py312haa95532_0 
  expat              pkgs/main/win-64::expat-2.7.3-h885b0b7_4 
  filelock           pkgs/main/win-64::filelock-3.20.0-py312haa95532_0 
  fmt                pkgs/main/win-64::fmt-11.2.0-h58b7f6e_0 
  frozendict         pkgs/main/win-64::frozendict-2.4.6-py312h02ab6af_0 
  idna               pkgs/main/win-64::idna-3.11-py312haa95532_0 
  jinja2             pkgs/main/win-64::jinja2-3.1.6-py312haa95532_0 
  jsonpatch          pkgs/main/win-64::jsonpatch-1.33-py312haa95532_1 
  jsonpointer        pkgs/main/win-64::jsonpointer-3.0.0-py312haa95532_0 
  jsonschema         pkgs/main/win-64::jsonschema-4.25.1-py312haa95532_0 
  jsonschema-specif~ pkgs/main/win-64::jsonschema-specifications-2025.9.1-py312haa95532_0 
  libarchive         pkgs/main/win-64::libarchive-3.8.2-h6c023e8_0 
  libcurl            pkgs/main/win-64::libcurl-8.17.0-h97e0424_0 
  libexpat           pkgs/main/win-64::libexpat-2.7.3-h885b0b7_4 
  libffi             pkgs/main/win-64::libffi-3.4.4-hd77b12b_1 
  libiconv           pkgs/main/win-64::libiconv-1.16-h2bbff1b_3 
  liblief            pkgs/main/win-64::liblief-0.12.3-hd77b12b_0 
  libmamba           pkgs/main/win-64::libmamba-2.3.2-hc213065_1 
  libmambapy         pkgs/main/win-64::libmambapy-2.3.2-py312h364efb6_1 
  libsolv            pkgs/main/win-64::libsolv-0.7.30-h23a355e_2 
  libssh2            pkgs/main/win-64::libssh2-1.11.1-h2addb87_0 
  libxml2            pkgs/main/win-64::libxml2-2.13.9-h6201b9f_0 
  libzlib            pkgs/main/win-64::libzlib-1.3.1-h02ab6af_0 
  lz4-c              pkgs/main/win-64::lz4-c-1.9.4-h2bbff1b_1 
  m2-msys2-runtime   pkgs/msys2/win-64::m2-msys2-runtime-2.5.0.17080.65c939c-3 
  m2-patch           pkgs/msys2/win-64::m2-patch-2.7.5-2 
  markupsafe         pkgs/main/win-64::markupsafe-3.0.2-py312h827c3e9_0 
  menuinst           pkgs/main/win-64::menuinst-2.4.2-py312h885b0b7_1 
  msgpack-python     pkgs/main/win-64::msgpack-python-1.1.1-py312h5da7b33_0 
  msys2-conda-epoch  pkgs/msys2/win-64::msys2-conda-epoch-20160418-1 
  nlohmann_json      pkgs/main/win-64::nlohmann_json-3.11.2-h6c2663c_0 
  openssl            pkgs/main/win-64::openssl-3.0.18-h543e019_0 
  packaging          pkgs/main/win-64::packaging-25.0-py312haa95532_1 
  pcre2              pkgs/main/win-64::pcre2-10.46-h5740b90_0 
  pkginfo            pkgs/main/win-64::pkginfo-1.12.1.2-py312haa95532_0 
  platformdirs       pkgs/main/win-64::platformdirs-4.5.0-py312haa95532_0 
  pluggy             pkgs/main/win-64::pluggy-1.5.0-py312haa95532_0 
  psutil             pkgs/main/win-64::psutil-7.0.0-py312h02ab6af_1 
  py-lief            pkgs/main/win-64::py-lief-0.12.3-py312hd77b12b_0 
  pybind11-abi       pkgs/main/noarch::pybind11-abi-5-hd3eb1b0_0 
  pycosat            pkgs/main/win-64::pycosat-0.6.6-py312h827c3e9_2 
  pycparser          pkgs/main/win-64::pycparser-2.23-py312haa95532_0 
  pysocks            pkgs/main/win-64::pysocks-1.7.1-py312haa95532_1 
  python             pkgs/main/win-64::python-3.12.12-h716150d_1 
  python-libarchive~ pkgs/main/noarch::python-libarchive-c-5.1-pyhd3eb1b0_0 
  pytz               pkgs/main/win-64::pytz-2025.2-py312haa95532_0 
  pyyaml             pkgs/main/win-64::pyyaml-6.0.3-py312hb9a58be_0 
  referencing        pkgs/main/win-64::referencing-0.37.0-py312haa95532_0 
  reproc             pkgs/main/win-64::reproc-14.2.4-hd77b12b_2 
  reproc-cpp         pkgs/main/win-64::reproc-cpp-14.2.4-hd77b12b_2 
  requests           pkgs/main/win-64::requests-2.32.5-py312haa95532_1 
  rpds-py            pkgs/main/win-64::rpds-py-0.28.0-py312h114bc41_0 
  ruamel.yaml        pkgs/main/win-64::ruamel.yaml-0.18.16-py312hb9a58be_0 
  ruamel.yaml.clib   pkgs/main/win-64::ruamel.yaml.clib-0.2.14-py312hb9a58be_0 
  setuptools         pkgs/main/win-64::setuptools-80.9.0-py312haa95532_0 
  simdjson           pkgs/main/win-64::simdjson-3.10.1-h214f63a_0 
  soupsieve          pkgs/main/win-64::soupsieve-2.5-py312haa95532_0 
  sqlite             pkgs/main/win-64::sqlite-3.51.1-hda9a48d_0 
  tk                 pkgs/main/win-64::tk-8.6.15-hf199647_0 
  tqdm               pkgs/main/win-64::tqdm-4.67.1-py312h4442805_1 
  truststore         pkgs/main/win-64::truststore-0.10.1-py312haa95532_1 
  typing-extensions  pkgs/main/win-64::typing-extensions-4.15.0-py312haa95532_0 
  typing_extensions  pkgs/main/win-64::typing_extensions-4.15.0-py312haa95532_0 
  tzdata             pkgs/main/noarch::tzdata-2025c-he532380_0 
  ucrt               pkgs/main/win-64::ucrt-10.0.22621.0-haa95532_0 
  urllib3            pkgs/main/win-64::urllib3-2.6.3-py312haa95532_0 
  vc                 pkgs/main/win-64::vc-14.3-h2df5915_10 
  vc14_runtime       pkgs/main/win-64::vc14_runtime-14.44.35208-h4927774_10 
  vs2015_runtime     pkgs/main/win-64::vs2015_runtime-14.44.35208-ha6b5a95_10 
  win_inet_pton      pkgs/main/win-64::win_inet_pton-1.1.0-py312haa95532_1 
  xz                 pkgs/main/win-64::xz-5.6.4-h4754444_1 
  yaml               pkgs/main/win-64::yaml-0.2.5-he774522_0 
  yaml-cpp           pkgs/main/win-64::yaml-cpp-0.8.0-hd77b12b_1 
  zlib               pkgs/main/win-64::zlib-1.3.1-h02ab6af_0 
  zstandard          pkgs/main/win-64::zstandard-0.24.0-py312he335c29_0 
  zstd               pkgs/main/win-64::zstd-1.5.7-h56299aa_0 


Preparing transaction: ...working... done
Verifying transaction: ...working... done
Executing transaction: ...working... done
2026-01-22 14:24:35,904 - INFO - Running command: C:\miniconda3\condabin\conda.bat run --prefix C:\Users\task_176909145145160\bld C:\miniconda3\condabin\conda.bat build --cache-dir "_src_cache" --croot "C:\Users\task_176909145145160\tmp-pkg-extracted_mlwetkqm" --build-id-pat="" --source "C:\Users\task_176909145145160\tmp-pkg-extracted_bi8nvlys\info\recipe" --debug
2026-01-22 14:24:36,714 - INFO - DEBUG conda.gateways.logging:set_log_level(216): log_level set to 10
2026-01-22 14:24:36,718 - INFO - DEBUG conda.gateways.subprocess:subprocess_call(97): executing>> C:\Windows\system32\cmd.exe /d /c C:\Users\TASK_1~2\AppData\Local\Temp\tmp2k_d3qn5.bat
2026-01-22 14:24:40,470 - INFO - DEBUG conda.gateways.logging:set_log_level(216): log_level set to 10
2026-01-22 14:24:40,470 - INFO - WARNING: No numpy version specified in conda_build_config.yaml.  Falling back to default numpy value of 1.26
2026-01-22 14:24:40,471 - INFO - WARNING: Number of parsed outputs does not match detected raw metadata blocks. Identified output block may be wrong! If you are using Jinja conditionals to include or exclude outputs, consider using `skip: true  # [condition]` instead.
2026-01-22 14:24:40,471 - INFO - 
2026-01-22 14:24:40,471 - INFO - Adding in variants from internal_defaults
2026-01-22 14:24:40,471 - INFO - Adding in variants from C:\Users\task_176909145145160\tmp-pkg-extracted_bi8nvlys\info\recipe\conda_build_config.yaml
2026-01-22 14:24:40,471 - INFO - Source cache directory is: C:\Users\task_176909145145160\_src_cache\src_cache
2026-01-22 14:24:40,471 - INFO - Found source in cache: sphinx-9.0.0_dc75216d69.tar.gz
2026-01-22 14:24:40,471 - INFO - checking file pyproject.toml
2026-01-22 14:24:40,471 - INFO - patching file pyproject.toml
2026-01-22 14:24:40,471 - INFO - Extracting download
2026-01-22 14:24:40,471 - INFO - Applying patch: C:\Users\task_176909145145160\tmp-pkg-extracted_bi8nvlys\info\recipe\0001-reverting-pyproject-changes.patch
2026-01-22 14:24:40,471 - INFO - Applying patch: C:\Users\task_176909145145160\tmp-pkg-extracted_bi8nvlys\info\recipe\0001-reverting-pyproject-changes.patch with args:
2026-01-22 14:24:40,471 - INFO - ['-Np1', '-i', 'C:\\Users\\TASK_1~2\\AppData\\Local\\Temp\\tmpusm43vzi\\0001-reverting-pyproject-changes.patch.native', '--binary']
2026-01-22 14:24:40,471 - INFO - Patch analysis gives:
2026-01-22 14:24:40,471 - INFO - [[ RA-MD1LOVE ]] - [[                                  0001-reverting-pyproject-changes.patch ]]
2026-01-22 14:24:40,471 - INFO - 
2026-01-22 14:24:40,471 - INFO - Key:
2026-01-22 14:24:40,471 - INFO - 
2026-01-22 14:24:40,471 - INFO - R :: Reversible                       A :: Applicable
2026-01-22 14:24:40,471 - INFO - Y :: Build-prefix patch in use        M :: Minimal, non-amalgamated
2026-01-22 14:24:40,471 - INFO - D :: Dry-runnable                     N :: Patch level (1 is preferred)
2026-01-22 14:24:40,472 - INFO - L :: Patch level not-ambiguous        O :: Patch applies without offsets
2026-01-22 14:24:40,472 - INFO - V :: Patch applies without fuzz       E :: Patch applies without emitting to stderr
2026-01-22 14:24:40,472 - INFO - 
2026-01-22 14:24:40,472 - INFO - Source tree in: C:\Users\task_176909145145160\tmp-pkg-extracted_mlwetkqm\sphinx-9.0.0_1769091878765\work
2026-01-22 14:24:40,472 - INFO - 
2026-01-22 14:24:40,472 - INFO - 
2026-01-22 14:24:40,472 - INFO - ####################################################################################
2026-01-22 14:24:40,472 - INFO - Source and build intermediates have been left in C:\Users\task_176909145145160\tmp-pkg-extracted_mlwetkqm.
2026-01-22 14:24:40,472 - INFO - There are currently 1 accumulated.
2026-01-22 14:24:40,472 - INFO - To remove them, you can run the ```conda build purge``` command
2026-01-22 14:24:40,472 - INFO - 
2026-01-22 14:24:40,847 - INFO - Skipping signing of C:\Users\task_176909145145160\tmp-pkg-extracted_bi8nvlys\info\test\tests\roots\test-ext-apidoc-duplicates\fish_licence\halibut.pyd. Found identical file at sphinx-9.0.0_1769091878765\work\sphinx\py.typed.
2026-01-22 14:24:40,883 - INFO - Running command: Powershell -c "$sig = Get-AuthenticodeSignature -LiteralPath C:\Users\task_176909145145160\tmp-pkg-extracted_bi8nvlys\Scripts\sphinx-apidoc.exe; $sig.SignerCertificate.Thumbprint"
2026-01-22 14:24:41,977 - INFO - F48A1BF45E2E91311F0F927111AF04C30DEB9AB7
2026-01-22 14:24:42,002 - INFO - Skipping signing of C:\Users\task_176909145145160\tmp-pkg-extracted_bi8nvlys\Scripts\sphinx-apidoc.exe. Already signed.
2026-01-22 14:24:42,002 - INFO - Running command: Powershell -c "$sig = Get-AuthenticodeSignature -LiteralPath C:\Users\task_176909145145160\tmp-pkg-extracted_bi8nvlys\Scripts\sphinx-autogen.exe; $sig.SignerCertificate.Thumbprint"
2026-01-22 14:24:43,084 - INFO - F48A1BF45E2E91311F0F927111AF04C30DEB9AB7
2026-01-22 14:24:43,107 - INFO - Skipping signing of C:\Users\task_176909145145160\tmp-pkg-extracted_bi8nvlys\Scripts\sphinx-autogen.exe. Already signed.
2026-01-22 14:24:43,107 - INFO - Running command: Powershell -c "$sig = Get-AuthenticodeSignature -LiteralPath C:\Users\task_176909145145160\tmp-pkg-extracted_bi8nvlys\Scripts\sphinx-build.exe; $sig.SignerCertificate.Thumbprint"
2026-01-22 14:24:44,189 - INFO - F48A1BF45E2E91311F0F927111AF04C30DEB9AB7
2026-01-22 14:24:44,213 - INFO - Skipping signing of C:\Users\task_176909145145160\tmp-pkg-extracted_bi8nvlys\Scripts\sphinx-build.exe. Already signed.
2026-01-22 14:24:44,214 - INFO - Running command: Powershell -c "$sig = Get-AuthenticodeSignature -LiteralPath C:\Users\task_176909145145160\tmp-pkg-extracted_bi8nvlys\Scripts\sphinx-quickstart.exe; $sig.SignerCertificate.Thumbprint"
2026-01-22 14:24:45,314 - INFO - F48A1BF45E2E91311F0F927111AF04C30DEB9AB7
2026-01-22 14:24:45,337 - INFO - Skipping signing of C:\Users\task_176909145145160\tmp-pkg-extracted_bi8nvlys\Scripts\sphinx-quickstart.exe. Already signed.
2026-01-22 14:24:45,775 - INFO - Running command: powershell -c "cd 'C:\Users\task_176909145145160\tmp-pkg-extracted_bi8nvlys'; Get-ChildItem -Path . -Recurse -Include *.exe, *.dll, *.pyd, *.ps1 | ForEach-Object {      Get-AuthenticodeSignature -LiteralPath $_  } |  ForEach-Object {    [pscustomobject]@{      SignerCertificate = $_.SignerCertificate.Thumbprint;     Status = $_.status;     Path = Resolve-Path -Relative $_.Path;     SignatureType = $_.SignatureType;     Message = $_.StatusMessage;   }} | Format-List"
2026-01-22 14:24:47,202 - INFO - 
2026-01-22 14:24:47,207 - INFO - 
2026-01-22 14:24:47,222 - INFO - SignerCertificate :
2026-01-22 14:24:47,222 - INFO - Status            : UnknownError
2026-01-22 14:24:47,222 - INFO - Path              : .\info\test\tests\roots\test-ext-apidoc-duplicates\fish_licence\halibut.pyd
2026-01-22 14:24:47,222 - INFO - SignatureType     : None
2026-01-22 14:24:47,222 - INFO - Message           : The form specified for the subject is not one supported or known by the specified trust provider
2026-01-22 14:24:47,222 - INFO - 
2026-01-22 14:24:47,410 - INFO - SignerCertificate : F48A1BF45E2E91311F0F927111AF04C30DEB9AB7
2026-01-22 14:24:47,410 - INFO - Status            : Valid
2026-01-22 14:24:47,410 - INFO - Path              : .\Scripts\sphinx-apidoc.exe
2026-01-22 14:24:47,410 - INFO - SignatureType     : Authenticode
2026-01-22 14:24:47,410 - INFO - Message           : Signature verified.
2026-01-22 14:24:47,410 - INFO - 
2026-01-22 14:24:47,440 - INFO - SignerCertificate : F48A1BF45E2E91311F0F927111AF04C30DEB9AB7
2026-01-22 14:24:47,440 - INFO - Status            : Valid
2026-01-22 14:24:47,441 - INFO - Path              : .\Scripts\sphinx-autogen.exe
2026-01-22 14:24:47,441 - INFO - SignatureType     : Authenticode
2026-01-22 14:24:47,441 - INFO - Message           : Signature verified.
2026-01-22 14:24:47,441 - INFO - 
2026-01-22 14:24:47,471 - INFO - SignerCertificate : F48A1BF45E2E91311F0F927111AF04C30DEB9AB7
2026-01-22 14:24:47,471 - INFO - Status            : Valid
2026-01-22 14:24:47,471 - INFO - Path              : .\Scripts\sphinx-build.exe
2026-01-22 14:24:47,471 - INFO - SignatureType     : Authenticode
2026-01-22 14:24:47,471 - INFO - Message           : Signature verified.
2026-01-22 14:24:47,471 - INFO - 
2026-01-22 14:24:47,500 - INFO - SignerCertificate : F48A1BF45E2E91311F0F927111AF04C30DEB9AB7
2026-01-22 14:24:47,501 - INFO - Status            : Valid
2026-01-22 14:24:47,501 - INFO - Path              : .\Scripts\sphinx-quickstart.exe
2026-01-22 14:24:47,501 - INFO - SignatureType     : Authenticode
2026-01-22 14:24:47,501 - INFO - Message           : Signature verified.
2026-01-22 14:24:47,501 - INFO - 
2026-01-22 14:24:47,502 - INFO - 
2026-01-22 14:24:47,502 - INFO - 
2026-01-22 14:24:47,529 - INFO - Nothing signed for C:\Users\task_176909145145160\public\win-64\sphinx-9.0.0-py311h1c6eee0_0.tar.bz2
2026-01-22 14:24:47,914 - INFO - No package was signed by automation. Using original package(s).
Archiving the conda packages in the public folder...
Conda packages archived successfully.
[taskcluster 2026-01-22T14:24:48.775Z]                        Exit Code: 0
[taskcluster 2026-01-22T14:24:48.775Z]                        User Time: 15.625ms
[taskcluster 2026-01-22T14:24:48.775Z]                      Kernel Time: 31.25ms
[taskcluster 2026-01-22T14:24:48.775Z]                        Wall Time: 1m32.0735782s
[taskcluster 2026-01-22T14:24:48.775Z]  Average Available System Memory: 60.70 GiB
[taskcluster 2026-01-22T14:24:48.775Z]       Average System Memory Used: 2.60 GiB
[taskcluster 2026-01-22T14:24:48.775Z]          Peak System Memory Used: 2.90 GiB
[taskcluster 2026-01-22T14:24:48.775Z]              Total System Memory: 63.30 GiB
[taskcluster 2026-01-22T14:24:48.775Z]                           Result: SUCCEEDED
[taskcluster 2026-01-22T14:24:48.775Z] === Task Finished ===
[taskcluster 2026-01-22T14:24:48.775Z] Task Duration: 7m7.7096665s
[taskcluster 2026-01-22T14:24:49.100Z] Uploading artifact public/source_cache/dc75216d69e00f170cb236eee17e66bcd89c4c2b5fe938ca8532fd7fe5abb23f-_-sphinx-9.0.0_dc75216d69.tar.gz from file C:\Users\task_176909145145160\public\source_cache\dc75216d69e00f170cb236eee17e66bcd89c4c2b5fe938ca8532fd7fe5abb23f-_-sphinx-9.0.0_dc75216d69.tar.gz with content encoding "identity", mime type "application/x-gzip" and expiry 2027-01-25T14:16:38.906Z
[taskcluster 2026-01-22T14:24:49.103Z] Uploading artifact public/win-64/sphinx-9.0.0-py311h1c6eee0_0.tar.bz2 from file C:\Users\task_176909145145160\public\win-64\sphinx-9.0.0-py311h1c6eee0_0.tar.bz2 with content encoding "identity", mime type "application/x-compressed" and expiry 2027-01-25T14:16:38.906Z
[taskcluster 2026-01-22T14:24:49.135Z] Uploading artifact public/packages.tgz from file C:\Users\task_176909145145160\public\packages.tgz with content encoding "identity", mime type "application/x-compressed" and expiry 2027-01-25T14:16:38.906Z
[taskcluster 2026-01-22T14:24:49.140Z] Uploading artifact public/source_cached.tgz from file C:\Users\task_176909145145160\public\source_cached.tgz with content encoding "identity", mime type "application/x-compressed" and expiry 2027-01-25T14:16:38.906Z
[taskcluster 2026-01-22T14:24:49.164Z] Uploading artifact public/win-64/sphinx-9.0.0-py311h1c6eee0_0.conda from file C:\Users\task_176909145145160\public\win-64\sphinx-9.0.0-py311h1c6eee0_0.conda with content encoding "identity", mime type "application/octet-stream" and expiry 2027-01-25T14:16:38.906Z
[taskcluster 2026-01-22T14:24:49.592Z] Uploading link artifact public/logs/live.log to artifact public/logs/live_backing.log with expiry 2027-01-25T14:16:38.906Z
